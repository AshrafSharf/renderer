var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var Event = require("awayjs-core/lib/events/Event");
var EventDispatcher = require("awayjs-core/lib/events/EventDispatcher");
var ArgumentError = require("awayjs-core/lib/errors/ArgumentError");
var BlendMode = require("awayjs-display/lib/base/BlendMode");
var LineSubGeometry = require("awayjs-display/lib/base/LineSubGeometry");
var TriangleSubGeometry = require("awayjs-display/lib/base/TriangleSubGeometry");
var ContextGLCompareMode = require("awayjs-stagegl/lib/base/ContextGLCompareMode");
var ContextGLTriangleFace = require("awayjs-stagegl/lib/base/ContextGLTriangleFace");
var ContextGLBlendFactor = require("awayjs-stagegl/lib/base/ContextGLBlendFactor");
var ShaderCompilerBase = require("awayjs-renderergl/lib/compilation/ShaderCompilerBase");
/**
 * ShaderObjectBase keeps track of the number of dependencies for "named registers" used across a pass.
 * Named registers are that are not necessarily limited to a single method. They are created by the compiler and
 * passed on to methods. The compiler uses the results to reserve usages through RegisterPool, which can be removed
 * each time a method has been compiled into the shader.
 *
 * @see RegisterPool.addUsage
 */
var ShaderObjectBase = (function (_super) {
    __extends(ShaderObjectBase, _super);
    /**
     * Creates a new MethodCompilerVO object.
     */
    function ShaderObjectBase(renderObjectOwner, renderableClass, renderObject, stage) {
        _super.call(this);
        this.depthCompareMode = ContextGLCompareMode.LESS_EQUAL;
        this._invalidShader = true;
        this._invalidProgram = true;
        this._animationVertexCode = "";
        this._animationFragmentCode = "";
        this._enableBlending = false;
        this._blendFactorSource = ContextGLBlendFactor.ONE;
        this._blendFactorDest = ContextGLBlendFactor.ZERO;
        this.writeDepth = true;
        this._defaultCulling = ContextGLTriangleFace.BACK;
        this._pInverseSceneMatrix = new Array();
        //set ambient values to default
        this.ambientR = 0xFF;
        this.ambientG = 0xFF;
        this.ambientB = 0xFF;
        /**
         * Indicates whether there are any dependencies on the world-space position vector.
         */
        this.usesGlobalPosFragment = false;
        this.vertexConstantData = new Array();
        this.fragmentConstantData = new Array();
        this._renderObjectOwner = renderObjectOwner;
        this._renderableClass = renderableClass;
        this._renderObject = renderObject;
        this._stage = stage;
        this.profile = this._stage.profile;
    }
    Object.defineProperty(ShaderObjectBase.prototype, "programData", {
        get: function () {
            if (this._invalidProgram)
                this._updateProgram();
            return this._programData;
        },
        enumerable: true,
        configurable: true
    });
    ShaderObjectBase.prototype._iIncludeDependencies = function () {
        this.alphaThreshold = this._renderObjectOwner.alphaThreshold;
        this.useMipmapping = this._renderObjectOwner.mipmap;
        this.useSmoothTextures = this._renderObjectOwner.smooth;
    };
    /**
     * Factory method to create a concrete compiler object for this object
     *
     * @param renderableClass
     * @param renderObject
     * @param stage
     * @returns {ShaderCompilerBase}
     */
    ShaderObjectBase.prototype.createCompiler = function (renderableClass, renderObject) {
        return new ShaderCompilerBase(renderableClass, renderObject, this);
    };
    /**
     * Clears dependency counts for all registers. Called when recompiling a pass.
     */
    ShaderObjectBase.prototype.reset = function () {
        this.projectionDependencies = 0;
        this.normalDependencies = 0;
        this.colorDependencies = 0;
        this.viewDirDependencies = 0;
        this.uvDependencies = 0;
        this.secondaryUVDependencies = 0;
        this.globalPosDependencies = 0;
        this.tangentDependencies = 0;
        this.usesGlobalPosFragment = false;
        this.usesFragmentAnimation = false;
        this.usesTangentSpace = false;
        this.outputsNormals = false;
        this.outputsTangentNormals = false;
    };
    ShaderObjectBase.prototype.pInitRegisterIndices = function () {
        this.commonsDataIndex = -1;
        this.cameraPositionIndex = -1;
        this.uvBufferIndex = -1;
        this.uvTransformIndex = -1;
        this.secondaryUVBufferIndex = -1;
        this.normalBufferIndex = -1;
        this.colorBufferIndex = -1;
        this.tangentBufferIndex = -1;
        this.sceneMatrixIndex = -1;
        this.sceneNormalMatrixIndex = -1;
    };
    /**
     * Initializes the unchanging constant data for this shader object.
     */
    ShaderObjectBase.prototype.initConstantData = function (registerCache, animatableAttributes, animationTargetRegisters, uvSource, uvTarget) {
        //Updates the amount of used register indices.
        this.numUsedVertexConstants = registerCache.numUsedVertexConstants;
        this.numUsedFragmentConstants = registerCache.numUsedFragmentConstants;
        this.numUsedStreams = registerCache.numUsedStreams;
        this.numUsedTextures = registerCache.numUsedTextures;
        this.numUsedVaryings = registerCache.numUsedVaryings;
        this.numUsedFragmentConstants = registerCache.numUsedFragmentConstants;
        this.animatableAttributes = animatableAttributes;
        this.animationTargetRegisters = animationTargetRegisters;
        this.uvSource = uvSource;
        this.uvTarget = uvTarget;
        this.vertexConstantData.length = this.numUsedVertexConstants * 4;
        this.fragmentConstantData.length = this.numUsedFragmentConstants * 4;
        //Initializes commonly required constant values.
        this.fragmentConstantData[this.commonsDataIndex] = .5;
        this.fragmentConstantData[this.commonsDataIndex + 1] = 0;
        this.fragmentConstantData[this.commonsDataIndex + 2] = 1 / 255;
        this.fragmentConstantData[this.commonsDataIndex + 3] = 1;
        //Initializes the default UV transformation matrix.
        if (this.uvTransformIndex >= 0) {
            this.vertexConstantData[this.uvTransformIndex] = 1;
            this.vertexConstantData[this.uvTransformIndex + 1] = 0;
            this.vertexConstantData[this.uvTransformIndex + 2] = 0;
            this.vertexConstantData[this.uvTransformIndex + 3] = 0;
            this.vertexConstantData[this.uvTransformIndex + 4] = 0;
            this.vertexConstantData[this.uvTransformIndex + 5] = 1;
            this.vertexConstantData[this.uvTransformIndex + 6] = 0;
            this.vertexConstantData[this.uvTransformIndex + 7] = 0;
        }
        if (this.cameraPositionIndex >= 0)
            this.vertexConstantData[this.cameraPositionIndex + 3] = 1;
    };
    /**
     * @inheritDoc
     */
    ShaderObjectBase.prototype._iActivate = function (camera) {
        if (this.usesAnimation)
            this._renderObjectOwner.animationSet.activate(this, this._stage);
        this._stage.context.setDepthTest((this.writeDepth && !this._enableBlending), this.depthCompareMode);
        if (this._enableBlending)
            this._stage.context.setBlendFactors(this._blendFactorSource, this._blendFactorDest);
        this._stage.context.setCulling(this.useBothSides ? ContextGLTriangleFace.NONE : this._defaultCulling, camera.projection.coordinateSystem);
        if (!this.usesTangentSpace && this.cameraPositionIndex >= 0) {
            var pos = camera.scenePosition;
            this.vertexConstantData[this.cameraPositionIndex] = pos.x;
            this.vertexConstantData[this.cameraPositionIndex + 1] = pos.y;
            this.vertexConstantData[this.cameraPositionIndex + 2] = pos.z;
        }
    };
    /**
     * @inheritDoc
     */
    ShaderObjectBase.prototype._iDeactivate = function () {
        if (this.usesAnimation)
            this._renderObjectOwner.animationSet.deactivate(this, this._stage);
        this._stage.context.setDepthTest(true, ContextGLCompareMode.LESS_EQUAL); // TODO : imeplement
    };
    /**
     *
     *
     * @param renderable
     * @param stage
     * @param camera
     */
    ShaderObjectBase.prototype._iRender = function (renderable, camera, viewProjection) {
        if (renderable.renderableOwner.animator)
            renderable.renderableOwner.animator.setRenderState(this, renderable, this._stage, camera, this.numUsedVertexConstants, this.numUsedStreams);
        if (this.uvBufferIndex >= 0)
            this._stage.activateBuffer(this.uvBufferIndex, renderable.getVertexData(TriangleSubGeometry.UV_DATA), renderable.getVertexOffset(TriangleSubGeometry.UV_DATA), TriangleSubGeometry.UV_FORMAT);
        if (this.secondaryUVBufferIndex >= 0)
            this._stage.activateBuffer(this.secondaryUVBufferIndex, renderable.getVertexData(TriangleSubGeometry.SECONDARY_UV_DATA), renderable.getVertexOffset(TriangleSubGeometry.SECONDARY_UV_DATA), TriangleSubGeometry.SECONDARY_UV_FORMAT);
        if (this.normalBufferIndex >= 0)
            this._stage.activateBuffer(this.normalBufferIndex, renderable.getVertexData(TriangleSubGeometry.NORMAL_DATA), renderable.getVertexOffset(TriangleSubGeometry.NORMAL_DATA), TriangleSubGeometry.NORMAL_FORMAT);
        if (this.tangentBufferIndex >= 0)
            this._stage.activateBuffer(this.tangentBufferIndex, renderable.getVertexData(TriangleSubGeometry.TANGENT_DATA), renderable.getVertexOffset(TriangleSubGeometry.TANGENT_DATA), TriangleSubGeometry.TANGENT_FORMAT);
        if (this.colorBufferIndex >= 0)
            this._stage.activateBuffer(this.colorBufferIndex, renderable.getVertexData(LineSubGeometry.COLOR_DATA), renderable.getVertexOffset(LineSubGeometry.COLOR_DATA), LineSubGeometry.COLOR_FORMAT);
        if (this.usesUVTransform) {
            var uvTransform = renderable.renderableOwner.uvTransform.matrix;
            if (uvTransform) {
                this.vertexConstantData[this.uvTransformIndex] = uvTransform.a;
                this.vertexConstantData[this.uvTransformIndex + 1] = uvTransform.b;
                this.vertexConstantData[this.uvTransformIndex + 3] = uvTransform.tx;
                this.vertexConstantData[this.uvTransformIndex + 4] = uvTransform.c;
                this.vertexConstantData[this.uvTransformIndex + 5] = uvTransform.d;
                this.vertexConstantData[this.uvTransformIndex + 7] = uvTransform.ty;
            }
            else {
                this.vertexConstantData[this.uvTransformIndex] = 1;
                this.vertexConstantData[this.uvTransformIndex + 1] = 0;
                this.vertexConstantData[this.uvTransformIndex + 3] = 0;
                this.vertexConstantData[this.uvTransformIndex + 4] = 0;
                this.vertexConstantData[this.uvTransformIndex + 5] = 1;
                this.vertexConstantData[this.uvTransformIndex + 7] = 0;
            }
        }
        if (this.sceneNormalMatrixIndex >= 0)
            renderable.sourceEntity.inverseSceneTransform.copyRawDataTo(this.vertexConstantData, this.sceneNormalMatrixIndex, false);
        if (this.usesTangentSpace && this.cameraPositionIndex >= 0) {
            renderable.sourceEntity.inverseSceneTransform.copyRawDataTo(this._pInverseSceneMatrix);
            var pos = camera.scenePosition;
            var x = pos.x;
            var y = pos.y;
            var z = pos.z;
            this.vertexConstantData[this.cameraPositionIndex] = this._pInverseSceneMatrix[0] * x + this._pInverseSceneMatrix[4] * y + this._pInverseSceneMatrix[8] * z + this._pInverseSceneMatrix[12];
            this.vertexConstantData[this.cameraPositionIndex + 1] = this._pInverseSceneMatrix[1] * x + this._pInverseSceneMatrix[5] * y + this._pInverseSceneMatrix[9] * z + this._pInverseSceneMatrix[13];
            this.vertexConstantData[this.cameraPositionIndex + 2] = this._pInverseSceneMatrix[2] * x + this._pInverseSceneMatrix[6] * y + this._pInverseSceneMatrix[10] * z + this._pInverseSceneMatrix[14];
        }
    };
    /**
     * The blend mode to use when drawing this renderable. The following blend modes are supported:
     * <ul>
     * <li>BlendMode.NORMAL: No blending, unless the material inherently needs it</li>
     * <li>BlendMode.LAYER: Force blending. This will draw the object the same as NORMAL, but without writing depth writes.</li>
     * <li>BlendMode.MULTIPLY</li>
     * <li>BlendMode.ADD</li>
     * <li>BlendMode.ALPHA</li>
     * </ul>
     */
    ShaderObjectBase.prototype.setBlendMode = function (value) {
        switch (value) {
            case BlendMode.NORMAL:
                this._blendFactorSource = ContextGLBlendFactor.ONE;
                this._blendFactorDest = ContextGLBlendFactor.ZERO;
                this._enableBlending = false;
                break;
            case BlendMode.LAYER:
                this._blendFactorSource = ContextGLBlendFactor.SOURCE_ALPHA;
                this._blendFactorDest = ContextGLBlendFactor.ONE_MINUS_SOURCE_ALPHA;
                this._enableBlending = true;
                break;
            case BlendMode.MULTIPLY:
                this._blendFactorSource = ContextGLBlendFactor.ZERO;
                this._blendFactorDest = ContextGLBlendFactor.SOURCE_COLOR;
                this._enableBlending = true;
                break;
            case BlendMode.ADD:
                this._blendFactorSource = ContextGLBlendFactor.SOURCE_ALPHA;
                this._blendFactorDest = ContextGLBlendFactor.ONE;
                this._enableBlending = true;
                break;
            case BlendMode.ALPHA:
                this._blendFactorSource = ContextGLBlendFactor.ZERO;
                this._blendFactorDest = ContextGLBlendFactor.SOURCE_ALPHA;
                this._enableBlending = true;
                break;
            default:
                throw new ArgumentError("Unsupported blend mode!");
        }
    };
    ShaderObjectBase.prototype.invalidateProgram = function () {
        this._invalidProgram = true;
    };
    ShaderObjectBase.prototype.invalidateShader = function () {
        this._invalidShader = true;
        this._invalidProgram = true;
        this.dispatchEvent(new Event(Event.CHANGE));
    };
    ShaderObjectBase.prototype.dispose = function () {
        this._programData.dispose();
        this._programData = null;
    };
    ShaderObjectBase.prototype._updateProgram = function () {
        this._invalidProgram = false;
        var compiler;
        if (this._invalidShader) {
            this._invalidShader = false;
            compiler = this.createCompiler(this._renderableClass, this._renderObject);
            compiler.compile();
        }
        this._calcAnimationCode(compiler.shadedTarget);
        var programData = this._stage.getProgramData(this._animationVertexCode + compiler.vertexCode, compiler.fragmentCode + this._animationFragmentCode + compiler.postAnimationFragmentCode);
        //check program data hasn't changed, keep count of program usages
        if (this._programData != programData) {
            if (this._programData)
                this._programData.dispose();
            this._programData = programData;
            programData.usages++;
        }
    };
    ShaderObjectBase.prototype._calcAnimationCode = function (shadedTarget) {
        //reset code
        this._animationVertexCode = "";
        this._animationFragmentCode = "";
        //check to see if GPU animation is used
        if (this.usesAnimation) {
            var animationSet = this._renderObjectOwner.animationSet;
            this._animationVertexCode += animationSet.getAGALVertexCode(this);
            if (this.uvDependencies > 0 && !this.usesUVTransform)
                this._animationVertexCode += animationSet.getAGALUVCode(this);
            if (this.usesFragmentAnimation)
                this._animationFragmentCode += animationSet.getAGALFragmentCode(this, shadedTarget);
            animationSet.doneAGALCode(this);
        }
        else {
            // simply write attributes to targets, do not animate them
            // projection will pick up on targets[0] to do the projection
            var len = this.animatableAttributes.length;
            for (var i = 0; i < len; ++i)
                this._animationVertexCode += "mov " + this.animationTargetRegisters[i] + ", " + this.animatableAttributes[i] + "\n";
            if (this.uvDependencies > 0 && !this.usesUVTransform)
                this._animationVertexCode += "mov " + this.uvTarget + "," + this.uvSource + "\n";
        }
    };
    return ShaderObjectBase;
})(EventDispatcher);
module.exports = ShaderObjectBase;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9jb21waWxhdGlvbi9zaGFkZXJvYmplY3RiYXNlLnRzIl0sIm5hbWVzIjpbIlNoYWRlck9iamVjdEJhc2UiLCJTaGFkZXJPYmplY3RCYXNlLmNvbnN0cnVjdG9yIiwiU2hhZGVyT2JqZWN0QmFzZS5wcm9ncmFtRGF0YSIsIlNoYWRlck9iamVjdEJhc2UuX2lJbmNsdWRlRGVwZW5kZW5jaWVzIiwiU2hhZGVyT2JqZWN0QmFzZS5jcmVhdGVDb21waWxlciIsIlNoYWRlck9iamVjdEJhc2UucmVzZXQiLCJTaGFkZXJPYmplY3RCYXNlLnBJbml0UmVnaXN0ZXJJbmRpY2VzIiwiU2hhZGVyT2JqZWN0QmFzZS5pbml0Q29uc3RhbnREYXRhIiwiU2hhZGVyT2JqZWN0QmFzZS5faUFjdGl2YXRlIiwiU2hhZGVyT2JqZWN0QmFzZS5faURlYWN0aXZhdGUiLCJTaGFkZXJPYmplY3RCYXNlLl9pUmVuZGVyIiwiU2hhZGVyT2JqZWN0QmFzZS5zZXRCbGVuZE1vZGUiLCJTaGFkZXJPYmplY3RCYXNlLmludmFsaWRhdGVQcm9ncmFtIiwiU2hhZGVyT2JqZWN0QmFzZS5pbnZhbGlkYXRlU2hhZGVyIiwiU2hhZGVyT2JqZWN0QmFzZS5kaXNwb3NlIiwiU2hhZGVyT2JqZWN0QmFzZS5fdXBkYXRlUHJvZ3JhbSIsIlNoYWRlck9iamVjdEJhc2UuX2NhbGNBbmltYXRpb25Db2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFLQSxJQUFPLEtBQUssV0FBZ0IsOEJBQThCLENBQUMsQ0FBQztBQUM1RCxJQUFPLGVBQWUsV0FBYyx3Q0FBd0MsQ0FBQyxDQUFDO0FBQzlFLElBQU8sYUFBYSxXQUFjLHNDQUFzQyxDQUFDLENBQUM7QUFHMUUsSUFBTyxTQUFTLFdBQWUsbUNBQW1DLENBQUMsQ0FBQztBQUNwRSxJQUFPLGVBQWUsV0FBYyx5Q0FBeUMsQ0FBQyxDQUFDO0FBQy9FLElBQU8sbUJBQW1CLFdBQWEsNkNBQTZDLENBQUMsQ0FBQztBQUt0RixJQUFP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QSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEVBQUVBLFVBQVVBLENBQUNBLGFBQWFBLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLEVBQUVBLFVBQVVBLENBQUNBLGVBQWVBLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLEVBQUVBLGVBQWVBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO1FBRy9MQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUMxQkEsSUFBSUEsV0FBV0EsR0FBVUEsVUFBVUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsTUFBTUEsQ0FBQ0E7WUFFdkVBLEVBQUVBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO2dCQUNqQkEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEdBQUdBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO2dCQUMvREEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO2dCQUNuRUEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLFdBQVdBLENBQUNBLEVBQUVBLENBQUNBO2dCQUNwRUEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO2dCQUNuRUEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO2dCQUNuRUEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLFdBQVdBLENBQUNBLEVBQUVBLENBQUNBO1lBQ3JFQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDUEEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUNuREEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUN2REEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUN2REEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUN2REEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUN2REEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1lBQ3hEQSxDQUFDQTtRQUNGQSxDQUFDQTtRQUVEQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxzQkFBc0JBLElBQUlBLENBQUNBLENBQUNBO1lBQ3BDQSxVQUFVQSxDQUFDQSxZQUFZQSxDQUFDQSxxQkFBcUJBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLGtCQUFrQkEsRUFBRUEsSUFBSUEsQ0FBQ0Esc0JBQXNCQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtRQUUxSEEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxJQUFJQSxJQUFJQSxDQUFDQSxtQkFBbUJBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBRTVEQSxVQUFVQSxDQUFDQSxZQUFZQSxDQUFDQSxxQkFBcUJBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0E7WUFDdkZBLElBQUlBLEdBQUdBLEdBQVlBLE1BQU1BLENBQUNBLGFBQWFBLENBQUNBO1lBQ3hDQSxJQUFJQSxDQUFDQSxHQUFVQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNyQkEsSUFBSUEsQ0FBQ0EsR0FBVUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDckJBLElBQUlBLENBQUNBLEdBQVVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1lBRXJCQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLElBQUlBLENBQUNBLG1CQUFtQkEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUNyTEEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxtQkFBbUJBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsRUFB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Q0FBQ0E7UUFFakNBLENBQUNBO1FBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ1BBLEFBRUFBLDBEQUYwREE7WUFDMURBLDZEQUE2REE7Z0JBQ3pEQSxHQUFHQSxHQUFVQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLE1BQU1BLENBQUNBO1lBQ2xEQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFVQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxHQUFHQSxFQUFFQSxFQUFFQSxDQUFDQTtnQkFDbENBLElBQUlBLENBQUNBLG9CQUFvQkEsSUFBSUEsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0Esd0JBQXdCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1lBRXJIQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQTtnQkFDcERBLElBQUlBLENBQUNBLG9CQUFvQkEsSUFBSUEsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsR0FBR0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDbkZBLENBQUNBO0lBQ0ZBLENBQUNBO0lBQ0ZoQix1QkFBQ0E7QUFBREEsQ0E1aUJBLEFBNGlCQ0EsRUE1aUI4QixlQUFlLEVBNGlCN0M7QUFFRCxBQUEwQixpQkFBakIsZ0JBQWdCLENBQUMiLCJmaWxlIjoiY29tcGlsYXRpb24vU2hhZGVyT2JqZWN0QmFzZS5qcyIsInNvdXJjZVJvb3QiOiIuLi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTWF0cml4XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vTWF0cml4XCIpO1xuaW1wb3J0IE1hdHJpeDNEXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vTWF0cml4M0RcIik7XG5pbXBvcnQgTWF0cml4M0RVdGlsc1x0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vTWF0cml4M0RVdGlsc1wiKTtcbmltcG9ydCBSZWN0YW5nbGVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vUmVjdGFuZ2xlXCIpO1xuaW1wb3J0IFZlY3RvcjNEXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vVmVjdG9yM0RcIik7XG5pbXBvcnQgRXZlbnRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZXZlbnRzL0V2ZW50XCIpO1xuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2V2ZW50cy9FdmVudERpc3BhdGNoZXJcIik7XG5pbXBvcnQgQXJndW1lbnRFcnJvclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2Vycm9ycy9Bcmd1bWVudEVycm9yXCIpO1xuaW1wb3J0IFRleHR1cmUyREJhc2VcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi90ZXh0dXJlcy9UZXh0dXJlMkRCYXNlXCIpO1xuXG5pbXBvcnQgQmxlbmRNb2RlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL0JsZW5kTW9kZVwiKTtcbmltcG9ydCBMaW5lU3ViR2VvbWV0cnlcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL0xpbmVTdWJHZW9tZXRyeVwiKTtcbmltcG9ydCBUcmlhbmdsZVN1Ykdlb21ldHJ5XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2Jhc2UvVHJpYW5nbGVTdWJHZW9tZXRyeVwiKTtcbmltcG9ydCBJUmVuZGVyT2JqZWN0T3duZXJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9JUmVuZGVyT2JqZWN0T3duZXJcIik7XG5pbXBvcnQgQ2FtZXJhXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL0NhbWVyYVwiKTtcblxuaW1wb3J0IElDb250ZXh0R0xcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvSUNvbnRleHRHTFwiKTtcbmltcG9ydCBDb250ZXh0R0xDb21wYXJlTW9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0NvbnRleHRHTENvbXBhcmVNb2RlXCIpO1xuaW1wb3J0IENvbnRleHRHTFRyaWFuZ2xlRmFjZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xUcmlhbmdsZUZhY2VcIik7XG5pbXBvcnQgQ29udGV4dEdMQmxlbmRGYWN0b3JcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xCbGVuZEZhY3RvclwiKTtcbmltcG9ydCBTdGFnZVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL1N0YWdlXCIpO1xuaW1wb3J0IFByb2dyYW1EYXRhXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9wb29sL1Byb2dyYW1EYXRhXCIpO1xuXG5pbXBvcnQgQW5pbWF0aW9uU2V0QmFzZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9BbmltYXRpb25TZXRCYXNlXCIpO1xuaW1wb3J0IEFuaW1hdG9yQmFzZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL0FuaW1hdG9yQmFzZVwiKTtcbmltcG9ydCBBbmltYXRpb25SZWdpc3RlckNhY2hlXHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvZGF0YS9BbmltYXRpb25SZWdpc3RlckNhY2hlXCIpO1xuaW1wb3J0IFJlbmRlcmFibGVCYXNlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9SZW5kZXJhYmxlQmFzZVwiKTtcbmltcG9ydCBJUmVuZGVyT2JqZWN0QmFzZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9jb21waWxhdGlvbi9JUmVuZGVyT2JqZWN0QmFzZVwiKTtcbmltcG9ydCBTaGFkZXJDb21waWxlckJhc2VcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvY29tcGlsYXRpb24vU2hhZGVyQ29tcGlsZXJCYXNlXCIpO1xuaW1wb3J0IFNoYWRlclJlZ2lzdGVyQ2FjaGVcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvY29tcGlsYXRpb24vU2hhZGVyUmVnaXN0ZXJDYWNoZVwiKTtcbmltcG9ydCBJUmVuZGVyYWJsZUNsYXNzXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9JUmVuZGVyYWJsZUNsYXNzXCIpO1xuaW1wb3J0IFJlbmRlcmVyQmFzZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYmFzZS9SZW5kZXJlckJhc2VcIik7XG5cbi8qKlxuICogU2hhZGVyT2JqZWN0QmFzZSBrZWVwcyB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGRlcGVuZGVuY2llcyBmb3IgXCJuYW1lZCByZWdpc3RlcnNcIiB1c2VkIGFjcm9zcyBhIHBhc3MuXG4gKiBOYW1lZCByZWdpc3RlcnMgYXJlIHRoYXQgYXJlIG5vdCBuZWNlc3NhcmlseSBsaW1pdGVkIHRvIGEgc2luZ2xlIG1ldGhvZC4gVGhleSBhcmUgY3JlYXRlZCBieSB0aGUgY29tcGlsZXIgYW5kXG4gKiBwYXNzZWQgb24gdG8gbWV0aG9kcy4gVGhlIGNvbXBpbGVyIHVzZXMgdGhlIHJlc3VsdHMgdG8gcmVzZXJ2ZSB1c2FnZXMgdGhyb3VnaCBSZWdpc3RlclBvb2wsIHdoaWNoIGNhbiBiZSByZW1vdmVkXG4gKiBlYWNoIHRpbWUgYSBtZXRob2QgaGFzIGJlZW4gY29tcGlsZWQgaW50byB0aGUgc2hhZGVyLlxuICpcbiAqIEBzZWUgUmVnaXN0ZXJQb29sLmFkZFVzYWdlXG4gKi9cbmNsYXNzIFNoYWRlck9iamVjdEJhc2UgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXJcbntcblx0cHJpdmF0ZSBfcmVuZGVyT2JqZWN0T3duZXI6SVJlbmRlck9iamVjdE93bmVyO1xuXHRwcml2YXRlIF9yZW5kZXJhYmxlQ2xhc3M6SVJlbmRlcmFibGVDbGFzcztcblx0cHJpdmF0ZSBfcmVuZGVyT2JqZWN0OklSZW5kZXJPYmplY3RCYXNlO1xuXHRwdWJsaWMgX3N0YWdlOlN0YWdlO1xuXHRwcml2YXRlIF9wcm9ncmFtRGF0YTpQcm9ncmFtRGF0YTtcblxuXHRwdWJsaWMgZGVwdGhDb21wYXJlTW9kZTpzdHJpbmcgPSBDb250ZXh0R0xDb21wYXJlTW9kZS5MRVNTX0VRVUFMO1xuXG5cdHByaXZhdGUgX2ludmFsaWRTaGFkZXI6Ym9vbGVhbiA9IHRydWU7XG5cdHByaXZhdGUgX2ludmFsaWRQcm9ncmFtOmJvb2xlYW4gPSB0cnVlO1xuXHRwcml2YXRlIF9hbmltYXRpb25WZXJ0ZXhDb2RlOnN0cmluZyA9IFwiXCI7XG5cdHByaXZhdGUgX2FuaW1hdGlvbkZyYWdtZW50Q29kZTpzdHJpbmcgPSBcIlwiO1xuXG5cdHByaXZhdGUgX2VuYWJsZUJsZW5kaW5nOmJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBfYmxlbmRGYWN0b3JTb3VyY2U6c3RyaW5nID0gQ29udGV4dEdMQmxlbmRGYWN0b3IuT05FO1xuXHRwcml2YXRlIF9ibGVuZEZhY3RvckRlc3Q6c3RyaW5nID0gQ29udGV4dEdMQmxlbmRGYWN0b3IuWkVSTztcblxuXHRwdWJsaWMgd3JpdGVEZXB0aDpib29sZWFuID0gdHJ1ZTtcblx0XG5cdHB1YmxpYyBnZXQgcHJvZ3JhbURhdGEoKTpQcm9ncmFtRGF0YVxuXHR7XG5cdFx0aWYgKHRoaXMuX2ludmFsaWRQcm9ncmFtKVxuXHRcdFx0dGhpcy5fdXBkYXRlUHJvZ3JhbSgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuX3Byb2dyYW1EYXRhO1xuXHR9XG5cblx0cHVibGljIHByb2ZpbGU6c3RyaW5nO1xuXG5cdHB1YmxpYyB1c2VzQW5pbWF0aW9uOmJvb2xlYW47XG5cblx0cHJpdmF0ZSBfZGVmYXVsdEN1bGxpbmc6c3RyaW5nID0gQ29udGV4dEdMVHJpYW5nbGVGYWNlLkJBQ0s7XG5cblx0cHVibGljIF9wSW52ZXJzZVNjZW5lTWF0cml4OkFycmF5PG51bWJlcj4gPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuXG5cdHB1YmxpYyBhbmltYXRpb25SZWdpc3RlckNhY2hlOkFuaW1hdGlvblJlZ2lzdGVyQ2FjaGU7XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgdXNlZCB2ZXJ0ZXggY29uc3RhbnRzIGluIHRoZSB2ZXJ0ZXggY29kZS4gVXNlZCBieSB0aGUgYW5pbWF0aW9uIGNvZGUgZ2VuZXJhdGlvbiB0byBrbm93IGZyb20gd2hpY2ggaW5kZXggb24gcmVnaXN0ZXJzIGFyZSBhdmFpbGFibGUuXG5cdCAqL1xuXHRwdWJsaWMgbnVtVXNlZFZlcnRleENvbnN0YW50czpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgdXNlZCBmcmFnbWVudCBjb25zdGFudHMgaW4gdGhlIGZyYWdtZW50IGNvZGUuIFVzZWQgYnkgdGhlIGFuaW1hdGlvbiBjb2RlIGdlbmVyYXRpb24gdG8ga25vdyBmcm9tIHdoaWNoIGluZGV4IG9uIHJlZ2lzdGVycyBhcmUgYXZhaWxhYmxlLlxuXHQgKi9cblx0cHVibGljIG51bVVzZWRGcmFnbWVudENvbnN0YW50czpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgdXNlZCB2ZXJ0ZXggc3RyZWFtcyBpbiB0aGUgdmVydGV4IGNvZGUuIFVzZWQgYnkgdGhlIGFuaW1hdGlvbiBjb2RlIGdlbmVyYXRpb24gdG8ga25vdyBmcm9tIHdoaWNoIGluZGV4IG9uIHN0cmVhbXMgYXJlIGF2YWlsYWJsZS5cblx0ICovXG5cdHB1YmxpYyBudW1Vc2VkU3RyZWFtczpudW1iZXI7XG5cblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRwdWJsaWMgbnVtVXNlZFRleHR1cmVzOm51bWJlcjtcblxuXHQvKipcblx0ICpcblx0ICovXG5cdHB1YmxpYyBudW1Vc2VkVmFyeWluZ3M6bnVtYmVyO1xuXG5cdHB1YmxpYyBhbmltYXRhYmxlQXR0cmlidXRlczpBcnJheTxzdHJpbmc+O1xuXHRwdWJsaWMgYW5pbWF0aW9uVGFyZ2V0UmVnaXN0ZXJzOkFycmF5PHN0cmluZz47XG5cdHB1YmxpYyB1dlNvdXJjZTpzdHJpbmc7XG5cdHB1YmxpYyB1dlRhcmdldDpzdHJpbmc7XG5cblx0cHVibGljIHVzZUFscGhhUHJlbXVsdGlwbGllZDpib29sZWFuO1xuXHRwdWJsaWMgdXNlQm90aFNpZGVzOmJvb2xlYW47XG5cdHB1YmxpYyB1c2VNaXBtYXBwaW5nOmJvb2xlYW47XG5cdHB1YmxpYyB1c2VTbW9vdGhUZXh0dXJlczpib29sZWFuO1xuXHRwdWJsaWMgcmVwZWF0VGV4dHVyZXM6Ym9vbGVhbjtcblx0cHVibGljIHVzZXNVVlRyYW5zZm9ybTpib29sZWFuO1xuXHRwdWJsaWMgYWxwaGFUaHJlc2hvbGQ6bnVtYmVyO1xuXHRwdWJsaWMgdGV4dHVyZTpUZXh0dXJlMkRCYXNlO1xuXHRwdWJsaWMgY29sb3I6bnVtYmVyO1xuXG5cblx0Ly9zZXQgYW1iaWVudCB2YWx1ZXMgdG8gZGVmYXVsdFxuXHRwdWJsaWMgYW1iaWVudFI6bnVtYmVyID0gMHhGRjtcblx0cHVibGljIGFtYmllbnRHOm51bWJlciA9IDB4RkY7XG5cdHB1YmxpYyBhbWJpZW50QjpudW1iZXIgPSAweEZGO1xuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcGFzcyByZXF1aXJlcyBhbnkgZnJhZ21lbnQgYW5pbWF0aW9uIGNvZGUuXG5cdCAqL1xuXHRwdWJsaWMgdXNlc0ZyYWdtZW50QW5pbWF0aW9uOmJvb2xlYW47XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgZGVwZW5kZW5jaWVzIG9uIHRoZSBwcm9qZWN0ZWQgcG9zaXRpb24uXG5cdCAqL1xuXHRwdWJsaWMgcHJvamVjdGlvbkRlcGVuZGVuY2llczpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgZGVwZW5kZW5jaWVzIG9uIHRoZSBub3JtYWwgdmVjdG9yLlxuXHQgKi9cblx0cHVibGljIG5vcm1hbERlcGVuZGVuY2llczpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgZGVwZW5kZW5jaWVzIG9uIHRoZSB2ZXJ0ZXggY29sb3IuXG5cdCAqL1xuXHRwdWJsaWMgY29sb3JEZXBlbmRlbmNpZXM6bnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgYW1vdW50IG9mIGRlcGVuZGVuY2llcyBvbiB0aGUgdmlldyBkaXJlY3Rpb24uXG5cdCAqL1xuXHRwdWJsaWMgdmlld0RpckRlcGVuZGVuY2llczpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgZGVwZW5kZW5jaWVzIG9uIHRoZSBwcmltYXJ5IFVWIGNvb3JkaW5hdGVzLlxuXHQgKi9cblx0cHVibGljIHV2RGVwZW5kZW5jaWVzOm51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIGFtb3VudCBvZiBkZXBlbmRlbmNpZXMgb24gdGhlIHNlY29uZGFyeSBVViBjb29yZGluYXRlcy5cblx0ICovXG5cdHB1YmxpYyBzZWNvbmRhcnlVVkRlcGVuZGVuY2llczpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgZGVwZW5kZW5jaWVzIG9uIHRoZSBsb2NhbCBwb3NpdGlvbi4gVGhpcyBjYW4gYmUgMCB3aGlsZSBoYXNHbG9iYWxQb3NEZXBlbmRlbmNpZXMgaXMgdHJ1ZSB3aGVuXG5cdCAqIHRoZSBnbG9iYWwgcG9zaXRpb24gaXMgdXNlZCBhcyBhIHRlbXBvcmFyeSB2YWx1ZSAoZmUgdG8gY2FsY3VsYXRlIHRoZSB2aWV3IGRpcmVjdGlvbilcblx0ICovXG5cdHB1YmxpYyBsb2NhbFBvc0RlcGVuZGVuY2llczpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgZGVwZW5kZW5jaWVzIG9uIHRoZSBnbG9iYWwgcG9zaXRpb24uIFRoaXMgY2FuIGJlIDAgd2hpbGUgaGFzR2xvYmFsUG9zRGVwZW5kZW5jaWVzIGlzIHRydWUgd2hlblxuXHQgKiB0aGUgZ2xvYmFsIHBvc2l0aW9uIGlzIHVzZWQgYXMgYSB0ZW1wb3JhcnkgdmFsdWUgKGZlIHRvIGNhbGN1bGF0ZSB0aGUgdmlldyBkaXJlY3Rpb24pXG5cdCAqL1xuXHRwdWJsaWMgZ2xvYmFsUG9zRGVwZW5kZW5jaWVzOm51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIGFtb3VudCBvZiB0YW5nZW50IHZlY3RvciBkZXBlbmRlbmNpZXMgKGZyYWdtZW50IHNoYWRlcikuXG5cdCAqL1xuXHRwdWJsaWMgdGFuZ2VudERlcGVuZGVuY2llczpudW1iZXI7XG5cblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRwdWJsaWMgb3V0cHV0c05vcm1hbHM6Ym9vbGVhbjtcblxuXHQvKipcblx0ICpcblx0ICovXG5cdHB1YmxpYyBvdXRwdXRzQ29sb3JzOmJvb2xlYW47XG5cblx0LyoqXG5cdCAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCBub3JtYWwgY2FsY3VsYXRpb25zIGFyZSBleHBlY3RlZCBpbiB0YW5nZW50IHNwYWNlLiBUaGlzIGlzIG9ubHkgdGhlIGNhc2UgaWYgbm8gd29ybGQtc3BhY2Vcblx0ICogZGVwZW5kZW5jaWVzIGV4aXN0LlxuXHQgKi9cblx0cHVibGljIHVzZXNUYW5nZW50U3BhY2U6Ym9vbGVhbjtcblxuXHQvKipcblx0ICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IG5vcm1hbCBjYWxjdWxhdGlvbnMgYXJlIG91dHB1dCBpbiB0YW5nZW50IHNwYWNlLlxuXHQgKi9cblx0cHVibGljIG91dHB1dHNUYW5nZW50Tm9ybWFsczpib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGVyZSBhcmUgYW55IGRlcGVuZGVuY2llcyBvbiB0aGUgd29ybGQtc3BhY2UgcG9zaXRpb24gdmVjdG9yLlxuXHQgKi9cblx0cHVibGljIHVzZXNHbG9iYWxQb3NGcmFnbWVudDpib29sZWFuID0gZmFsc2U7XG5cblx0cHVibGljIHZlcnRleENvbnN0YW50RGF0YTpBcnJheTxudW1iZXI+ID0gbmV3IEFycmF5PG51bWJlcj4oKTtcblx0cHVibGljIGZyYWdtZW50Q29uc3RhbnREYXRhOkFycmF5PG51bWJlcj4gPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW5kZXggZm9yIHRoZSBjb21tb24gZGF0YSByZWdpc3Rlci5cblx0ICovXG5cdHB1YmxpYyBjb21tb25zRGF0YUluZGV4Om51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIGluZGV4IGZvciB0aGUgVVYgdmVydGV4IGF0dHJpYnV0ZSBzdHJlYW0uXG5cdCAqL1xuXHRwdWJsaWMgdXZCdWZmZXJJbmRleDpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBpbmRleCBmb3IgdGhlIHNlY29uZGFyeSBVViB2ZXJ0ZXggYXR0cmlidXRlIHN0cmVhbS5cblx0ICovXG5cdHB1YmxpYyBzZWNvbmRhcnlVVkJ1ZmZlckluZGV4Om51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIGluZGV4IGZvciB0aGUgdmVydGV4IG5vcm1hbCBhdHRyaWJ1dGUgc3RyZWFtLlxuXHQgKi9cblx0cHVibGljIG5vcm1hbEJ1ZmZlckluZGV4Om51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIGluZGV4IGZvciB0aGUgY29sb3IgYXR0cmlidXRlIHN0cmVhbS5cblx0ICovXG5cdHB1YmxpYyBjb2xvckJ1ZmZlckluZGV4Om51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIGluZGV4IGZvciB0aGUgdmVydGV4IHRhbmdlbnQgYXR0cmlidXRlIHN0cmVhbS5cblx0ICovXG5cdHB1YmxpYyB0YW5nZW50QnVmZmVySW5kZXg6bnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW5kZXggb2YgdGhlIHZlcnRleCBjb25zdGFudCBjb250YWluaW5nIHRoZSB2aWV3IG1hdHJpeC5cblx0ICovXG5cdHB1YmxpYyB2aWV3TWF0cml4SW5kZXg6bnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW5kZXggb2YgdGhlIHZlcnRleCBjb25zdGFudCBjb250YWluaW5nIHRoZSBzY2VuZSBtYXRyaXguXG5cdCAqL1xuXHRwdWJsaWMgc2NlbmVNYXRyaXhJbmRleDpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBpbmRleCBvZiB0aGUgdmVydGV4IGNvbnN0YW50IGNvbnRhaW5pbmcgdGhlIHVuaWZvcm0gc2NlbmUgbWF0cml4ICh0aGUgaW52ZXJzZSB0cmFuc3Bvc2UpLlxuXHQgKi9cblx0cHVibGljIHNjZW5lTm9ybWFsTWF0cml4SW5kZXg6bnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW5kZXggb2YgdGhlIHZlcnRleCBjb25zdGFudCBjb250YWluaW5nIHRoZSBjYW1lcmEgcG9zaXRpb24uXG5cdCAqL1xuXHRwdWJsaWMgY2FtZXJhUG9zaXRpb25JbmRleDpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBpbmRleCBmb3IgdGhlIFVWIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB2ZXJ0ZXggY29uc3RhbnQuXG5cdCAqL1xuXHRwdWJsaWMgdXZUcmFuc2Zvcm1JbmRleDpudW1iZXI7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcgTWV0aG9kQ29tcGlsZXJWTyBvYmplY3QuXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihyZW5kZXJPYmplY3RPd25lcjpJUmVuZGVyT2JqZWN0T3duZXIsIHJlbmRlcmFibGVDbGFzczpJUmVuZGVyYWJsZUNsYXNzLCByZW5kZXJPYmplY3Q6SVJlbmRlck9iamVjdEJhc2UsIHN0YWdlOlN0YWdlKVxuXHR7XG5cdFx0c3VwZXIoKTtcblxuXHRcdHRoaXMuX3JlbmRlck9iamVjdE93bmVyID0gcmVuZGVyT2JqZWN0T3duZXI7XG5cdFx0dGhpcy5fcmVuZGVyYWJsZUNsYXNzID0gcmVuZGVyYWJsZUNsYXNzO1xuXHRcdHRoaXMuX3JlbmRlck9iamVjdCA9IHJlbmRlck9iamVjdDtcblx0XHR0aGlzLl9zdGFnZSA9IHN0YWdlO1xuXHRcdHRoaXMucHJvZmlsZSA9IHRoaXMuX3N0YWdlLnByb2ZpbGU7XG5cdH1cblxuXHRwdWJsaWMgX2lJbmNsdWRlRGVwZW5kZW5jaWVzKClcblx0e1xuXHRcdHRoaXMuYWxwaGFUaHJlc2hvbGQgPSB0aGlzLl9yZW5kZXJPYmplY3RPd25lci5hbHBoYVRocmVzaG9sZDtcblx0XHR0aGlzLnVzZU1pcG1hcHBpbmcgPSB0aGlzLl9yZW5kZXJPYmplY3RPd25lci5taXBtYXA7XG5cdFx0dGhpcy51c2VTbW9vdGhUZXh0dXJlcyA9IHRoaXMuX3JlbmRlck9iamVjdE93bmVyLnNtb290aDtcblx0fVxuXG5cdC8qKlxuXHQgKiBGYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgYSBjb25jcmV0ZSBjb21waWxlciBvYmplY3QgZm9yIHRoaXMgb2JqZWN0XG5cdCAqXG5cdCAqIEBwYXJhbSByZW5kZXJhYmxlQ2xhc3Ncblx0ICogQHBhcmFtIHJlbmRlck9iamVjdFxuXHQgKiBAcGFyYW0gc3RhZ2Vcblx0ICogQHJldHVybnMge1NoYWRlckNvbXBpbGVyQmFzZX1cblx0ICovXG5cdHB1YmxpYyBjcmVhdGVDb21waWxlcihyZW5kZXJhYmxlQ2xhc3M6SVJlbmRlcmFibGVDbGFzcywgcmVuZGVyT2JqZWN0OklSZW5kZXJPYmplY3RCYXNlKTpTaGFkZXJDb21waWxlckJhc2Vcblx0e1xuXHRcdHJldHVybiBuZXcgU2hhZGVyQ29tcGlsZXJCYXNlKHJlbmRlcmFibGVDbGFzcywgcmVuZGVyT2JqZWN0LCB0aGlzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDbGVhcnMgZGVwZW5kZW5jeSBjb3VudHMgZm9yIGFsbCByZWdpc3RlcnMuIENhbGxlZCB3aGVuIHJlY29tcGlsaW5nIGEgcGFzcy5cblx0ICovXG5cdHB1YmxpYyByZXNldCgpXG5cdHtcblx0XHR0aGlzLnByb2plY3Rpb25EZXBlbmRlbmNpZXMgPSAwO1xuXHRcdHRoaXMubm9ybWFsRGVwZW5kZW5jaWVzID0gMDtcblx0XHR0aGlzLmNvbG9yRGVwZW5kZW5jaWVzID0gMDtcblx0XHR0aGlzLnZpZXdEaXJEZXBlbmRlbmNpZXMgPSAwO1xuXHRcdHRoaXMudXZEZXBlbmRlbmNpZXMgPSAwO1xuXHRcdHRoaXMuc2Vjb25kYXJ5VVZEZXBlbmRlbmNpZXMgPSAwO1xuXHRcdHRoaXMuZ2xvYmFsUG9zRGVwZW5kZW5jaWVzID0gMDtcblx0XHR0aGlzLnRhbmdlbnREZXBlbmRlbmNpZXMgPSAwO1xuXHRcdHRoaXMudXNlc0dsb2JhbFBvc0ZyYWdtZW50ID0gZmFsc2U7XG5cdFx0dGhpcy51c2VzRnJhZ21lbnRBbmltYXRpb24gPSBmYWxzZTtcblx0XHR0aGlzLnVzZXNUYW5nZW50U3BhY2UgPSBmYWxzZTtcblx0XHR0aGlzLm91dHB1dHNOb3JtYWxzID0gZmFsc2U7XG5cdFx0dGhpcy5vdXRwdXRzVGFuZ2VudE5vcm1hbHMgPSBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBwSW5pdFJlZ2lzdGVySW5kaWNlcygpXG5cdHtcblx0XHR0aGlzLmNvbW1vbnNEYXRhSW5kZXggPSAtMTtcblx0XHR0aGlzLmNhbWVyYVBvc2l0aW9uSW5kZXggPSAtMTtcblx0XHR0aGlzLnV2QnVmZmVySW5kZXggPSAtMTtcblx0XHR0aGlzLnV2VHJhbnNmb3JtSW5kZXggPSAtMTtcblx0XHR0aGlzLnNlY29uZGFyeVVWQnVmZmVySW5kZXggPSAtMTtcblx0XHR0aGlzLm5vcm1hbEJ1ZmZlckluZGV4ID0gLTE7XG5cdFx0dGhpcy5jb2xvckJ1ZmZlckluZGV4ID0gLTE7XG5cdFx0dGhpcy50YW5nZW50QnVmZmVySW5kZXggPSAtMTtcblx0XHR0aGlzLnNjZW5lTWF0cml4SW5kZXggPSAtMTtcblx0XHR0aGlzLnNjZW5lTm9ybWFsTWF0cml4SW5kZXggPSAtMTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgdW5jaGFuZ2luZyBjb25zdGFudCBkYXRhIGZvciB0aGlzIHNoYWRlciBvYmplY3QuXG5cdCAqL1xuXHRwdWJsaWMgaW5pdENvbnN0YW50RGF0YShyZWdpc3RlckNhY2hlOlNoYWRlclJlZ2lzdGVyQ2FjaGUsIGFuaW1hdGFibGVBdHRyaWJ1dGVzOkFycmF5PHN0cmluZz4sIGFuaW1hdGlvblRhcmdldFJlZ2lzdGVyczpBcnJheTxzdHJpbmc+LCB1dlNvdXJjZTpzdHJpbmcsIHV2VGFyZ2V0OnN0cmluZylcblx0e1xuXHRcdC8vVXBkYXRlcyB0aGUgYW1vdW50IG9mIHVzZWQgcmVnaXN0ZXIgaW5kaWNlcy5cblx0XHR0aGlzLm51bVVzZWRWZXJ0ZXhDb25zdGFudHMgPSByZWdpc3RlckNhY2hlLm51bVVzZWRWZXJ0ZXhDb25zdGFudHM7XG5cdFx0dGhpcy5udW1Vc2VkRnJhZ21lbnRDb25zdGFudHMgPSByZWdpc3RlckNhY2hlLm51bVVzZWRGcmFnbWVudENvbnN0YW50cztcblx0XHR0aGlzLm51bVVzZWRTdHJlYW1zID0gcmVnaXN0ZXJDYWNoZS5udW1Vc2VkU3RyZWFtcztcblx0XHR0aGlzLm51bVVzZWRUZXh0dXJlcyA9IHJlZ2lzdGVyQ2FjaGUubnVtVXNlZFRleHR1cmVzO1xuXHRcdHRoaXMubnVtVXNlZFZhcnlpbmdzID0gcmVnaXN0ZXJDYWNoZS5udW1Vc2VkVmFyeWluZ3M7XG5cdFx0dGhpcy5udW1Vc2VkRnJhZ21lbnRDb25zdGFudHMgPSByZWdpc3RlckNhY2hlLm51bVVzZWRGcmFnbWVudENvbnN0YW50cztcblxuXHRcdHRoaXMuYW5pbWF0YWJsZUF0dHJpYnV0ZXMgPSBhbmltYXRhYmxlQXR0cmlidXRlcztcblx0XHR0aGlzLmFuaW1hdGlvblRhcmdldFJlZ2lzdGVycyA9IGFuaW1hdGlvblRhcmdldFJlZ2lzdGVycztcblx0XHR0aGlzLnV2U291cmNlID0gdXZTb3VyY2U7XG5cdFx0dGhpcy51dlRhcmdldCA9IHV2VGFyZ2V0O1xuXG5cdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGEubGVuZ3RoID0gdGhpcy5udW1Vc2VkVmVydGV4Q29uc3RhbnRzKjQ7XG5cdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YS5sZW5ndGggPSB0aGlzLm51bVVzZWRGcmFnbWVudENvbnN0YW50cyo0O1xuXG5cdFx0Ly9Jbml0aWFsaXplcyBjb21tb25seSByZXF1aXJlZCBjb25zdGFudCB2YWx1ZXMuXG5cdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVt0aGlzLmNvbW1vbnNEYXRhSW5kZXhdID0gLjU7XG5cdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVt0aGlzLmNvbW1vbnNEYXRhSW5kZXggKyAxXSA9IDA7XG5cdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVt0aGlzLmNvbW1vbnNEYXRhSW5kZXggKyAyXSA9IDEvMjU1O1xuXHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbdGhpcy5jb21tb25zRGF0YUluZGV4ICsgM10gPSAxO1xuXG5cdFx0Ly9Jbml0aWFsaXplcyB0aGUgZGVmYXVsdCBVViB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG5cdFx0aWYgKHRoaXMudXZUcmFuc2Zvcm1JbmRleCA+PSAwKSB7XG5cdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVt0aGlzLnV2VHJhbnNmb3JtSW5kZXhdID0gMTtcblx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDFdID0gMDtcblx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDJdID0gMDtcblx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDNdID0gMDtcblx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDRdID0gMDtcblx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDVdID0gMTtcblx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDZdID0gMDtcblx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDddID0gMDtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jYW1lcmFQb3NpdGlvbkluZGV4ID49IDApXG5cdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVt0aGlzLmNhbWVyYVBvc2l0aW9uSW5kZXggKyAzXSA9IDE7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0cHVibGljIF9pQWN0aXZhdGUoY2FtZXJhOkNhbWVyYSlcblx0e1xuXHRcdGlmICh0aGlzLnVzZXNBbmltYXRpb24pXG5cdFx0XHQoPEFuaW1hdGlvblNldEJhc2U+IHRoaXMuX3JlbmRlck9iamVjdE93bmVyLmFuaW1hdGlvblNldCkuYWN0aXZhdGUodGhpcywgdGhpcy5fc3RhZ2UpO1xuXG5cdFx0dGhpcy5fc3RhZ2UuY29udGV4dC5zZXREZXB0aFRlc3QoKCB0aGlzLndyaXRlRGVwdGggJiYgIXRoaXMuX2VuYWJsZUJsZW5kaW5nICksIHRoaXMuZGVwdGhDb21wYXJlTW9kZSk7XG5cblx0XHRpZiAodGhpcy5fZW5hYmxlQmxlbmRpbmcpXG5cdFx0XHR0aGlzLl9zdGFnZS5jb250ZXh0LnNldEJsZW5kRmFjdG9ycyh0aGlzLl9ibGVuZEZhY3RvclNvdXJjZSwgdGhpcy5fYmxlbmRGYWN0b3JEZXN0KTtcblxuXHRcdHRoaXMuX3N0YWdlLmNvbnRleHQuc2V0Q3VsbGluZyh0aGlzLnVzZUJvdGhTaWRlcz8gQ29udGV4dEdMVHJpYW5nbGVGYWNlLk5PTkUgOiB0aGlzLl9kZWZhdWx0Q3VsbGluZywgY2FtZXJhLnByb2plY3Rpb24uY29vcmRpbmF0ZVN5c3RlbSk7XG5cblx0XHRpZiAoIXRoaXMudXNlc1RhbmdlbnRTcGFjZSAmJiB0aGlzLmNhbWVyYVBvc2l0aW9uSW5kZXggPj0gMCkge1xuXHRcdFx0dmFyIHBvczpWZWN0b3IzRCA9IGNhbWVyYS5zY2VuZVBvc2l0aW9uO1xuXG5cdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVt0aGlzLmNhbWVyYVBvc2l0aW9uSW5kZXhdID0gcG9zLng7XG5cdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVt0aGlzLmNhbWVyYVBvc2l0aW9uSW5kZXggKyAxXSA9IHBvcy55O1xuXHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbdGhpcy5jYW1lcmFQb3NpdGlvbkluZGV4ICsgMl0gPSBwb3Muejtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdHB1YmxpYyBfaURlYWN0aXZhdGUoKVxuXHR7XG5cdFx0aWYgKHRoaXMudXNlc0FuaW1hdGlvbilcblx0XHRcdCg8QW5pbWF0aW9uU2V0QmFzZT4gdGhpcy5fcmVuZGVyT2JqZWN0T3duZXIuYW5pbWF0aW9uU2V0KS5kZWFjdGl2YXRlKHRoaXMsIHRoaXMuX3N0YWdlKTtcblxuXHRcdHRoaXMuX3N0YWdlLmNvbnRleHQuc2V0RGVwdGhUZXN0KHRydWUsIENvbnRleHRHTENvbXBhcmVNb2RlLkxFU1NfRVFVQUwpOyAvLyBUT0RPIDogaW1lcGxlbWVudFxuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICpcblx0ICogQHBhcmFtIHJlbmRlcmFibGVcblx0ICogQHBhcmFtIHN0YWdlXG5cdCAqIEBwYXJhbSBjYW1lcmFcblx0ICovXG5cdHB1YmxpYyBfaVJlbmRlcihyZW5kZXJhYmxlOlJlbmRlcmFibGVCYXNlLCBjYW1lcmE6Q2FtZXJhLCB2aWV3UHJvamVjdGlvbjpNYXRyaXgzRClcblx0e1xuXHRcdGlmIChyZW5kZXJhYmxlLnJlbmRlcmFibGVPd25lci5hbmltYXRvcilcblx0XHRcdCg8QW5pbWF0b3JCYXNlPiByZW5kZXJhYmxlLnJlbmRlcmFibGVPd25lci5hbmltYXRvcikuc2V0UmVuZGVyU3RhdGUodGhpcywgcmVuZGVyYWJsZSwgdGhpcy5fc3RhZ2UsIGNhbWVyYSwgdGhpcy5udW1Vc2VkVmVydGV4Q29uc3RhbnRzLCB0aGlzLm51bVVzZWRTdHJlYW1zKTtcblxuXHRcdGlmICh0aGlzLnV2QnVmZmVySW5kZXggPj0gMClcblx0XHRcdHRoaXMuX3N0YWdlLmFjdGl2YXRlQnVmZmVyKHRoaXMudXZCdWZmZXJJbmRleCwgcmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuVVZfREFUQSksIHJlbmRlcmFibGUuZ2V0VmVydGV4T2Zmc2V0KFRyaWFuZ2xlU3ViR2VvbWV0cnkuVVZfREFUQSksIFRyaWFuZ2xlU3ViR2VvbWV0cnkuVVZfRk9STUFUKTtcblxuXHRcdGlmICh0aGlzLnNlY29uZGFyeVVWQnVmZmVySW5kZXggPj0gMClcblx0XHRcdHRoaXMuX3N0YWdlLmFjdGl2YXRlQnVmZmVyKHRoaXMuc2Vjb25kYXJ5VVZCdWZmZXJJbmRleCwgcmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuU0VDT05EQVJZX1VWX0RBVEEpLCByZW5kZXJhYmxlLmdldFZlcnRleE9mZnNldChUcmlhbmdsZVN1Ykdlb21ldHJ5LlNFQ09OREFSWV9VVl9EQVRBKSwgVHJpYW5nbGVTdWJHZW9tZXRyeS5TRUNPTkRBUllfVVZfRk9STUFUKTtcblxuXHRcdGlmICh0aGlzLm5vcm1hbEJ1ZmZlckluZGV4ID49IDApXG5cdFx0XHR0aGlzLl9zdGFnZS5hY3RpdmF0ZUJ1ZmZlcih0aGlzLm5vcm1hbEJ1ZmZlckluZGV4LCByZW5kZXJhYmxlLmdldFZlcnRleERhdGEoVHJpYW5nbGVTdWJHZW9tZXRyeS5OT1JNQUxfREFUQSksIHJlbmRlcmFibGUuZ2V0VmVydGV4T2Zmc2V0KFRyaWFuZ2xlU3ViR2VvbWV0cnkuTk9STUFMX0RBVEEpLCBUcmlhbmdsZVN1Ykdlb21ldHJ5Lk5PUk1BTF9GT1JNQVQpO1xuXG5cdFx0aWYgKHRoaXMudGFuZ2VudEJ1ZmZlckluZGV4ID49IDApXG5cdFx0XHR0aGlzLl9zdGFnZS5hY3RpdmF0ZUJ1ZmZlcih0aGlzLnRhbmdlbnRCdWZmZXJJbmRleCwgcmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuVEFOR0VOVF9EQVRBKSwgcmVuZGVyYWJsZS5nZXRWZXJ0ZXhPZmZzZXQoVHJpYW5nbGVTdWJHZW9tZXRyeS5UQU5HRU5UX0RBVEEpLCBUcmlhbmdsZVN1Ykdlb21ldHJ5LlRBTkdFTlRfRk9STUFUKTtcblxuXHRcdGlmICh0aGlzLmNvbG9yQnVmZmVySW5kZXggPj0gMClcblx0XHRcdHRoaXMuX3N0YWdlLmFjdGl2YXRlQnVmZmVyKHRoaXMuY29sb3JCdWZmZXJJbmRleCwgcmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKExpbmVTdWJHZW9tZXRyeS5DT0xPUl9EQVRBKSwgcmVuZGVyYWJsZS5nZXRWZXJ0ZXhPZmZzZXQoTGluZVN1Ykdlb21ldHJ5LkNPTE9SX0RBVEEpLCBMaW5lU3ViR2VvbWV0cnkuQ09MT1JfRk9STUFUKTtcblxuXG5cdFx0aWYgKHRoaXMudXNlc1VWVHJhbnNmb3JtKSB7XG5cdFx0XHR2YXIgdXZUcmFuc2Zvcm06TWF0cml4ID0gcmVuZGVyYWJsZS5yZW5kZXJhYmxlT3duZXIudXZUcmFuc2Zvcm0ubWF0cml4O1xuXG5cdFx0XHRpZiAodXZUcmFuc2Zvcm0pIHtcblx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbdGhpcy51dlRyYW5zZm9ybUluZGV4XSA9IHV2VHJhbnNmb3JtLmE7XG5cdFx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDFdID0gdXZUcmFuc2Zvcm0uYjtcblx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbdGhpcy51dlRyYW5zZm9ybUluZGV4ICsgM10gPSB1dlRyYW5zZm9ybS50eDtcblx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbdGhpcy51dlRyYW5zZm9ybUluZGV4ICsgNF0gPSB1dlRyYW5zZm9ybS5jO1xuXHRcdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVt0aGlzLnV2VHJhbnNmb3JtSW5kZXggKyA1XSA9IHV2VHJhbnNmb3JtLmQ7XG5cdFx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDddID0gdXZUcmFuc2Zvcm0udHk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVt0aGlzLnV2VHJhbnNmb3JtSW5kZXhdID0gMTtcblx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbdGhpcy51dlRyYW5zZm9ybUluZGV4ICsgMV0gPSAwO1xuXHRcdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVt0aGlzLnV2VHJhbnNmb3JtSW5kZXggKyAzXSA9IDA7XG5cdFx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMudXZUcmFuc2Zvcm1JbmRleCArIDRdID0gMDtcblx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbdGhpcy51dlRyYW5zZm9ybUluZGV4ICsgNV0gPSAxO1xuXHRcdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVt0aGlzLnV2VHJhbnNmb3JtSW5kZXggKyA3XSA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuc2NlbmVOb3JtYWxNYXRyaXhJbmRleCA+PSAwKVxuXHRcdFx0cmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuaW52ZXJzZVNjZW5lVHJhbnNmb3JtLmNvcHlSYXdEYXRhVG8odGhpcy52ZXJ0ZXhDb25zdGFudERhdGEsIHRoaXMuc2NlbmVOb3JtYWxNYXRyaXhJbmRleCwgZmFsc2UpO1xuXG5cdFx0aWYgKHRoaXMudXNlc1RhbmdlbnRTcGFjZSAmJiB0aGlzLmNhbWVyYVBvc2l0aW9uSW5kZXggPj0gMCkge1xuXG5cdFx0XHRyZW5kZXJhYmxlLnNvdXJjZUVudGl0eS5pbnZlcnNlU2NlbmVUcmFuc2Zvcm0uY29weVJhd0RhdGFUbyh0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4KTtcblx0XHRcdHZhciBwb3M6VmVjdG9yM0QgPSBjYW1lcmEuc2NlbmVQb3NpdGlvbjtcblx0XHRcdHZhciB4Om51bWJlciA9IHBvcy54O1xuXHRcdFx0dmFyIHk6bnVtYmVyID0gcG9zLnk7XG5cdFx0XHR2YXIgejpudW1iZXIgPSBwb3MuejtcblxuXHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbdGhpcy5jYW1lcmFQb3NpdGlvbkluZGV4XSA9IHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbMF0qeCArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbNF0qeSArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbOF0qeiArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbMTJdO1xuXHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbdGhpcy5jYW1lcmFQb3NpdGlvbkluZGV4ICsgMV0gPSB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzFdKnggKyB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzVdKnkgKyB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzldKnogKyB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzEzXTtcblx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW3RoaXMuY2FtZXJhUG9zaXRpb25JbmRleCArIDJdID0gdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFsyXSp4ICsgdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFs2XSp5ICsgdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFsxMF0qeiArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbMTRdO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYmxlbmQgbW9kZSB0byB1c2Ugd2hlbiBkcmF3aW5nIHRoaXMgcmVuZGVyYWJsZS4gVGhlIGZvbGxvd2luZyBibGVuZCBtb2RlcyBhcmUgc3VwcG9ydGVkOlxuXHQgKiA8dWw+XG5cdCAqIDxsaT5CbGVuZE1vZGUuTk9STUFMOiBObyBibGVuZGluZywgdW5sZXNzIHRoZSBtYXRlcmlhbCBpbmhlcmVudGx5IG5lZWRzIGl0PC9saT5cblx0ICogPGxpPkJsZW5kTW9kZS5MQVlFUjogRm9yY2UgYmxlbmRpbmcuIFRoaXMgd2lsbCBkcmF3IHRoZSBvYmplY3QgdGhlIHNhbWUgYXMgTk9STUFMLCBidXQgd2l0aG91dCB3cml0aW5nIGRlcHRoIHdyaXRlcy48L2xpPlxuXHQgKiA8bGk+QmxlbmRNb2RlLk1VTFRJUExZPC9saT5cblx0ICogPGxpPkJsZW5kTW9kZS5BREQ8L2xpPlxuXHQgKiA8bGk+QmxlbmRNb2RlLkFMUEhBPC9saT5cblx0ICogPC91bD5cblx0ICovXG5cdHB1YmxpYyBzZXRCbGVuZE1vZGUodmFsdWU6c3RyaW5nKVxuXHR7XG5cdFx0c3dpdGNoICh2YWx1ZSkge1xuXHRcdFx0Y2FzZSBCbGVuZE1vZGUuTk9STUFMOlxuXHRcdFx0XHR0aGlzLl9ibGVuZEZhY3RvclNvdXJjZSA9IENvbnRleHRHTEJsZW5kRmFjdG9yLk9ORTtcblx0XHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JEZXN0ID0gQ29udGV4dEdMQmxlbmRGYWN0b3IuWkVSTztcblx0XHRcdFx0dGhpcy5fZW5hYmxlQmxlbmRpbmcgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEJsZW5kTW9kZS5MQVlFUjpcblx0XHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JTb3VyY2UgPSBDb250ZXh0R0xCbGVuZEZhY3Rvci5TT1VSQ0VfQUxQSEE7XG5cdFx0XHRcdHRoaXMuX2JsZW5kRmFjdG9yRGVzdCA9IENvbnRleHRHTEJsZW5kRmFjdG9yLk9ORV9NSU5VU19TT1VSQ0VfQUxQSEE7XG5cdFx0XHRcdHRoaXMuX2VuYWJsZUJsZW5kaW5nID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEJsZW5kTW9kZS5NVUxUSVBMWTpcblx0XHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JTb3VyY2UgPSBDb250ZXh0R0xCbGVuZEZhY3Rvci5aRVJPO1xuXHRcdFx0XHR0aGlzLl9ibGVuZEZhY3RvckRlc3QgPSBDb250ZXh0R0xCbGVuZEZhY3Rvci5TT1VSQ0VfQ09MT1I7XG5cdFx0XHRcdHRoaXMuX2VuYWJsZUJsZW5kaW5nID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEJsZW5kTW9kZS5BREQ6XG5cdFx0XHRcdHRoaXMuX2JsZW5kRmFjdG9yU291cmNlID0gQ29udGV4dEdMQmxlbmRGYWN0b3IuU09VUkNFX0FMUEhBO1xuXHRcdFx0XHR0aGlzLl9ibGVuZEZhY3RvckRlc3QgPSBDb250ZXh0R0xCbGVuZEZhY3Rvci5PTkU7XG5cdFx0XHRcdHRoaXMuX2VuYWJsZUJsZW5kaW5nID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEJsZW5kTW9kZS5BTFBIQTpcblx0XHRcdFx0dGhpcy5fYmxlbmRGYWN0b3JTb3VyY2UgPSBDb250ZXh0R0xCbGVuZEZhY3Rvci5aRVJPO1xuXHRcdFx0XHR0aGlzLl9ibGVuZEZhY3RvckRlc3QgPSBDb250ZXh0R0xCbGVuZEZhY3Rvci5TT1VSQ0VfQUxQSEE7XG5cdFx0XHRcdHRoaXMuX2VuYWJsZUJsZW5kaW5nID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgQXJndW1lbnRFcnJvcihcIlVuc3VwcG9ydGVkIGJsZW5kIG1vZGUhXCIpO1xuXHRcdH1cblx0fVxuXHRcblx0cHVibGljIGludmFsaWRhdGVQcm9ncmFtKClcblx0e1xuXHRcdHRoaXMuX2ludmFsaWRQcm9ncmFtID0gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBpbnZhbGlkYXRlU2hhZGVyKClcblx0e1xuXHRcdHRoaXMuX2ludmFsaWRTaGFkZXIgPSB0cnVlO1xuXHRcdHRoaXMuX2ludmFsaWRQcm9ncmFtID0gdHJ1ZTtcblxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoRXZlbnQuQ0hBTkdFKSlcblx0fVxuXG5cdHB1YmxpYyBkaXNwb3NlKClcblx0e1xuXHRcdHRoaXMuX3Byb2dyYW1EYXRhLmRpc3Bvc2UoKTtcblx0XHR0aGlzLl9wcm9ncmFtRGF0YSA9IG51bGw7XG5cdH1cblxuXHRwcml2YXRlIF91cGRhdGVQcm9ncmFtKClcblx0e1xuXHRcdHRoaXMuX2ludmFsaWRQcm9ncmFtID0gZmFsc2U7XG5cblx0XHR2YXIgY29tcGlsZXI6U2hhZGVyQ29tcGlsZXJCYXNlO1xuXG5cdFx0aWYgKHRoaXMuX2ludmFsaWRTaGFkZXIpIHtcblx0XHRcdHRoaXMuX2ludmFsaWRTaGFkZXIgPSBmYWxzZTtcblxuXHRcdFx0Y29tcGlsZXIgPSB0aGlzLmNyZWF0ZUNvbXBpbGVyKHRoaXMuX3JlbmRlcmFibGVDbGFzcywgdGhpcy5fcmVuZGVyT2JqZWN0KTtcblx0XHRcdGNvbXBpbGVyLmNvbXBpbGUoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9jYWxjQW5pbWF0aW9uQ29kZShjb21waWxlci5zaGFkZWRUYXJnZXQpO1xuXG5cdFx0dmFyIHByb2dyYW1EYXRhOlByb2dyYW1EYXRhID0gdGhpcy5fc3RhZ2UuZ2V0UHJvZ3JhbURhdGEodGhpcy5fYW5pbWF0aW9uVmVydGV4Q29kZSArIGNvbXBpbGVyLnZlcnRleENvZGUsIGNvbXBpbGVyLmZyYWdtZW50Q29kZSArIHRoaXMuX2FuaW1hdGlvbkZyYWdtZW50Q29kZSArIGNvbXBpbGVyLnBvc3RBbmltYXRpb25GcmFnbWVudENvZGUpO1xuXG5cdFx0Ly9jaGVjayBwcm9ncmFtIGRhdGEgaGFzbid0IGNoYW5nZWQsIGtlZXAgY291bnQgb2YgcHJvZ3JhbSB1c2FnZXNcblx0XHRpZiAodGhpcy5fcHJvZ3JhbURhdGEgIT0gcHJvZ3JhbURhdGEpIHtcblx0XHRcdGlmICh0aGlzLl9wcm9ncmFtRGF0YSlcblx0XHRcdFx0dGhpcy5fcHJvZ3JhbURhdGEuZGlzcG9zZSgpO1xuXG5cdFx0XHR0aGlzLl9wcm9ncmFtRGF0YSA9IHByb2dyYW1EYXRhO1xuXG5cdFx0XHRwcm9ncmFtRGF0YS51c2FnZXMrKztcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9jYWxjQW5pbWF0aW9uQ29kZShzaGFkZWRUYXJnZXQ6c3RyaW5nKVxuXHR7XG5cdFx0Ly9yZXNldCBjb2RlXG5cdFx0dGhpcy5fYW5pbWF0aW9uVmVydGV4Q29kZSA9IFwiXCI7XG5cdFx0dGhpcy5fYW5pbWF0aW9uRnJhZ21lbnRDb2RlID0gXCJcIjtcblxuXHRcdC8vY2hlY2sgdG8gc2VlIGlmIEdQVSBhbmltYXRpb24gaXMgdXNlZFxuXHRcdGlmICh0aGlzLnVzZXNBbmltYXRpb24pIHtcblxuXHRcdFx0dmFyIGFuaW1hdGlvblNldDpBbmltYXRpb25TZXRCYXNlID0gPEFuaW1hdGlvblNldEJhc2U+IHRoaXMuX3JlbmRlck9iamVjdE93bmVyLmFuaW1hdGlvblNldDtcblxuXHRcdFx0dGhpcy5fYW5pbWF0aW9uVmVydGV4Q29kZSArPSBhbmltYXRpb25TZXQuZ2V0QUdBTFZlcnRleENvZGUodGhpcyk7XG5cblx0XHRcdGlmICh0aGlzLnV2RGVwZW5kZW5jaWVzID4gMCAmJiAhdGhpcy51c2VzVVZUcmFuc2Zvcm0pXG5cdFx0XHRcdHRoaXMuX2FuaW1hdGlvblZlcnRleENvZGUgKz0gYW5pbWF0aW9uU2V0LmdldEFHQUxVVkNvZGUodGhpcyk7XG5cblx0XHRcdGlmICh0aGlzLnVzZXNGcmFnbWVudEFuaW1hdGlvbilcblx0XHRcdFx0dGhpcy5fYW5pbWF0aW9uRnJhZ21lbnRDb2RlICs9IGFuaW1hdGlvblNldC5nZXRBR0FMRnJhZ21lbnRDb2RlKHRoaXMsIHNoYWRlZFRhcmdldCk7XG5cblx0XHRcdGFuaW1hdGlvblNldC5kb25lQUdBTENvZGUodGhpcyk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gc2ltcGx5IHdyaXRlIGF0dHJpYnV0ZXMgdG8gdGFyZ2V0cywgZG8gbm90IGFuaW1hdGUgdGhlbVxuXHRcdFx0Ly8gcHJvamVjdGlvbiB3aWxsIHBpY2sgdXAgb24gdGFyZ2V0c1swXSB0byBkbyB0aGUgcHJvamVjdGlvblxuXHRcdFx0dmFyIGxlbjpudW1iZXIgPSB0aGlzLmFuaW1hdGFibGVBdHRyaWJ1dGVzLmxlbmd0aDtcblx0XHRcdGZvciAodmFyIGk6bnVtYmVyID0gMDsgaSA8IGxlbjsgKytpKVxuXHRcdFx0XHR0aGlzLl9hbmltYXRpb25WZXJ0ZXhDb2RlICs9IFwibW92IFwiICsgdGhpcy5hbmltYXRpb25UYXJnZXRSZWdpc3RlcnNbaV0gKyBcIiwgXCIgKyB0aGlzLmFuaW1hdGFibGVBdHRyaWJ1dGVzW2ldICsgXCJcXG5cIjtcblxuXHRcdFx0aWYgKHRoaXMudXZEZXBlbmRlbmNpZXMgPiAwICYmICF0aGlzLnVzZXNVVlRyYW5zZm9ybSlcblx0XHRcdFx0dGhpcy5fYW5pbWF0aW9uVmVydGV4Q29kZSArPSBcIm1vdiBcIiArIHRoaXMudXZUYXJnZXQgKyBcIixcIiArIHRoaXMudXZTb3VyY2UgKyBcIlxcblwiO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgPSBTaGFkZXJPYmplY3RCYXNlOyJdfQ==