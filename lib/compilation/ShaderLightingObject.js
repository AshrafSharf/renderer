var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var Event = require("awayjs-core/lib/events/Event");
var LightSources = require("awayjs-display/lib/materials/LightSources");
var ContextGLProfile = require("awayjs-stagegl/lib/base/ContextGLProfile");
var ShaderLightingCompiler = require("awayjs-renderergl/lib/compilation/ShaderLightingCompiler");
var ShaderPassMode = require("awayjs-renderergl/lib/compilation/ShaderPassMode");
var ShaderObjectBase = require("awayjs-renderergl/lib/compilation/ShaderObjectBase");
/**
 * ShaderObjectBase keeps track of the number of dependencies for "named registers" used across a pass.
 * Named registers are that are not necessarily limited to a single method. They are created by the compiler and
 * passed on to methods. The compiler uses the results to reserve usages through RegisterPool, which can be removed
 * each time a method has been compiled into the shader.
 *
 * @see RegisterPool.addUsage
 */
var ShaderLightingObject = (function (_super) {
    __extends(ShaderLightingObject, _super);
    /**
     * Creates a new MethodCompilerVO object.
     */
    function ShaderLightingObject(renderObjectOwner, renderableClass, renderLightingObject, stage) {
        var _this = this;
        _super.call(this, renderObjectOwner, renderableClass, renderLightingObject, stage);
        this._maxLights = 3;
        this._passMode = 0x03;
        this._includeCasters = true;
        this._onLightsChangeDelegate = function (event) { return _this.onLightsChange(event); };
    }
    Object.defineProperty(ShaderLightingObject.prototype, "passMode", {
        /**
         *
         */
        get: function () {
            return this._passMode;
        },
        set: function (value) {
            if (this._passMode == value)
                return;
            this._passMode = value;
            this._updateLightPicker();
            this.invalidateShader();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShaderLightingObject.prototype, "includeCasters", {
        /**
         * Indicates whether or not shadow casting lights need to be included.
         */
        get: function () {
            return this._includeCasters;
        },
        set: function (value) {
            if (this._includeCasters == value)
                return;
            this._includeCasters = value;
            this.invalidateShader();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShaderLightingObject.prototype, "lightPicker", {
        get: function () {
            return this._lightPicker;
        },
        set: function (value) {
            if (this._lightPicker)
                this._lightPicker.removeEventListener(Event.CHANGE, this._onLightsChangeDelegate);
            this._lightPicker;
            if (this._lightPicker)
                this._lightPicker.addEventListener(Event.CHANGE, this._onLightsChangeDelegate);
            this._updateLightPicker();
        },
        enumerable: true,
        configurable: true
    });
    ShaderLightingObject.prototype._iIncludeDependencies = function () {
        _super.prototype._iIncludeDependencies.call(this);
        var numAllLights = this.numPointLights + this.numDirectionalLights;
        var numLightProbes = this.numLightProbes;
        var diffuseLightSources = this._renderLightingObject.diffuseLightSources;
        var specularLightSources = this._renderLightingObject._iUsesSpecular() ? this._renderLightingObject.specularLightSources : 0x00;
        var combinedLightSources = diffuseLightSources | specularLightSources;
        this.usesLightFallOff = this._renderLightingObject.enableLightFallOff && this.profile != ContextGLProfile.BASELINE_CONSTRAINED;
        this.numLights = numAllLights + numLightProbes;
        this.usesLights = numAllLights > 0 && (combinedLightSources & LightSources.LIGHTS) != 0;
        this.usesProbes = numLightProbes > 0 && (combinedLightSources & LightSources.PROBES) != 0;
        this.usesLightsForSpecular = numAllLights > 0 && (specularLightSources & LightSources.LIGHTS) != 0;
        this.usesProbesForSpecular = numLightProbes > 0 && (specularLightSources & LightSources.PROBES) != 0;
        this.usesLightsForDiffuse = numAllLights > 0 && (diffuseLightSources & LightSources.LIGHTS) != 0;
        this.usesProbesForDiffuse = numLightProbes > 0 && (diffuseLightSources & LightSources.PROBES) != 0;
        this.usesShadows = this._renderLightingObject._iUsesShadows();
    };
    /**
     * Factory method to create a concrete compiler object for this object
     *
     * @param materialPassVO
     * @returns {away.materials.ShaderLightingCompiler}
     */
    ShaderLightingObject.prototype.createCompiler = function (renderableClass, renderObject) {
        return new ShaderLightingCompiler(renderableClass, renderObject, this);
    };
    /**
     * Clears dependency counts for all registers. Called when recompiling a pass.
     */
    ShaderLightingObject.prototype.reset = function () {
        _super.prototype.reset.call(this);
        this.numLights = 0;
        this.usesLightFallOff = true;
    };
    /**
     *
     *
     * @param renderable
     * @param stage
     * @param camera
     */
    ShaderLightingObject.prototype._iRender = function (renderable, camera, viewProjection) {
        _super.prototype._iRender.call(this, renderable, camera, viewProjection);
        if (this.usesLights)
            this.updateLights();
        if (this.usesProbes)
            this.updateProbes();
    };
    /**
     * Updates constant data render state used by the lights. This method is optional for subclasses to implement.
     */
    ShaderLightingObject.prototype.updateLights = function () {
        var dirLight;
        var pointLight;
        var i = 0;
        var k = 0;
        var len;
        var dirPos;
        var total = 0;
        var numLightTypes = this.usesShadows ? 2 : 1;
        var l;
        var offset;
        this.ambientR = this.ambientG = this.ambientB = 0;
        l = this.lightVertexConstantIndex;
        k = this.lightFragmentConstantIndex;
        var cast = 0;
        var dirLights = this.lightPicker.directionalLights;
        offset = this.directionalLightsOffset;
        len = this.lightPicker.directionalLights.length;
        if (offset > len) {
            cast = 1;
            offset -= len;
        }
        for (; cast < numLightTypes; ++cast) {
            if (cast)
                dirLights = this.lightPicker.castingDirectionalLights;
            len = dirLights.length;
            if (len > this.numDirectionalLights)
                len = this.numDirectionalLights;
            for (i = 0; i < len; ++i) {
                dirLight = dirLights[offset + i];
                dirPos = dirLight.sceneDirection;
                this.ambientR += dirLight._iAmbientR;
                this.ambientG += dirLight._iAmbientG;
                this.ambientB += dirLight._iAmbientB;
                if (this.usesTangentSpace) {
                    var x = -dirPos.x;
                    var y = -dirPos.y;
                    var z = -dirPos.z;
                    this.vertexConstantData[l++] = this._pInverseSceneMatrix[0] * x + this._pInverseSceneMatrix[4] * y + this._pInverseSceneMatrix[8] * z;
                    this.vertexConstantData[l++] = this._pInverseSceneMatrix[1] * x + this._pInverseSceneMatrix[5] * y + this._pInverseSceneMatrix[9] * z;
                    this.vertexConstantData[l++] = this._pInverseSceneMatrix[2] * x + this._pInverseSceneMatrix[6] * y + this._pInverseSceneMatrix[10] * z;
                    this.vertexConstantData[l++] = 1;
                }
                else {
                    this.fragmentConstantData[k++] = -dirPos.x;
                    this.fragmentConstantData[k++] = -dirPos.y;
                    this.fragmentConstantData[k++] = -dirPos.z;
                    this.fragmentConstantData[k++] = 1;
                }
                this.fragmentConstantData[k++] = dirLight._iDiffuseR;
                this.fragmentConstantData[k++] = dirLight._iDiffuseG;
                this.fragmentConstantData[k++] = dirLight._iDiffuseB;
                this.fragmentConstantData[k++] = 1;
                this.fragmentConstantData[k++] = dirLight._iSpecularR;
                this.fragmentConstantData[k++] = dirLight._iSpecularG;
                this.fragmentConstantData[k++] = dirLight._iSpecularB;
                this.fragmentConstantData[k++] = 1;
                if (++total == this.numDirectionalLights) {
                    // break loop
                    i = len;
                    cast = numLightTypes;
                }
            }
        }
        // more directional supported than currently picked, need to clamp all to 0
        if (this.numDirectionalLights > total) {
            i = k + (this.numDirectionalLights - total) * 12;
            while (k < i)
                this.fragmentConstantData[k++] = 0;
        }
        total = 0;
        var pointLights = this.lightPicker.pointLights;
        offset = this.pointLightsOffset;
        len = this.lightPicker.pointLights.length;
        if (offset > len) {
            cast = 1;
            offset -= len;
        }
        else {
            cast = 0;
        }
        for (; cast < numLightTypes; ++cast) {
            if (cast)
                pointLights = this.lightPicker.castingPointLights;
            len = pointLights.length;
            for (i = 0; i < len; ++i) {
                pointLight = pointLights[offset + i];
                dirPos = pointLight.scenePosition;
                this.ambientR += pointLight._iAmbientR;
                this.ambientG += pointLight._iAmbientG;
                this.ambientB += pointLight._iAmbientB;
                if (this.usesTangentSpace) {
                    x = dirPos.x;
                    y = dirPos.y;
                    z = dirPos.z;
                    this.vertexConstantData[l++] = this._pInverseSceneMatrix[0] * x + this._pInverseSceneMatrix[4] * y + this._pInverseSceneMatrix[8] * z + this._pInverseSceneMatrix[12];
                    this.vertexConstantData[l++] = this._pInverseSceneMatrix[1] * x + this._pInverseSceneMatrix[5] * y + this._pInverseSceneMatrix[9] * z + this._pInverseSceneMatrix[13];
                    this.vertexConstantData[l++] = this._pInverseSceneMatrix[2] * x + this._pInverseSceneMatrix[6] * y + this._pInverseSceneMatrix[10] * z + this._pInverseSceneMatrix[14];
                    this.vertexConstantData[l++] = 1;
                }
                else if (!this.usesGlobalPosFragment) {
                    this.vertexConstantData[l++] = dirPos.x;
                    this.vertexConstantData[l++] = dirPos.y;
                    this.vertexConstantData[l++] = dirPos.z;
                    this.vertexConstantData[l++] = 1;
                }
                else {
                    this.fragmentConstantData[k++] = dirPos.x;
                    this.fragmentConstantData[k++] = dirPos.y;
                    this.fragmentConstantData[k++] = dirPos.z;
                    this.fragmentConstantData[k++] = 1;
                }
                this.fragmentConstantData[k++] = pointLight._iDiffuseR;
                this.fragmentConstantData[k++] = pointLight._iDiffuseG;
                this.fragmentConstantData[k++] = pointLight._iDiffuseB;
                var radius = pointLight._pRadius;
                this.fragmentConstantData[k++] = radius * radius;
                this.fragmentConstantData[k++] = pointLight._iSpecularR;
                this.fragmentConstantData[k++] = pointLight._iSpecularG;
                this.fragmentConstantData[k++] = pointLight._iSpecularB;
                this.fragmentConstantData[k++] = pointLight._pFallOffFactor;
                if (++total == this.numPointLights) {
                    // break loop
                    i = len;
                    cast = numLightTypes;
                }
            }
        }
        // more directional supported than currently picked, need to clamp all to 0
        if (this.numPointLights > total) {
            i = k + (total - this.numPointLights) * 12;
            for (; k < i; ++k)
                this.fragmentConstantData[k] = 0;
        }
    };
    /**
     * Updates constant data render state used by the light probes. This method is optional for subclasses to implement.
     */
    ShaderLightingObject.prototype.updateProbes = function () {
        var probe;
        var lightProbes = this.lightPicker.lightProbes;
        var weights = this.lightPicker.lightProbeWeights;
        var len = lightProbes.length - this.lightProbesOffset;
        var addDiff = this.usesProbesForDiffuse;
        var addSpec = this.usesProbesForSpecular;
        if (!(addDiff || addSpec))
            return;
        if (len > this.numLightProbes)
            len = this.numLightProbes;
        for (var i = 0; i < len; ++i) {
            probe = lightProbes[this.lightProbesOffset + i];
            if (addDiff)
                this._stage.activateCubeTexture(this.lightProbeDiffuseIndices[i], probe.diffuseMap);
            if (addSpec)
                this._stage.activateCubeTexture(this.lightProbeSpecularIndices[i], probe.specularMap);
        }
        for (i = 0; i < len; ++i)
            this.fragmentConstantData[this.probeWeightsIndex + i] = weights[this.lightProbesOffset + i];
    };
    ShaderLightingObject.prototype.onLightsChange = function (event) {
        this._updateLightPicker();
    };
    ShaderLightingObject.prototype._updateLightPicker = function () {
        var numDirectionalLightsOld = this.numDirectionalLights;
        var numPointLightsOld = this.numPointLights;
        var numLightProbesOld = this.numLightProbes;
        if (this._lightPicker && (this.passMode & ShaderPassMode.LIGHTING)) {
            this.numDirectionalLights = this.calculateNumDirectionalLights(this._lightPicker.numDirectionalLights);
            this.numPointLights = this.calculateNumPointLights(this._lightPicker.numPointLights);
            this.numLightProbes = this.calculateNumProbes(this._lightPicker.numLightProbes);
            if (this.includeCasters) {
                this.numDirectionalLights += this._lightPicker.numCastingDirectionalLights;
                this.numPointLights += this._lightPicker.numCastingPointLights;
            }
        }
        else {
            this.numDirectionalLights = 0;
            this.numPointLights = 0;
            this.numLightProbes = 0;
        }
        this.numLights = this.numDirectionalLights + this.numPointLights;
        if (numDirectionalLightsOld != this.numDirectionalLights || numPointLightsOld != this.numPointLights || numLightProbesOld != this.numLightProbes)
            this.invalidateShader();
    };
    /**
     * Calculates the amount of directional lights this material will support.
     * @param numDirectionalLights The maximum amount of directional lights to support.
     * @return The amount of directional lights this material will support, bounded by the amount necessary.
     */
    ShaderLightingObject.prototype.calculateNumDirectionalLights = function (numDirectionalLights) {
        return Math.min(numDirectionalLights - this.directionalLightsOffset, this._maxLights);
    };
    /**
     * Calculates the amount of point lights this material will support.
     * @param numDirectionalLights The maximum amount of point lights to support.
     * @return The amount of point lights this material will support, bounded by the amount necessary.
     */
    ShaderLightingObject.prototype.calculateNumPointLights = function (numPointLights) {
        var numFree = this._maxLights - this.numDirectionalLights;
        return Math.min(numPointLights - this.pointLightsOffset, numFree);
    };
    /**
     * Calculates the amount of light probes this material will support.
     * @param numDirectionalLights The maximum amount of light probes to support.
     * @return The amount of light probes this material will support, bounded by the amount necessary.
     */
    ShaderLightingObject.prototype.calculateNumProbes = function (numLightProbes) {
        var numChannels = 0;
        if ((this._renderLightingObject.specularLightSources & LightSources.PROBES) != 0)
            ++numChannels;
        if ((this._renderLightingObject.diffuseLightSources & LightSources.PROBES) != 0)
            ++numChannels;
        // 4 channels available
        return Math.min(numLightProbes - this.lightProbesOffset, (4 / numChannels) | 0);
    };
    return ShaderLightingObject;
})(ShaderObjectBase);
module.exports = ShaderLightingObject;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9jb21waWxhdGlvbi9zaGFkZXJsaWdodGluZ29iamVjdC50cyJdLCJuYW1lcyI6WyJTaGFkZXJMaWdodGluZ09iamVjdCIsIlNoYWRlckxpZ2h0aW5nT2JqZWN0LmNvbnN0cnVjdG9yIiwiU2hhZGVyTGlnaHRpbmdPYmplY3QucGFzc01vZGUiLCJTaGFkZXJMaWdodGluZ09iamVjdC5pbmNsdWRlQ2FzdGVycyIsIlNoYWRlckxpZ2h0aW5nT2JqZWN0LmxpZ2h0UGlja2VyIiwiU2hhZGVyTGlnaHRpbmdPYmplY3QuX2lJbmNsdWRlRGVwZW5kZW5jaWVzIiwiU2hhZGVyTGlnaHRpbmdPYmplY3QuY3JlYXRlQ29tcGlsZXIiLCJTaGFkZXJMaWdodGluZ09iamVjdC5yZXNldCIsIlNoYWRlckxpZ2h0aW5nT2JqZWN0Ll9pUmVuZGVyIiwiU2hhZGVyTGlnaHRpbmdPYmplY3QudXBkYXRlTGlnaHRzIiwiU2hhZGVyTGlnaHRpbmdPYmplY3QudXBkYXRlUHJvYmVzIiwiU2hhZGVyTGlnaHRpbmdPYmplY3Qub25MaWdodHNDaGFuZ2UiLCJTaGFkZXJMaWdodGluZ09iamVjdC5fdXBkYXRlTGlnaHRQaWNrZXIiLCJTaGFkZXJMaWdodGluZ09iamVjdC5jYWxjdWxhdGVOdW1EaXJlY3Rpb25hbExpZ2h0cyIsIlNoYWRlckxpZ2h0aW5nT2JqZWN0LmNhbGN1bGF0ZU51bVBvaW50TGlnaHRzIiwiU2hhZGVyTGlnaHRpbmdPYmplY3QuY2FsY3VsYXRlTnVtUHJvYmVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFFQSxJQUFPLEtBQUssV0FBZ0IsOEJBQThCLENBQUMsQ0FBQztBQVE1RCxJQUFPLFlBQVksV0FBZSwyQ0FBMkMsQ0FBQyxDQUFDO0FBRS9FLElBQU8sZ0JBQWdCLFdBQWMsMENBQTBDLENBQUMsQ0FBQztBQUtqRixJQUFPLHNCQUFzQixXQUFZLDBEQUEwRCxDQUFDLENBQUM7QUFDckcsSUFBTyxjQUFjLFdBQWMsa0RBQWtELENB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QSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDekJBLElBQUlBLENBQUNBLEdBQVVBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO29CQUN6QkEsSUFBSUEsQ0FBQ0EsR0FBVUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBRXpCQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLENBQUNBO29CQUNoSUEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxDQUFDQTtvQkFDaElBLElBQUlBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ2pJQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUNsQ0EsQ0FBQ0E7Z0JBQUNB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QSxrQkFBa0JBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7b0JBQ2hLQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7b0JBQ2hLQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLEVBQUVBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7b0JBQ2pLQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUNsQ0EsQ0FBQ0E7Z0JBQUNBLElBQUlBLENBQUNBLEVBQUVB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O1FBRWZBLEFBQ0FBLHVCQUR1QkE7UUFDdkJBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLGNBQWNBLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsV0FBV0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDL0VBLENBQUNBO0lBQ0ZmLDJCQUFDQTtBQUFEQSxDQWhlQSxBQWdlQ0EsRUFoZWtDLGdCQUFnQixFQWdlbEQ7QUFFRCxBQUE4QixpQkFBckIsb0JBQW9CLENBQUMiLCJmaWxlIjoiY29tcGlsYXRpb24vU2hhZGVyTGlnaHRpbmdPYmplY3QuanMiLCJzb3VyY2VSb290IjoiLi4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1hdHJpeDNEXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vTWF0cml4M0RcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9WZWN0b3IzRFwiKTtcbmltcG9ydCBFdmVudFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9ldmVudHMvRXZlbnRcIik7XG5cbmltcG9ydCBDYW1lcmFcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvQ2FtZXJhXCIpO1xuaW1wb3J0IERpcmVjdGlvbmFsTGlnaHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9EaXJlY3Rpb25hbExpZ2h0XCIpO1xuaW1wb3J0IExpZ2h0UHJvYmVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL0xpZ2h0UHJvYmVcIik7XG5pbXBvcnQgUG9pbnRMaWdodFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvUG9pbnRMaWdodFwiKTtcbmltcG9ydCBMaWdodFBpY2tlckJhc2VcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9tYXRlcmlhbHMvbGlnaHRwaWNrZXJzL0xpZ2h0UGlja2VyQmFzZVwiKTtcbmltcG9ydCBJUmVuZGVyT2JqZWN0T3duZXJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9JUmVuZGVyT2JqZWN0T3duZXJcIik7XG5pbXBvcnQgTGlnaHRTb3VyY2VzXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9tYXRlcmlhbHMvTGlnaHRTb3VyY2VzXCIpO1xuXG5pbXBvcnQgQ29udGV4dEdMUHJvZmlsZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMUHJvZmlsZVwiKTtcbmltcG9ydCBTdGFnZVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL1N0YWdlXCIpO1xuaW1wb3J0IElDb250ZXh0R0xcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvSUNvbnRleHRHTFwiKTtcblxuaW1wb3J0IElSZW5kZXJMaWdodGluZ09iamVjdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvY29tcGlsYXRpb24vSVJlbmRlckxpZ2h0aW5nT2JqZWN0XCIpO1xuaW1wb3J0IFNoYWRlckxpZ2h0aW5nQ29tcGlsZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2NvbXBpbGF0aW9uL1NoYWRlckxpZ2h0aW5nQ29tcGlsZXJcIik7XG5pbXBvcnQgU2hhZGVyUGFzc01vZGVcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9jb21waWxhdGlvbi9TaGFkZXJQYXNzTW9kZVwiKTtcblxuaW1wb3J0IFJlbmRlcmFibGVCYXNlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9SZW5kZXJhYmxlQmFzZVwiKTtcbmltcG9ydCBTaGFkZXJDb21waWxlckJhc2VcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvY29tcGlsYXRpb24vU2hhZGVyQ29tcGlsZXJCYXNlXCIpO1xuaW1wb3J0IFNoYWRlck9iamVjdEJhc2VcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9jb21waWxhdGlvbi9TaGFkZXJPYmplY3RCYXNlXCIpO1xuaW1wb3J0IElSZW5kZXJhYmxlQ2xhc3NcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9wb29sL0lSZW5kZXJhYmxlQ2xhc3NcIik7XG5cbi8qKlxuICogU2hhZGVyT2JqZWN0QmFzZSBrZWVwcyB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGRlcGVuZGVuY2llcyBmb3IgXCJuYW1lZCByZWdpc3RlcnNcIiB1c2VkIGFjcm9zcyBhIHBhc3MuXG4gKiBOYW1lZCByZWdpc3RlcnMgYXJlIHRoYXQgYXJlIG5vdCBuZWNlc3NhcmlseSBsaW1pdGVkIHRvIGEgc2luZ2xlIG1ldGhvZC4gVGhleSBhcmUgY3JlYXRlZCBieSB0aGUgY29tcGlsZXIgYW5kXG4gKiBwYXNzZWQgb24gdG8gbWV0aG9kcy4gVGhlIGNvbXBpbGVyIHVzZXMgdGhlIHJlc3VsdHMgdG8gcmVzZXJ2ZSB1c2FnZXMgdGhyb3VnaCBSZWdpc3RlclBvb2wsIHdoaWNoIGNhbiBiZSByZW1vdmVkXG4gKiBlYWNoIHRpbWUgYSBtZXRob2QgaGFzIGJlZW4gY29tcGlsZWQgaW50byB0aGUgc2hhZGVyLlxuICpcbiAqIEBzZWUgUmVnaXN0ZXJQb29sLmFkZFVzYWdlXG4gKi9cbmNsYXNzIFNoYWRlckxpZ2h0aW5nT2JqZWN0IGV4dGVuZHMgU2hhZGVyT2JqZWN0QmFzZVxue1xuXHRwcml2YXRlIF9tYXhMaWdodHM6bnVtYmVyID0gMztcblx0cHJpdmF0ZSBfbGlnaHRQaWNrZXI6TGlnaHRQaWNrZXJCYXNlO1xuXHRwcml2YXRlIF9wb2ludGxpZ2h0T2Zmc2V0Om51bWJlcjtcblxuXHRwdWJsaWMgX3JlbmRlckxpZ2h0aW5nT2JqZWN0OklSZW5kZXJMaWdodGluZ09iamVjdDtcblxuXHRwcml2YXRlIF9wYXNzTW9kZTpudW1iZXIgPSAweDAzO1xuXHRwcml2YXRlIF9pbmNsdWRlQ2FzdGVyczpib29sZWFuID0gdHJ1ZTtcblxuXHQvKipcblx0ICpcblx0ICovXG5cdHB1YmxpYyBnZXQgcGFzc01vZGUoKTpudW1iZXJcblx0e1xuXHRcdHJldHVybiB0aGlzLl9wYXNzTW9kZTtcblx0fVxuXG5cdHB1YmxpYyBzZXQgcGFzc01vZGUodmFsdWU6bnVtYmVyKVxuXHR7XG5cdFx0aWYgKHRoaXMuX3Bhc3NNb2RlID09IHZhbHVlKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0dGhpcy5fcGFzc01vZGUgPSB2YWx1ZTtcblxuXHRcdHRoaXMuX3VwZGF0ZUxpZ2h0UGlja2VyKCk7XG5cdFx0dGhpcy5pbnZhbGlkYXRlU2hhZGVyKCk7XG5cdH1cblxuXHQvKipcblx0ICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHNoYWRvdyBjYXN0aW5nIGxpZ2h0cyBuZWVkIHRvIGJlIGluY2x1ZGVkLlxuXHQgKi9cblx0cHVibGljIGdldCBpbmNsdWRlQ2FzdGVycygpOmJvb2xlYW5cblx0e1xuXHRcdHJldHVybiB0aGlzLl9pbmNsdWRlQ2FzdGVycztcblx0fVxuXG5cdHB1YmxpYyBzZXQgaW5jbHVkZUNhc3RlcnModmFsdWU6Ym9vbGVhbilcblx0e1xuXHRcdGlmICh0aGlzLl9pbmNsdWRlQ2FzdGVycyA9PSB2YWx1ZSlcblx0XHRcdHJldHVybjtcblxuXHRcdHRoaXMuX2luY2x1ZGVDYXN0ZXJzID0gdmFsdWU7XG5cblx0XHR0aGlzLmludmFsaWRhdGVTaGFkZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgZmlyc3QgaW5kZXggZm9yIHRoZSBmcmFnbWVudCBjb25zdGFudHMgY29udGFpbmluZyB0aGUgbGlnaHQgZGF0YS5cblx0ICovXG5cdHB1YmxpYyBsaWdodEZyYWdtZW50Q29uc3RhbnRJbmRleDpudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBzdGFydGluZyBpbmRleCBpZiB0aGUgdmVydGV4IGNvbnN0YW50IHRvIHdoaWNoIGxpZ2h0IGRhdGEgbmVlZHMgdG8gYmUgdXBsb2FkZWQuXG5cdCAqL1xuXHRwdWJsaWMgbGlnaHRWZXJ0ZXhDb25zdGFudEluZGV4Om51bWJlcjtcblxuXHQvKipcblx0ICogSW5kaWNlcyBmb3IgdGhlIGxpZ2h0IHByb2JlIGRpZmZ1c2UgdGV4dHVyZXMuXG5cdCAqL1xuXHRwdWJsaWMgbGlnaHRQcm9iZURpZmZ1c2VJbmRpY2VzOkFycmF5PG51bWJlcj4gLyp1aW50Ki87XG5cblx0LyoqXG5cdCAqIEluZGljZXMgZm9yIHRoZSBsaWdodCBwcm9iZSBzcGVjdWxhciB0ZXh0dXJlcy5cblx0ICovXG5cdHB1YmxpYyBsaWdodFByb2JlU3BlY3VsYXJJbmRpY2VzOkFycmF5PG51bWJlcj4gLyp1aW50Ki87XG5cblx0LyoqXG5cdCAqIFRoZSBpbmRleCBvZiB0aGUgZnJhZ21lbnQgY29uc3RhbnQgY29udGFpbmluZyB0aGUgd2VpZ2h0cyBmb3IgdGhlIGxpZ2h0IHByb2Jlcy5cblx0ICovXG5cdHB1YmxpYyBwcm9iZVdlaWdodHNJbmRleDpudW1iZXI7XG5cblx0cHVibGljIG51bUxpZ2h0czpudW1iZXI7XG5cdHB1YmxpYyB1c2VzTGlnaHRGYWxsT2ZmOmJvb2xlYW47XG5cblx0cHVibGljIHVzZXNTaGFkb3dzOmJvb2xlYW47XG5cblx0cHVibGljIG51bVBvaW50TGlnaHRzOm51bWJlcjtcblx0cHVibGljIG51bURpcmVjdGlvbmFsTGlnaHRzOm51bWJlcjtcblx0cHVibGljIG51bUxpZ2h0UHJvYmVzOm51bWJlcjtcblxuXHRwdWJsaWMgcG9pbnRMaWdodHNPZmZzZXQ6bnVtYmVyO1xuXHRwdWJsaWMgZGlyZWN0aW9uYWxMaWdodHNPZmZzZXQ6bnVtYmVyO1xuXHRwdWJsaWMgbGlnaHRQcm9iZXNPZmZzZXQ6bnVtYmVyO1xuXG5cdHB1YmxpYyBfb25MaWdodHNDaGFuZ2VEZWxlZ2F0ZTooZXZlbnQ6RXZlbnQpID0+IHZvaWQ7XG5cblx0cHVibGljIGdldCBsaWdodFBpY2tlcigpOkxpZ2h0UGlja2VyQmFzZVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2xpZ2h0UGlja2VyO1xuXHR9XG5cblx0cHVibGljIHNldCBsaWdodFBpY2tlcih2YWx1ZTpMaWdodFBpY2tlckJhc2UpXG5cdHtcblx0XHRpZiAodGhpcy5fbGlnaHRQaWNrZXIpXG5cdFx0XHR0aGlzLl9saWdodFBpY2tlci5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50LkNIQU5HRSwgdGhpcy5fb25MaWdodHNDaGFuZ2VEZWxlZ2F0ZSk7XG5cblx0XHR0aGlzLl9saWdodFBpY2tlcjtcblxuXHRcdGlmICh0aGlzLl9saWdodFBpY2tlcilcblx0XHRcdHRoaXMuX2xpZ2h0UGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnQuQ0hBTkdFLCB0aGlzLl9vbkxpZ2h0c0NoYW5nZURlbGVnYXRlKTtcblxuXHRcdHRoaXMuX3VwZGF0ZUxpZ2h0UGlja2VyKCk7XG5cdH1cblxuXHQvKipcblx0ICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNoYWRlciB1c2VzIGFueSBsaWdodHMuXG5cdCAqL1xuXHRwdWJsaWMgdXNlc0xpZ2h0czpib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc2hhZGVyIHVzZXMgYW55IGxpZ2h0IHByb2Jlcy5cblx0ICovXG5cdHB1YmxpYyB1c2VzUHJvYmVzOmJvb2xlYW47XG5cblx0LyoqXG5cdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBsaWdodHMgdXNlcyBhbnkgc3BlY3VsYXIgY29tcG9uZW50cy5cblx0ICovXG5cdHB1YmxpYyB1c2VzTGlnaHRzRm9yU3BlY3VsYXI6Ym9vbGVhbjtcblxuXHQvKipcblx0ICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHByb2JlcyB1c2VzIGFueSBzcGVjdWxhciBjb21wb25lbnRzLlxuXHQgKi9cblx0cHVibGljIHVzZXNQcm9iZXNGb3JTcGVjdWxhcjpib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgbGlnaHRzIHVzZXMgYW55IGRpZmZ1c2UgY29tcG9uZW50cy5cblx0ICovXG5cdHB1YmxpYyB1c2VzTGlnaHRzRm9yRGlmZnVzZTpib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcHJvYmVzIHVzZXMgYW55IGRpZmZ1c2UgY29tcG9uZW50cy5cblx0ICovXG5cdHB1YmxpYyB1c2VzUHJvYmVzRm9yRGlmZnVzZTpib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IE1ldGhvZENvbXBpbGVyVk8gb2JqZWN0LlxuXHQgKi9cblx0Y29uc3RydWN0b3IocmVuZGVyT2JqZWN0T3duZXI6SVJlbmRlck9iamVjdE93bmVyLCByZW5kZXJhYmxlQ2xhc3M6SVJlbmRlcmFibGVDbGFzcywgcmVuZGVyTGlnaHRpbmdPYmplY3Q6SVJlbmRlckxpZ2h0aW5nT2JqZWN0LCBzdGFnZTpTdGFnZSlcblx0e1xuXHRcdHN1cGVyKHJlbmRlck9iamVjdE93bmVyLCByZW5kZXJhYmxlQ2xhc3MsIHJlbmRlckxpZ2h0aW5nT2JqZWN0LCBzdGFnZSk7XG5cblx0XHR0aGlzLl9vbkxpZ2h0c0NoYW5nZURlbGVnYXRlID0gKGV2ZW50OkV2ZW50KSA9PiB0aGlzLm9uTGlnaHRzQ2hhbmdlKGV2ZW50KTtcblx0fVxuXG5cdHB1YmxpYyBfaUluY2x1ZGVEZXBlbmRlbmNpZXMoKVxuXHR7XG5cdFx0c3VwZXIuX2lJbmNsdWRlRGVwZW5kZW5jaWVzKCk7XG5cblx0XHR2YXIgbnVtQWxsTGlnaHRzOm51bWJlciA9IHRoaXMubnVtUG9pbnRMaWdodHMgKyB0aGlzLm51bURpcmVjdGlvbmFsTGlnaHRzO1xuXHRcdHZhciBudW1MaWdodFByb2JlczpudW1iZXIgPSB0aGlzLm51bUxpZ2h0UHJvYmVzO1xuXHRcdHZhciBkaWZmdXNlTGlnaHRTb3VyY2VzOm51bWJlciA9IHRoaXMuX3JlbmRlckxpZ2h0aW5nT2JqZWN0LmRpZmZ1c2VMaWdodFNvdXJjZXM7XG5cdFx0dmFyIHNwZWN1bGFyTGlnaHRTb3VyY2VzOm51bWJlciA9IHRoaXMuX3JlbmRlckxpZ2h0aW5nT2JqZWN0Ll9pVXNlc1NwZWN1bGFyKCk/IHRoaXMuX3JlbmRlckxpZ2h0aW5nT2JqZWN0LnNwZWN1bGFyTGlnaHRTb3VyY2VzIDogMHgwMDtcblx0XHR2YXIgY29tYmluZWRMaWdodFNvdXJjZXM6bnVtYmVyID0gZGlmZnVzZUxpZ2h0U291cmNlcyB8IHNwZWN1bGFyTGlnaHRTb3VyY2VzO1xuXG5cdFx0dGhpcy51c2VzTGlnaHRGYWxsT2ZmID0gdGhpcy5fcmVuZGVyTGlnaHRpbmdPYmplY3QuZW5hYmxlTGlnaHRGYWxsT2ZmICYmIHRoaXMucHJvZmlsZSAhPSBDb250ZXh0R0xQcm9maWxlLkJBU0VMSU5FX0NPTlNUUkFJTkVEO1xuXHRcdHRoaXMubnVtTGlnaHRzID0gbnVtQWxsTGlnaHRzICsgbnVtTGlnaHRQcm9iZXM7XG5cdFx0dGhpcy51c2VzTGlnaHRzID0gbnVtQWxsTGlnaHRzID4gMCAmJiAoY29tYmluZWRMaWdodFNvdXJjZXMgJiBMaWdodFNvdXJjZXMuTElHSFRTKSAhPSAwO1xuXHRcdHRoaXMudXNlc1Byb2JlcyA9IG51bUxpZ2h0UHJvYmVzID4gMCAmJiAoY29tYmluZWRMaWdodFNvdXJjZXMgJiBMaWdodFNvdXJjZXMuUFJPQkVTKSAhPSAwO1xuXHRcdHRoaXMudXNlc0xpZ2h0c0ZvclNwZWN1bGFyID0gbnVtQWxsTGlnaHRzID4gMCAmJiAoc3BlY3VsYXJMaWdodFNvdXJjZXMgJiBMaWdodFNvdXJjZXMuTElHSFRTKSAhPSAwO1xuXHRcdHRoaXMudXNlc1Byb2Jlc0ZvclNwZWN1bGFyID0gbnVtTGlnaHRQcm9iZXMgPiAwICYmIChzcGVjdWxhckxpZ2h0U291cmNlcyAmIExpZ2h0U291cmNlcy5QUk9CRVMpICE9IDA7XG5cdFx0dGhpcy51c2VzTGlnaHRzRm9yRGlmZnVzZSA9IG51bUFsbExpZ2h0cyA+IDAgJiYgKGRpZmZ1c2VMaWdodFNvdXJjZXMgJiBMaWdodFNvdXJjZXMuTElHSFRTKSAhPSAwO1xuXHRcdHRoaXMudXNlc1Byb2Jlc0ZvckRpZmZ1c2UgPSBudW1MaWdodFByb2JlcyA+IDAgJiYgKGRpZmZ1c2VMaWdodFNvdXJjZXMgJiBMaWdodFNvdXJjZXMuUFJPQkVTKSAhPSAwO1xuXHRcdHRoaXMudXNlc1NoYWRvd3MgPSB0aGlzLl9yZW5kZXJMaWdodGluZ09iamVjdC5faVVzZXNTaGFkb3dzKCk7XG5cdH1cblxuXHQvKipcblx0ICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgY29uY3JldGUgY29tcGlsZXIgb2JqZWN0IGZvciB0aGlzIG9iamVjdFxuXHQgKlxuXHQgKiBAcGFyYW0gbWF0ZXJpYWxQYXNzVk9cblx0ICogQHJldHVybnMge2F3YXkubWF0ZXJpYWxzLlNoYWRlckxpZ2h0aW5nQ29tcGlsZXJ9XG5cdCAqL1xuXHRwdWJsaWMgY3JlYXRlQ29tcGlsZXIocmVuZGVyYWJsZUNsYXNzOklSZW5kZXJhYmxlQ2xhc3MsIHJlbmRlck9iamVjdDpJUmVuZGVyTGlnaHRpbmdPYmplY3QpOlNoYWRlckNvbXBpbGVyQmFzZVxuXHR7XG5cdFx0cmV0dXJuIG5ldyBTaGFkZXJMaWdodGluZ0NvbXBpbGVyKHJlbmRlcmFibGVDbGFzcywgcmVuZGVyT2JqZWN0LCB0aGlzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDbGVhcnMgZGVwZW5kZW5jeSBjb3VudHMgZm9yIGFsbCByZWdpc3RlcnMuIENhbGxlZCB3aGVuIHJlY29tcGlsaW5nIGEgcGFzcy5cblx0ICovXG5cdHB1YmxpYyByZXNldCgpXG5cdHtcblx0XHRzdXBlci5yZXNldCgpO1xuXG5cdFx0dGhpcy5udW1MaWdodHMgPSAwO1xuXHRcdHRoaXMudXNlc0xpZ2h0RmFsbE9mZiA9IHRydWU7XG5cdH1cblxuXG5cdC8qKlxuXHQgKlxuXHQgKlxuXHQgKiBAcGFyYW0gcmVuZGVyYWJsZVxuXHQgKiBAcGFyYW0gc3RhZ2Vcblx0ICogQHBhcmFtIGNhbWVyYVxuXHQgKi9cblx0cHVibGljIF9pUmVuZGVyKHJlbmRlcmFibGU6UmVuZGVyYWJsZUJhc2UsIGNhbWVyYTpDYW1lcmEsIHZpZXdQcm9qZWN0aW9uOk1hdHJpeDNEKVxuXHR7XG5cdFx0c3VwZXIuX2lSZW5kZXIocmVuZGVyYWJsZSwgY2FtZXJhLCB2aWV3UHJvamVjdGlvbik7XG5cblx0XHRpZiAodGhpcy51c2VzTGlnaHRzKVxuXHRcdFx0dGhpcy51cGRhdGVMaWdodHMoKTtcblxuXHRcdGlmICh0aGlzLnVzZXNQcm9iZXMpXG5cdFx0XHR0aGlzLnVwZGF0ZVByb2JlcygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgY29uc3RhbnQgZGF0YSByZW5kZXIgc3RhdGUgdXNlZCBieSB0aGUgbGlnaHRzLiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbCBmb3Igc3ViY2xhc3NlcyB0byBpbXBsZW1lbnQuXG5cdCAqL1xuXHRwcml2YXRlIHVwZGF0ZUxpZ2h0cygpXG5cdHtcblx0XHR2YXIgZGlyTGlnaHQ6RGlyZWN0aW9uYWxMaWdodDtcblx0XHR2YXIgcG9pbnRMaWdodDpQb2ludExpZ2h0O1xuXHRcdHZhciBpOm51bWJlciA9IDA7XG5cdFx0dmFyIGs6bnVtYmVyID0gMDtcblx0XHR2YXIgbGVuOm51bWJlcjtcblx0XHR2YXIgZGlyUG9zOlZlY3RvcjNEO1xuXHRcdHZhciB0b3RhbDpudW1iZXIgPSAwO1xuXHRcdHZhciBudW1MaWdodFR5cGVzOm51bWJlciA9IHRoaXMudXNlc1NoYWRvd3M/IDIgOiAxO1xuXHRcdHZhciBsOm51bWJlcjtcblx0XHR2YXIgb2Zmc2V0Om51bWJlcjtcblxuXHRcdHRoaXMuYW1iaWVudFIgPSB0aGlzLmFtYmllbnRHID0gdGhpcy5hbWJpZW50QiA9IDA7XG5cblx0XHRsID0gdGhpcy5saWdodFZlcnRleENvbnN0YW50SW5kZXg7XG5cdFx0ayA9IHRoaXMubGlnaHRGcmFnbWVudENvbnN0YW50SW5kZXg7XG5cblx0XHR2YXIgY2FzdDpudW1iZXIgPSAwO1xuXHRcdHZhciBkaXJMaWdodHM6QXJyYXk8RGlyZWN0aW9uYWxMaWdodD4gPSB0aGlzLmxpZ2h0UGlja2VyLmRpcmVjdGlvbmFsTGlnaHRzO1xuXHRcdG9mZnNldCA9IHRoaXMuZGlyZWN0aW9uYWxMaWdodHNPZmZzZXQ7XG5cdFx0bGVuID0gdGhpcy5saWdodFBpY2tlci5kaXJlY3Rpb25hbExpZ2h0cy5sZW5ndGg7XG5cblx0XHRpZiAob2Zmc2V0ID4gbGVuKSB7XG5cdFx0XHRjYXN0ID0gMTtcblx0XHRcdG9mZnNldCAtPSBsZW47XG5cdFx0fVxuXG5cdFx0Zm9yICg7IGNhc3QgPCBudW1MaWdodFR5cGVzOyArK2Nhc3QpIHtcblx0XHRcdGlmIChjYXN0KVxuXHRcdFx0XHRkaXJMaWdodHMgPSB0aGlzLmxpZ2h0UGlja2VyLmNhc3RpbmdEaXJlY3Rpb25hbExpZ2h0cztcblxuXHRcdFx0bGVuID0gZGlyTGlnaHRzLmxlbmd0aDtcblxuXHRcdFx0aWYgKGxlbiA+IHRoaXMubnVtRGlyZWN0aW9uYWxMaWdodHMpXG5cdFx0XHRcdGxlbiA9IHRoaXMubnVtRGlyZWN0aW9uYWxMaWdodHM7XG5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHRcdFx0XHRkaXJMaWdodCA9IGRpckxpZ2h0c1tvZmZzZXQgKyBpXTtcblx0XHRcdFx0ZGlyUG9zID0gZGlyTGlnaHQuc2NlbmVEaXJlY3Rpb247XG5cblx0XHRcdFx0dGhpcy5hbWJpZW50UiArPSBkaXJMaWdodC5faUFtYmllbnRSO1xuXHRcdFx0XHR0aGlzLmFtYmllbnRHICs9IGRpckxpZ2h0Ll9pQW1iaWVudEc7XG5cdFx0XHRcdHRoaXMuYW1iaWVudEIgKz0gZGlyTGlnaHQuX2lBbWJpZW50QjtcblxuXHRcdFx0XHRpZiAodGhpcy51c2VzVGFuZ2VudFNwYWNlKSB7XG5cdFx0XHRcdFx0dmFyIHg6bnVtYmVyID0gLWRpclBvcy54O1xuXHRcdFx0XHRcdHZhciB5Om51bWJlciA9IC1kaXJQb3MueTtcblx0XHRcdFx0XHR2YXIgejpudW1iZXIgPSAtZGlyUG9zLno7XG5cblx0XHRcdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVtsKytdID0gdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFswXSp4ICsgdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFs0XSp5ICsgdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFs4XSp6O1xuXHRcdFx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW2wrK10gPSB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzFdKnggKyB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzVdKnkgKyB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzldKno7XG5cdFx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbbCsrXSA9IHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbMl0qeCArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbNl0qeSArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbMTBdKno7XG5cdFx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbbCsrXSA9IDE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVtrKytdID0gLWRpclBvcy54O1xuXHRcdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IC1kaXJQb3MueTtcblx0XHRcdFx0XHR0aGlzLmZyYWdtZW50Q29uc3RhbnREYXRhW2srK10gPSAtZGlyUG9zLno7XG5cdFx0XHRcdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVtrKytdID0gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IGRpckxpZ2h0Ll9pRGlmZnVzZVI7XG5cdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IGRpckxpZ2h0Ll9pRGlmZnVzZUc7XG5cdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IGRpckxpZ2h0Ll9pRGlmZnVzZUI7XG5cdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IDE7XG5cblx0XHRcdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVtrKytdID0gZGlyTGlnaHQuX2lTcGVjdWxhclI7XG5cdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IGRpckxpZ2h0Ll9pU3BlY3VsYXJHO1xuXHRcdFx0XHR0aGlzLmZyYWdtZW50Q29uc3RhbnREYXRhW2srK10gPSBkaXJMaWdodC5faVNwZWN1bGFyQjtcblx0XHRcdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVtrKytdID0gMTtcblxuXHRcdFx0XHRpZiAoKyt0b3RhbCA9PSB0aGlzLm51bURpcmVjdGlvbmFsTGlnaHRzKSB7XG5cdFx0XHRcdFx0Ly8gYnJlYWsgbG9vcFxuXHRcdFx0XHRcdGkgPSBsZW47XG5cdFx0XHRcdFx0Y2FzdCA9IG51bUxpZ2h0VHlwZXM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBtb3JlIGRpcmVjdGlvbmFsIHN1cHBvcnRlZCB0aGFuIGN1cnJlbnRseSBwaWNrZWQsIG5lZWQgdG8gY2xhbXAgYWxsIHRvIDBcblx0XHRpZiAodGhpcy5udW1EaXJlY3Rpb25hbExpZ2h0cyA+IHRvdGFsKSB7XG5cdFx0XHRpID0gayArICh0aGlzLm51bURpcmVjdGlvbmFsTGlnaHRzIC0gdG90YWwpKjEyO1xuXG5cdFx0XHR3aGlsZSAoayA8IGkpXG5cdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IDA7XG5cdFx0fVxuXG5cdFx0dG90YWwgPSAwO1xuXG5cdFx0dmFyIHBvaW50TGlnaHRzOkFycmF5PFBvaW50TGlnaHQ+ID0gdGhpcy5saWdodFBpY2tlci5wb2ludExpZ2h0cztcblx0XHRvZmZzZXQgPSB0aGlzLnBvaW50TGlnaHRzT2Zmc2V0O1xuXHRcdGxlbiA9IHRoaXMubGlnaHRQaWNrZXIucG9pbnRMaWdodHMubGVuZ3RoO1xuXG5cdFx0aWYgKG9mZnNldCA+IGxlbikge1xuXHRcdFx0Y2FzdCA9IDE7XG5cdFx0XHRvZmZzZXQgLT0gbGVuO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYXN0ID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKDsgY2FzdCA8IG51bUxpZ2h0VHlwZXM7ICsrY2FzdCkge1xuXHRcdFx0aWYgKGNhc3QpXG5cdFx0XHRcdHBvaW50TGlnaHRzID0gdGhpcy5saWdodFBpY2tlci5jYXN0aW5nUG9pbnRMaWdodHM7XG5cblx0XHRcdGxlbiA9IHBvaW50TGlnaHRzLmxlbmd0aDtcblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdFx0XHRcdHBvaW50TGlnaHQgPSBwb2ludExpZ2h0c1tvZmZzZXQgKyBpXTtcblx0XHRcdFx0ZGlyUG9zID0gcG9pbnRMaWdodC5zY2VuZVBvc2l0aW9uO1xuXG5cdFx0XHRcdHRoaXMuYW1iaWVudFIgKz0gcG9pbnRMaWdodC5faUFtYmllbnRSO1xuXHRcdFx0XHR0aGlzLmFtYmllbnRHICs9IHBvaW50TGlnaHQuX2lBbWJpZW50Rztcblx0XHRcdFx0dGhpcy5hbWJpZW50QiArPSBwb2ludExpZ2h0Ll9pQW1iaWVudEI7XG5cblx0XHRcdFx0aWYgKHRoaXMudXNlc1RhbmdlbnRTcGFjZSkge1xuXHRcdFx0XHRcdHggPSBkaXJQb3MueDtcblx0XHRcdFx0XHR5ID0gZGlyUG9zLnk7XG5cdFx0XHRcdFx0eiA9IGRpclBvcy56O1xuXG5cdFx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbbCsrXSA9IHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbMF0qeCArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbNF0qeSArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbOF0qeiArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbMTJdO1xuXHRcdFx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW2wrK10gPSB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzFdKnggKyB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzVdKnkgKyB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzldKnogKyB0aGlzLl9wSW52ZXJzZVNjZW5lTWF0cml4WzEzXTtcblx0XHRcdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVtsKytdID0gdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFsyXSp4ICsgdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFs2XSp5ICsgdGhpcy5fcEludmVyc2VTY2VuZU1hdHJpeFsxMF0qeiArIHRoaXMuX3BJbnZlcnNlU2NlbmVNYXRyaXhbMTRdO1xuXHRcdFx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW2wrK10gPSAxO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCF0aGlzLnVzZXNHbG9iYWxQb3NGcmFnbWVudCkge1xuXHRcdFx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW2wrK10gPSBkaXJQb3MueDtcblx0XHRcdFx0XHR0aGlzLnZlcnRleENvbnN0YW50RGF0YVtsKytdID0gZGlyUG9zLnk7XG5cdFx0XHRcdFx0dGhpcy52ZXJ0ZXhDb25zdGFudERhdGFbbCsrXSA9IGRpclBvcy56O1xuXHRcdFx0XHRcdHRoaXMudmVydGV4Q29uc3RhbnREYXRhW2wrK10gPSAxO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IGRpclBvcy54O1xuXHRcdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IGRpclBvcy55O1xuXHRcdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IGRpclBvcy56O1xuXHRcdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IDE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmZyYWdtZW50Q29uc3RhbnREYXRhW2srK10gPSBwb2ludExpZ2h0Ll9pRGlmZnVzZVI7XG5cdFx0XHRcdHRoaXMuZnJhZ21lbnRDb25zdGFudERhdGFbaysrXSA9IHBvaW50TGlnaHQuX2lEaWZmdXNlRztcblx0XHRcdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVtrKytdID0gcG9pbnRMaWdodC5faURpZmZ1c2VCO1xuXG5cdFx0XHRcdHZhciByYWRpdXM6bnVtYmVyID0gcG9pbnRMaWdodC5fcFJhZGl1cztcblx0XHRcdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVtrKytdID0gcmFkaXVzKnJhZGl1cztcblxuXHRcdFx0XHR0aGlzLmZyYWdtZW50Q29uc3RhbnREYXRhW2srK10gPSBwb2ludExpZ2h0Ll9pU3BlY3VsYXJSO1xuXHRcdFx0XHR0aGlzLmZyYWdtZW50Q29uc3RhbnREYXRhW2srK10gPSBwb2ludExpZ2h0Ll9pU3BlY3VsYXJHO1xuXHRcdFx0XHR0aGlzLmZyYWdtZW50Q29uc3RhbnREYXRhW2srK10gPSBwb2ludExpZ2h0Ll9pU3BlY3VsYXJCO1xuXHRcdFx0XHR0aGlzLmZyYWdtZW50Q29uc3RhbnREYXRhW2srK10gPSBwb2ludExpZ2h0Ll9wRmFsbE9mZkZhY3RvcjtcblxuXHRcdFx0XHRpZiAoKyt0b3RhbCA9PSB0aGlzLm51bVBvaW50TGlnaHRzKSB7XG5cdFx0XHRcdFx0Ly8gYnJlYWsgbG9vcFxuXHRcdFx0XHRcdGkgPSBsZW47XG5cdFx0XHRcdFx0Y2FzdCA9IG51bUxpZ2h0VHlwZXM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBtb3JlIGRpcmVjdGlvbmFsIHN1cHBvcnRlZCB0aGFuIGN1cnJlbnRseSBwaWNrZWQsIG5lZWQgdG8gY2xhbXAgYWxsIHRvIDBcblx0XHRpZiAodGhpcy5udW1Qb2ludExpZ2h0cyA+IHRvdGFsKSB7XG5cdFx0XHRpID0gayArICh0b3RhbCAtIHRoaXMubnVtUG9pbnRMaWdodHMpKjEyO1xuXG5cdFx0XHRmb3IgKDsgayA8IGk7ICsraylcblx0XHRcdFx0dGhpcy5mcmFnbWVudENvbnN0YW50RGF0YVtrXSA9IDA7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgY29uc3RhbnQgZGF0YSByZW5kZXIgc3RhdGUgdXNlZCBieSB0aGUgbGlnaHQgcHJvYmVzLiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbCBmb3Igc3ViY2xhc3NlcyB0byBpbXBsZW1lbnQuXG5cdCAqL1xuXHRwcml2YXRlIHVwZGF0ZVByb2JlcygpXG5cdHtcblx0XHR2YXIgcHJvYmU6TGlnaHRQcm9iZTtcblx0XHR2YXIgbGlnaHRQcm9iZXM6QXJyYXk8TGlnaHRQcm9iZT4gPSB0aGlzLmxpZ2h0UGlja2VyLmxpZ2h0UHJvYmVzO1xuXHRcdHZhciB3ZWlnaHRzOkFycmF5PG51bWJlcj4gPSB0aGlzLmxpZ2h0UGlja2VyLmxpZ2h0UHJvYmVXZWlnaHRzO1xuXHRcdHZhciBsZW46bnVtYmVyID0gbGlnaHRQcm9iZXMubGVuZ3RoIC0gdGhpcy5saWdodFByb2Jlc09mZnNldDtcblx0XHR2YXIgYWRkRGlmZjpib29sZWFuID0gdGhpcy51c2VzUHJvYmVzRm9yRGlmZnVzZTtcblx0XHR2YXIgYWRkU3BlYzpib29sZWFuID0gdGhpcy51c2VzUHJvYmVzRm9yU3BlY3VsYXI7XG5cblx0XHRpZiAoIShhZGREaWZmIHx8IGFkZFNwZWMpKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0aWYgKGxlbiA+IHRoaXMubnVtTGlnaHRQcm9iZXMpXG5cdFx0XHRsZW4gPSB0aGlzLm51bUxpZ2h0UHJvYmVzO1xuXG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0XHRcdHByb2JlID0gbGlnaHRQcm9iZXNbIHRoaXMubGlnaHRQcm9iZXNPZmZzZXQgKyBpXTtcblxuXHRcdFx0aWYgKGFkZERpZmYpXG5cdFx0XHRcdHRoaXMuX3N0YWdlLmFjdGl2YXRlQ3ViZVRleHR1cmUodGhpcy5saWdodFByb2JlRGlmZnVzZUluZGljZXNbaV0sIHByb2JlLmRpZmZ1c2VNYXApO1xuXG5cdFx0XHRpZiAoYWRkU3BlYylcblx0XHRcdFx0dGhpcy5fc3RhZ2UuYWN0aXZhdGVDdWJlVGV4dHVyZSh0aGlzLmxpZ2h0UHJvYmVTcGVjdWxhckluZGljZXNbaV0sIHByb2JlLnNwZWN1bGFyTWFwKTtcblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpXG5cdFx0XHR0aGlzLmZyYWdtZW50Q29uc3RhbnREYXRhW3RoaXMucHJvYmVXZWlnaHRzSW5kZXggKyBpXSA9IHdlaWdodHNbdGhpcy5saWdodFByb2Jlc09mZnNldCArIGldO1xuXHR9XG5cblx0cHJpdmF0ZSBvbkxpZ2h0c0NoYW5nZShldmVudDpFdmVudClcblx0e1xuXHRcdHRoaXMuX3VwZGF0ZUxpZ2h0UGlja2VyKCk7XG5cdH1cblxuXHRwcml2YXRlIF91cGRhdGVMaWdodFBpY2tlcigpXG5cdHtcblx0XHR2YXIgbnVtRGlyZWN0aW9uYWxMaWdodHNPbGQ6bnVtYmVyID0gdGhpcy5udW1EaXJlY3Rpb25hbExpZ2h0cztcblx0XHR2YXIgbnVtUG9pbnRMaWdodHNPbGQ6bnVtYmVyID0gdGhpcy5udW1Qb2ludExpZ2h0cztcblx0XHR2YXIgbnVtTGlnaHRQcm9iZXNPbGQ6bnVtYmVyID0gdGhpcy5udW1MaWdodFByb2JlcztcblxuXHRcdGlmICh0aGlzLl9saWdodFBpY2tlciAmJiAodGhpcy5wYXNzTW9kZSAmIFNoYWRlclBhc3NNb2RlLkxJR0hUSU5HKSkge1xuXHRcdFx0dGhpcy5udW1EaXJlY3Rpb25hbExpZ2h0cyA9IHRoaXMuY2FsY3VsYXRlTnVtRGlyZWN0aW9uYWxMaWdodHModGhpcy5fbGlnaHRQaWNrZXIubnVtRGlyZWN0aW9uYWxMaWdodHMpO1xuXHRcdFx0dGhpcy5udW1Qb2ludExpZ2h0cyA9IHRoaXMuY2FsY3VsYXRlTnVtUG9pbnRMaWdodHModGhpcy5fbGlnaHRQaWNrZXIubnVtUG9pbnRMaWdodHMpO1xuXHRcdFx0dGhpcy5udW1MaWdodFByb2JlcyA9IHRoaXMuY2FsY3VsYXRlTnVtUHJvYmVzKHRoaXMuX2xpZ2h0UGlja2VyLm51bUxpZ2h0UHJvYmVzKTtcblxuXHRcdFx0aWYgKHRoaXMuaW5jbHVkZUNhc3RlcnMpIHtcblx0XHRcdFx0dGhpcy5udW1EaXJlY3Rpb25hbExpZ2h0cyArPSB0aGlzLl9saWdodFBpY2tlci5udW1DYXN0aW5nRGlyZWN0aW9uYWxMaWdodHM7XG5cdFx0XHRcdHRoaXMubnVtUG9pbnRMaWdodHMgKz0gdGhpcy5fbGlnaHRQaWNrZXIubnVtQ2FzdGluZ1BvaW50TGlnaHRzO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubnVtRGlyZWN0aW9uYWxMaWdodHMgPSAwO1xuXHRcdFx0dGhpcy5udW1Qb2ludExpZ2h0cyA9IDA7XG5cdFx0XHR0aGlzLm51bUxpZ2h0UHJvYmVzID0gMDtcblx0XHR9XG5cblx0XHR0aGlzLm51bUxpZ2h0cyA9IHRoaXMubnVtRGlyZWN0aW9uYWxMaWdodHMgKyB0aGlzLm51bVBvaW50TGlnaHRzO1xuXG5cdFx0aWYgKG51bURpcmVjdGlvbmFsTGlnaHRzT2xkICE9IHRoaXMubnVtRGlyZWN0aW9uYWxMaWdodHMgfHwgbnVtUG9pbnRMaWdodHNPbGQgIT0gdGhpcy5udW1Qb2ludExpZ2h0cyB8fCBudW1MaWdodFByb2Jlc09sZCAhPSB0aGlzLm51bUxpZ2h0UHJvYmVzKVxuXHRcdFx0dGhpcy5pbnZhbGlkYXRlU2hhZGVyKCk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBDYWxjdWxhdGVzIHRoZSBhbW91bnQgb2YgZGlyZWN0aW9uYWwgbGlnaHRzIHRoaXMgbWF0ZXJpYWwgd2lsbCBzdXBwb3J0LlxuXHQgKiBAcGFyYW0gbnVtRGlyZWN0aW9uYWxMaWdodHMgVGhlIG1heGltdW0gYW1vdW50IG9mIGRpcmVjdGlvbmFsIGxpZ2h0cyB0byBzdXBwb3J0LlxuXHQgKiBAcmV0dXJuIFRoZSBhbW91bnQgb2YgZGlyZWN0aW9uYWwgbGlnaHRzIHRoaXMgbWF0ZXJpYWwgd2lsbCBzdXBwb3J0LCBib3VuZGVkIGJ5IHRoZSBhbW91bnQgbmVjZXNzYXJ5LlxuXHQgKi9cblx0cHJpdmF0ZSBjYWxjdWxhdGVOdW1EaXJlY3Rpb25hbExpZ2h0cyhudW1EaXJlY3Rpb25hbExpZ2h0czpudW1iZXIpOm51bWJlclxuXHR7XG5cdFx0cmV0dXJuIE1hdGgubWluKG51bURpcmVjdGlvbmFsTGlnaHRzIC0gdGhpcy5kaXJlY3Rpb25hbExpZ2h0c09mZnNldCwgdGhpcy5fbWF4TGlnaHRzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxjdWxhdGVzIHRoZSBhbW91bnQgb2YgcG9pbnQgbGlnaHRzIHRoaXMgbWF0ZXJpYWwgd2lsbCBzdXBwb3J0LlxuXHQgKiBAcGFyYW0gbnVtRGlyZWN0aW9uYWxMaWdodHMgVGhlIG1heGltdW0gYW1vdW50IG9mIHBvaW50IGxpZ2h0cyB0byBzdXBwb3J0LlxuXHQgKiBAcmV0dXJuIFRoZSBhbW91bnQgb2YgcG9pbnQgbGlnaHRzIHRoaXMgbWF0ZXJpYWwgd2lsbCBzdXBwb3J0LCBib3VuZGVkIGJ5IHRoZSBhbW91bnQgbmVjZXNzYXJ5LlxuXHQgKi9cblx0cHJpdmF0ZSBjYWxjdWxhdGVOdW1Qb2ludExpZ2h0cyhudW1Qb2ludExpZ2h0czpudW1iZXIpOm51bWJlclxuXHR7XG5cdFx0dmFyIG51bUZyZWU6bnVtYmVyID0gdGhpcy5fbWF4TGlnaHRzIC0gdGhpcy5udW1EaXJlY3Rpb25hbExpZ2h0cztcblx0XHRyZXR1cm4gTWF0aC5taW4obnVtUG9pbnRMaWdodHMgLSB0aGlzLnBvaW50TGlnaHRzT2Zmc2V0LCBudW1GcmVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxjdWxhdGVzIHRoZSBhbW91bnQgb2YgbGlnaHQgcHJvYmVzIHRoaXMgbWF0ZXJpYWwgd2lsbCBzdXBwb3J0LlxuXHQgKiBAcGFyYW0gbnVtRGlyZWN0aW9uYWxMaWdodHMgVGhlIG1heGltdW0gYW1vdW50IG9mIGxpZ2h0IHByb2JlcyB0byBzdXBwb3J0LlxuXHQgKiBAcmV0dXJuIFRoZSBhbW91bnQgb2YgbGlnaHQgcHJvYmVzIHRoaXMgbWF0ZXJpYWwgd2lsbCBzdXBwb3J0LCBib3VuZGVkIGJ5IHRoZSBhbW91bnQgbmVjZXNzYXJ5LlxuXHQgKi9cblx0cHJpdmF0ZSBjYWxjdWxhdGVOdW1Qcm9iZXMobnVtTGlnaHRQcm9iZXM6bnVtYmVyKTpudW1iZXJcblx0e1xuXHRcdHZhciBudW1DaGFubmVsczpudW1iZXIgPSAwO1xuXG5cdFx0aWYgKCh0aGlzLl9yZW5kZXJMaWdodGluZ09iamVjdC5zcGVjdWxhckxpZ2h0U291cmNlcyAmIExpZ2h0U291cmNlcy5QUk9CRVMpICE9IDApXG5cdFx0XHQrK251bUNoYW5uZWxzO1xuXG5cdFx0aWYgKCh0aGlzLl9yZW5kZXJMaWdodGluZ09iamVjdC5kaWZmdXNlTGlnaHRTb3VyY2VzICYgTGlnaHRTb3VyY2VzLlBST0JFUykgIT0gMClcblx0XHRcdCsrbnVtQ2hhbm5lbHM7XG5cblx0XHQvLyA0IGNoYW5uZWxzIGF2YWlsYWJsZVxuXHRcdHJldHVybiBNYXRoLm1pbihudW1MaWdodFByb2JlcyAtIHRoaXMubGlnaHRQcm9iZXNPZmZzZXQsICg0L251bUNoYW5uZWxzKSB8IDApO1xuXHR9XG59XG5cbmV4cG9ydCA9IFNoYWRlckxpZ2h0aW5nT2JqZWN0OyJdfQ==