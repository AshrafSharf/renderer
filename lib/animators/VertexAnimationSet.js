var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var AnimationSetBase = require("awayjs-renderergl/lib/animators/AnimationSetBase");
var VertexAnimationMode = require("awayjs-renderergl/lib/animators/data/VertexAnimationMode");
/**
 * The animation data set used by vertex-based animators, containing vertex animation state data.
 *
 * @see VertexAnimator
 */
var VertexAnimationSet = (function (_super) {
    __extends(VertexAnimationSet, _super);
    /**
     * Returns whether or not normal data is used in last set GPU pass of the vertex shader.
     */
    //		public get useNormals():boolean
    //		{
    //			return this._uploadNormals;
    //		}
    /**
     * Creates a new <code>VertexAnimationSet</code> object.
     *
     * @param numPoses The number of poses made available at once to the GPU animation code.
     * @param blendMode Optional value for setting the animation mode of the vertex animator object.
     *
     * @see away3d.animators.data.VertexAnimationMode
     */
    function VertexAnimationSet(numPoses, blendMode) {
        if (numPoses === void 0) { numPoses = 2; }
        if (blendMode === void 0) { blendMode = "absolute"; }
        _super.call(this);
        this._numPoses = numPoses;
        this._blendMode = blendMode;
    }
    Object.defineProperty(VertexAnimationSet.prototype, "numPoses", {
        /**
         * Returns the number of poses made available at once to the GPU animation code.
         */
        get: function () {
            return this._numPoses;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VertexAnimationSet.prototype, "blendMode", {
        /**
         * Returns the active blend mode of the vertex animator object.
         */
        get: function () {
            return this._blendMode;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @inheritDoc
     */
    VertexAnimationSet.prototype.getAGALVertexCode = function (shaderObject) {
        if (this._blendMode == VertexAnimationMode.ABSOLUTE)
            return this.getAbsoluteAGALCode(shaderObject);
        else
            return this.getAdditiveAGALCode(shaderObject);
    };
    /**
     * @inheritDoc
     */
    VertexAnimationSet.prototype.activate = function (shaderObject, stage) {
        //			var uID:number = pass._iUniqueId;
        //			this._uploadNormals = <boolean> this._useNormals[uID];
        //			this._uploadTangents = <boolean> this._useTangents[uID];
    };
    /**
     * @inheritDoc
     */
    VertexAnimationSet.prototype.deactivate = function (shaderObject, stage) {
        //			var uID:number = pass._iUniqueId;
        //			var index:number /*uint*/ = this._streamIndices[uID];
        //			var context:IContextGL = <IContextGL> stage.context;
        //			context.setVertexBufferAt(index, null);
        //			if (this._uploadNormals)
        //				context.setVertexBufferAt(index + 1, null);
        //			if (this._uploadTangents)
        //				context.setVertexBufferAt(index + 2, null);
    };
    /**
     * @inheritDoc
     */
    VertexAnimationSet.prototype.getAGALFragmentCode = function (shaderObject, shadedTarget) {
        return "";
    };
    /**
     * @inheritDoc
     */
    VertexAnimationSet.prototype.getAGALUVCode = function (shaderObject) {
        return "mov " + shaderObject.uvTarget + "," + shaderObject.uvSource + "\n";
    };
    /**
     * @inheritDoc
     */
    VertexAnimationSet.prototype.doneAGALCode = function (shaderObject) {
    };
    /**
     * Generates the vertex AGAL code for absolute blending.
     */
    VertexAnimationSet.prototype.getAbsoluteAGALCode = function (shaderObject) {
        var code = "";
        var temp1 = this._pFindTempReg(shaderObject.animationTargetRegisters);
        var temp2 = this._pFindTempReg(shaderObject.animationTargetRegisters, temp1);
        var regs = new Array("x", "y", "z", "w");
        var len = shaderObject.animatableAttributes.length;
        var constantReg = "vc" + shaderObject.numUsedVertexConstants;
        if (len > 2)
            len = 2;
        var streamIndex = shaderObject.numUsedStreams;
        for (var i = 0; i < len; ++i) {
            code += "mul " + temp1 + ", " + shaderObject.animatableAttributes[i] + ", " + constantReg + "." + regs[0] + "\n";
            for (var j = 1; j < this._numPoses; ++j) {
                code += "mul " + temp2 + ", va" + streamIndex + ", " + constantReg + "." + regs[j] + "\n";
                if (j < this._numPoses - 1)
                    code += "add " + temp1 + ", " + temp1 + ", " + temp2 + "\n";
                ++streamIndex;
            }
            code += "add " + shaderObject.animationTargetRegisters[i] + ", " + temp1 + ", " + temp2 + "\n";
        }
        // add code for bitangents if tangents are used
        if (shaderObject.tangentDependencies > 0 || shaderObject.outputsNormals) {
            code += "dp3 " + temp1 + ".x, " + shaderObject.animatableAttributes[2] + ", " + shaderObject.animationTargetRegisters[1] + "\n" + "mul " + temp1 + ", " + shaderObject.animationTargetRegisters[1] + ", " + temp1 + ".x\n" + "sub " + shaderObject.animationTargetRegisters[2] + ", " + shaderObject.animationTargetRegisters[2] + ", " + temp1 + "\n";
        }
        return code;
    };
    /**
     * Generates the vertex AGAL code for additive blending.
     */
    VertexAnimationSet.prototype.getAdditiveAGALCode = function (shaderObject) {
        var code = "";
        var len = shaderObject.animatableAttributes.length;
        var regs = ["x", "y", "z", "w"];
        var temp1 = this._pFindTempReg(shaderObject.animationTargetRegisters);
        var k /*uint*/;
        var streamIndex = shaderObject.numUsedStreams;
        if (len > 2)
            len = 2;
        code += "mov  " + shaderObject.animationTargetRegisters[0] + ", " + shaderObject.animatableAttributes[0] + "\n";
        if (shaderObject.normalDependencies > 0)
            code += "mov " + shaderObject.animationTargetRegisters[1] + ", " + shaderObject.animatableAttributes[1] + "\n";
        for (var i = 0; i < len; ++i) {
            for (var j = 0; j < this._numPoses; ++j) {
                code += "mul " + temp1 + ", va" + (streamIndex + k) + ", vc" + shaderObject.numUsedVertexConstants + "." + regs[j] + "\n" + "add " + shaderObject.animationTargetRegisters[i] + ", " + shaderObject.animationTargetRegisters[i] + ", " + temp1 + "\n";
                k++;
            }
        }
        if (shaderObject.tangentDependencies > 0 || shaderObject.outputsNormals) {
            code += "dp3 " + temp1 + ".x, " + shaderObject.animatableAttributes[2] + ", " + shaderObject.animationTargetRegisters[1] + "\n" + "mul " + temp1 + ", " + shaderObject.animationTargetRegisters[1] + ", " + temp1 + ".x\n" + "sub " + shaderObject.animationTargetRegisters[2] + ", " + shaderObject.animatableAttributes[2] + ", " + temp1 + "\n";
        }
        return code;
    };
    return VertexAnimationSet;
})(AnimationSetBase);
module.exports = VertexAnimationSet;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvVmVydGV4QW5pbWF0aW9uU2V0LnRzIl0sIm5hbWVzIjpbIlZlcnRleEFuaW1hdGlvblNldCIsIlZlcnRleEFuaW1hdGlvblNldC5jb25zdHJ1Y3RvciIsIlZlcnRleEFuaW1hdGlvblNldC5udW1Qb3NlcyIsIlZlcnRleEFuaW1hdGlvblNldC5ibGVuZE1vZGUiLCJWZXJ0ZXhBbmltYXRpb25TZXQuZ2V0QUdBTFZlcnRleENvZGUiLCJWZXJ0ZXhBbmltYXRpb25TZXQuYWN0aXZhdGUiLCJWZXJ0ZXhBbmltYXRpb25TZXQuZGVhY3RpdmF0ZSIsIlZlcnRleEFuaW1hdGlvblNldC5nZXRBR0FMRnJhZ21lbnRDb2RlIiwiVmVydGV4QW5pbWF0aW9uU2V0LmdldEFHQUxVVkNvZGUiLCJWZXJ0ZXhBbmltYXRpb25TZXQuZG9uZUFHQUxDb2RlIiwiVmVydGV4QW5pbWF0aW9uU2V0LmdldEFic29sdXRlQUdBTENvZGUiLCJWZXJ0ZXhBbmltYXRpb25TZXQuZ2V0QWRkaXRpdmVBR0FMQ29kZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBSUEsSUFBTyxnQkFBZ0IsV0FBZSxrREFBa0QsQ0FBQyxDQUFDO0FBQzFGLElBQU8sbUJBQW1CLFdBQWMsMERBQTBELENBQUMsQ0FBQztBQUdwRyxBQUtBOzs7O0dBREc7SUFDRyxrQkFBa0I7SUFBU0EsVUFBM0JBLGtCQUFrQkEsVUFBeUJBO0lBcUJoREE7O09BRUdBO0lBQ0pBLG1DQUFtQ0E7SUFDbkNBLEtBQUtBO0lBQ0xBLGdDQUFnQ0E7SUFDaENBLEtBQUtBO0lBRUpBOzs7Ozs7O09BT0dBO0lBQ0hBLFNBckNLQSxrQkFBa0JBLENBcUNYQSxRQUE0QkEsRUFBRUEsU0FBNkJBO1FBQTNEQyx3QkFBNEJBLEdBQTVCQSxZQUE0QkE7UUFBRUEseUJBQTZCQSxHQUE3QkEsc0JBQTZCQTtRQUV0RUEsaUJBQU9BLENBQUNBO1FBQ1JBLElBQUlBLENBQUNBLFNBQVNBLEdBQUdBLFFBQVFBLENBQUNBO1FBQzFCQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxTQUFTQSxDQUFDQTtJQUU3QkEsQ0FBQ0E7SUFuQ0RELHNCQUFXQSx3Q0FBUUE7UUFIbkJBOztXQUVHQTthQUNIQTtZQUVDRSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQTtRQUN2QkEsQ0FBQ0E7OztPQUFBRjtJQUtEQSxzQkFBV0EseUNBQVNBO1FBSHBCQTs7V0FFR0E7YUFDSEE7WUFFQ0csTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0E7UUFDeEJBLENBQUNBOzs7T0FBQUg7SUEwQkRBOztPQUVHQTtJQUNJQSw4Q0FBaUJBLEdBQXhCQSxVQUF5QkEsWUFBNkJBO1FBRXJESSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxJQUFJQSxtQkFBbUJBLENBQUNBLFFBQVFBLENBQUNBO1lBQ25EQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxtQkFBbUJBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO1FBQy9DQSxJQUFJQTtZQUNIQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxtQkFBbUJBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO0lBQ2hEQSxDQUFDQTtJQUVESjs7T0FFR0E7SUFDSUEscUNBQVFBLEdBQWZBLFVBQWdCQSxZQUE2QkEsRUFBRUEsS0FBV0E7UUFFM0RLLHNDQUFzQ0E7UUFDdENBLDJEQUEyREE7UUFDM0RBLDZEQUE2REE7SUFDNURBLENBQUNBO0lBRURMOztPQUVHQTtJQUNJQSx1Q0FBVUEsR0FBakJBLFVBQWtCQSxZQUE2QkEsRUFBRUEsS0FBV0E7UUFFN0RNLHNDQUFzQ0E7UUFDdENBLDBEQUEwREE7UUFDMURBLHlEQUF5REE7UUFDekRBLDRDQUE0Q0E7UUFDNUNBLDZCQUE2QkE7UUFDN0JBLGlEQUFpREE7UUFDakRBLDhCQUE4QkE7UUFDOUJBLGlEQUFpREE7SUFDaERBLENBQUNBO0lBRUROOztPQUVHQTtJQUNJQSxnREFBbUJBLEdBQTFCQSxVQUEyQkEsWUFBNkJBLEVBQUVBLFlBQW1CQTtRQUU1RU8sTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0E7SUFDWEEsQ0FBQ0E7SUFFRFA7O09BRUdBO0lBQ0lBLDBDQUFhQSxHQUFwQkEsVUFBcUJBLFlBQTZCQTtRQUVqRFEsTUFBTUEsQ0FBQ0EsTUFBTUEsR0FBR0EsWUFBWUEsQ0FBQ0EsUUFBUUEsR0FBR0EsR0FBR0EsR0FBR0EsWUFBWUEsQ0FBQ0EsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDNUVBLENBQUNBO0lBRURSOztPQUVHQTtJQUNJQSx5Q0FBWUEsR0FBbkJBLFVBQW9CQSxZQUE2QkE7SUFHakRTLENBQUNBO0lBRURUOztPQUVHQTtJQUNLQSxnREFBbUJBLEdBQTNCQSxVQUE0QkEsWUFBNkJBO1FBRXhEVSxJQUFJQSxJQUFJQSxHQUFVQSxFQUFFQSxDQUFDQTtRQUNyQkEsSUFBSUEsS0FBS0EsR0FBVUEsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsWUFBWUEsQ0FBQ0Esd0JBQXdCQSxDQUFDQSxDQUFDQTtRQUM3RUEsSUFBSUEsS0FBS0EsR0FBVUEsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsWUFBWUEsQ0FBQ0Esd0JBQXdCQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtRQUNwRkEsSUFBSUEsSUFBSUEsR0FBaUJBLElBQUlBLEtBQUtBLENBQVNBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBO1FBQy9EQSxJQUFJQSxHQUFHQSxHQUFtQkEsWUFBWUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUNuRUEsSUFBSUEsV0FBV0EsR0FBVUEsSUFBSUEsR0FBR0EsWUFBWUEsQ0FBQ0Esc0JBQXNCQSxDQUFDQTtRQUVwRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDWEEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDVEEsSUFBSUEsV0FBV0EsR0FBbUJBLFlBQVlBLENBQUNBLGNBQWNBLENBQUNBO1FBRTlEQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFtQkEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsR0FBR0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0E7WUFDOUNBLElBQUlBLElBQUlBLE1BQU1BLEdBQUdBLEtBQUtBLEdBQUdBLElBQUlBLEdBQUdBLFlBQVlBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsR0FBR0EsV0FBV0EsR0FBR0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFFakhBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEdBQW1CQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQTtnQkFDekRBLElBQUlBLElBQUlBLE1BQU1BLEdBQUdBLEtBQUtBLEdBQUdBLE1BQU1BLEdBQUdBLFdBQVdBLEdBQUdBLElBQUlBLEdBQUdBLFdBQVdBLEdBQUdBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO2dCQUUxRkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7b0JBQzFCQSxJQUFJQSxJQUFJQSxNQUFNQSxHQUFHQSxLQUFLQSxHQUFHQSxJQUFJQSxHQUFHQSxLQUFLQSxHQUFHQSxJQUFJQSxHQUFHQSxLQUFLQSxHQUFHQSxJQUFJQSxDQUFDQTtnQkFFN0RBLEVBQUVBLFdBQVdBLENBQUNBO1lBQ2ZBLENBQUNBO1lBRURBLElBQUlBLElBQUlBLE1BQU1BLEdBQUdBLFlBQVlBLENBQUNBLHdCQUF3QkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsR0FBR0EsS0FBS0EsR0FBR0EsSUFBSUEsR0FBR0EsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7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Z0IsRUFxTGhEO0FBRUQsQUFBNEIsaUJBQW5CLGtCQUFrQixDQUFDIiwiZmlsZSI6ImFuaW1hdG9ycy9WZXJ0ZXhBbmltYXRpb25TZXQuanMiLCJzb3VyY2VSb290IjoiLi4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IElBbmltYXRpb25TZXRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2FuaW1hdG9ycy9JQW5pbWF0aW9uU2V0XCIpO1xyXG5cclxuaW1wb3J0IFN0YWdlXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9TdGFnZVwiKTtcclxuXHJcbmltcG9ydCBBbmltYXRpb25TZXRCYXNlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvQW5pbWF0aW9uU2V0QmFzZVwiKTtcclxuaW1wb3J0IFZlcnRleEFuaW1hdGlvbk1vZGVcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvZGF0YS9WZXJ0ZXhBbmltYXRpb25Nb2RlXCIpO1xyXG5pbXBvcnQgU2hhZGVyT2JqZWN0QmFzZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvY29tcGlsYXRpb24vU2hhZGVyT2JqZWN0QmFzZVwiKTtcclxuXHJcbi8qKlxyXG4gKiBUaGUgYW5pbWF0aW9uIGRhdGEgc2V0IHVzZWQgYnkgdmVydGV4LWJhc2VkIGFuaW1hdG9ycywgY29udGFpbmluZyB2ZXJ0ZXggYW5pbWF0aW9uIHN0YXRlIGRhdGEuXHJcbiAqXHJcbiAqIEBzZWUgVmVydGV4QW5pbWF0b3JcclxuICovXHJcbmNsYXNzIFZlcnRleEFuaW1hdGlvblNldCBleHRlbmRzIEFuaW1hdGlvblNldEJhc2UgaW1wbGVtZW50cyBJQW5pbWF0aW9uU2V0XHJcbntcclxuXHRwcml2YXRlIF9udW1Qb3NlczpudW1iZXIgLyp1aW50Ki87XHJcblx0cHJpdmF0ZSBfYmxlbmRNb2RlOnN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHBvc2VzIG1hZGUgYXZhaWxhYmxlIGF0IG9uY2UgdG8gdGhlIEdQVSBhbmltYXRpb24gY29kZS5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0IG51bVBvc2VzKCk6bnVtYmVyIC8qdWludCovXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMuX251bVBvc2VzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0aGUgYWN0aXZlIGJsZW5kIG1vZGUgb2YgdGhlIHZlcnRleCBhbmltYXRvciBvYmplY3QuXHJcblx0ICovXHJcblx0cHVibGljIGdldCBibGVuZE1vZGUoKTpzdHJpbmdcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBub3JtYWwgZGF0YSBpcyB1c2VkIGluIGxhc3Qgc2V0IEdQVSBwYXNzIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxyXG5cdCAqL1xyXG4vL1x0XHRwdWJsaWMgZ2V0IHVzZU5vcm1hbHMoKTpib29sZWFuXHJcbi8vXHRcdHtcclxuLy9cdFx0XHRyZXR1cm4gdGhpcy5fdXBsb2FkTm9ybWFscztcclxuLy9cdFx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGVzIGEgbmV3IDxjb2RlPlZlcnRleEFuaW1hdGlvblNldDwvY29kZT4gb2JqZWN0LlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIG51bVBvc2VzIFRoZSBudW1iZXIgb2YgcG9zZXMgbWFkZSBhdmFpbGFibGUgYXQgb25jZSB0byB0aGUgR1BVIGFuaW1hdGlvbiBjb2RlLlxyXG5cdCAqIEBwYXJhbSBibGVuZE1vZGUgT3B0aW9uYWwgdmFsdWUgZm9yIHNldHRpbmcgdGhlIGFuaW1hdGlvbiBtb2RlIG9mIHRoZSB2ZXJ0ZXggYW5pbWF0b3Igb2JqZWN0LlxyXG5cdCAqXHJcblx0ICogQHNlZSBhd2F5M2QuYW5pbWF0b3JzLmRhdGEuVmVydGV4QW5pbWF0aW9uTW9kZVxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKG51bVBvc2VzOm51bWJlciAvKnVpbnQqLyA9IDIsIGJsZW5kTW9kZTpzdHJpbmcgPSBcImFic29sdXRlXCIpXHJcblx0e1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMuX251bVBvc2VzID0gbnVtUG9zZXM7XHJcblx0XHR0aGlzLl9ibGVuZE1vZGUgPSBibGVuZE1vZGU7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQGluaGVyaXREb2NcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0QUdBTFZlcnRleENvZGUoc2hhZGVyT2JqZWN0OlNoYWRlck9iamVjdEJhc2UpOnN0cmluZ1xyXG5cdHtcclxuXHRcdGlmICh0aGlzLl9ibGVuZE1vZGUgPT0gVmVydGV4QW5pbWF0aW9uTW9kZS5BQlNPTFVURSlcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVBR0FMQ29kZShzaGFkZXJPYmplY3QpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRBZGRpdGl2ZUFHQUxDb2RlKHNoYWRlck9iamVjdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAaW5oZXJpdERvY1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBhY3RpdmF0ZShzaGFkZXJPYmplY3Q6U2hhZGVyT2JqZWN0QmFzZSwgc3RhZ2U6U3RhZ2UpXHJcblx0e1xyXG4vL1x0XHRcdHZhciB1SUQ6bnVtYmVyID0gcGFzcy5faVVuaXF1ZUlkO1xyXG4vL1x0XHRcdHRoaXMuX3VwbG9hZE5vcm1hbHMgPSA8Ym9vbGVhbj4gdGhpcy5fdXNlTm9ybWFsc1t1SURdO1xyXG4vL1x0XHRcdHRoaXMuX3VwbG9hZFRhbmdlbnRzID0gPGJvb2xlYW4+IHRoaXMuX3VzZVRhbmdlbnRzW3VJRF07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAaW5oZXJpdERvY1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZWFjdGl2YXRlKHNoYWRlck9iamVjdDpTaGFkZXJPYmplY3RCYXNlLCBzdGFnZTpTdGFnZSlcclxuXHR7XHJcbi8vXHRcdFx0dmFyIHVJRDpudW1iZXIgPSBwYXNzLl9pVW5pcXVlSWQ7XHJcbi8vXHRcdFx0dmFyIGluZGV4Om51bWJlciAvKnVpbnQqLyA9IHRoaXMuX3N0cmVhbUluZGljZXNbdUlEXTtcclxuLy9cdFx0XHR2YXIgY29udGV4dDpJQ29udGV4dEdMID0gPElDb250ZXh0R0w+IHN0YWdlLmNvbnRleHQ7XHJcbi8vXHRcdFx0Y29udGV4dC5zZXRWZXJ0ZXhCdWZmZXJBdChpbmRleCwgbnVsbCk7XHJcbi8vXHRcdFx0aWYgKHRoaXMuX3VwbG9hZE5vcm1hbHMpXHJcbi8vXHRcdFx0XHRjb250ZXh0LnNldFZlcnRleEJ1ZmZlckF0KGluZGV4ICsgMSwgbnVsbCk7XHJcbi8vXHRcdFx0aWYgKHRoaXMuX3VwbG9hZFRhbmdlbnRzKVxyXG4vL1x0XHRcdFx0Y29udGV4dC5zZXRWZXJ0ZXhCdWZmZXJBdChpbmRleCArIDIsIG51bGwpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQGluaGVyaXREb2NcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0QUdBTEZyYWdtZW50Q29kZShzaGFkZXJPYmplY3Q6U2hhZGVyT2JqZWN0QmFzZSwgc2hhZGVkVGFyZ2V0OnN0cmluZyk6c3RyaW5nXHJcblx0e1xyXG5cdFx0cmV0dXJuIFwiXCI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAaW5oZXJpdERvY1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRBR0FMVVZDb2RlKHNoYWRlck9iamVjdDpTaGFkZXJPYmplY3RCYXNlKTpzdHJpbmdcclxuXHR7XHJcblx0XHRyZXR1cm4gXCJtb3YgXCIgKyBzaGFkZXJPYmplY3QudXZUYXJnZXQgKyBcIixcIiArIHNoYWRlck9iamVjdC51dlNvdXJjZSArIFwiXFxuXCI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAaW5oZXJpdERvY1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkb25lQUdBTENvZGUoc2hhZGVyT2JqZWN0OlNoYWRlck9iamVjdEJhc2UpXHJcblx0e1xyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlcyB0aGUgdmVydGV4IEFHQUwgY29kZSBmb3IgYWJzb2x1dGUgYmxlbmRpbmcuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRBYnNvbHV0ZUFHQUxDb2RlKHNoYWRlck9iamVjdDpTaGFkZXJPYmplY3RCYXNlKTpzdHJpbmdcclxuXHR7XHJcblx0XHR2YXIgY29kZTpzdHJpbmcgPSBcIlwiO1xyXG5cdFx0dmFyIHRlbXAxOnN0cmluZyA9IHRoaXMuX3BGaW5kVGVtcFJlZyhzaGFkZXJPYmplY3QuYW5pbWF0aW9uVGFyZ2V0UmVnaXN0ZXJzKTtcclxuXHRcdHZhciB0ZW1wMjpzdHJpbmcgPSB0aGlzLl9wRmluZFRlbXBSZWcoc2hhZGVyT2JqZWN0LmFuaW1hdGlvblRhcmdldFJlZ2lzdGVycywgdGVtcDEpO1xyXG5cdFx0dmFyIHJlZ3M6QXJyYXk8c3RyaW5nPiA9IG5ldyBBcnJheTxzdHJpbmc+KFwieFwiLCBcInlcIiwgXCJ6XCIsIFwid1wiKTtcclxuXHRcdHZhciBsZW46bnVtYmVyIC8qdWludCovID0gc2hhZGVyT2JqZWN0LmFuaW1hdGFibGVBdHRyaWJ1dGVzLmxlbmd0aDtcclxuXHRcdHZhciBjb25zdGFudFJlZzpzdHJpbmcgPSBcInZjXCIgKyBzaGFkZXJPYmplY3QubnVtVXNlZFZlcnRleENvbnN0YW50cztcclxuXHJcblx0XHRpZiAobGVuID4gMilcclxuXHRcdFx0bGVuID0gMjtcclxuXHRcdHZhciBzdHJlYW1JbmRleDpudW1iZXIgLyp1aW50Ki8gPSBzaGFkZXJPYmplY3QubnVtVXNlZFN0cmVhbXM7XHJcblxyXG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgLyp1aW50Ki8gPSAwOyBpIDwgbGVuOyArK2kpIHtcclxuXHRcdFx0Y29kZSArPSBcIm11bCBcIiArIHRlbXAxICsgXCIsIFwiICsgc2hhZGVyT2JqZWN0LmFuaW1hdGFibGVBdHRyaWJ1dGVzW2ldICsgXCIsIFwiICsgY29uc3RhbnRSZWcgKyBcIi5cIiArIHJlZ3NbMF0gKyBcIlxcblwiO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgajpudW1iZXIgLyp1aW50Ki8gPSAxOyBqIDwgdGhpcy5fbnVtUG9zZXM7ICsraikge1xyXG5cdFx0XHRcdGNvZGUgKz0gXCJtdWwgXCIgKyB0ZW1wMiArIFwiLCB2YVwiICsgc3RyZWFtSW5kZXggKyBcIiwgXCIgKyBjb25zdGFudFJlZyArIFwiLlwiICsgcmVnc1tqXSArIFwiXFxuXCI7XHJcblxyXG5cdFx0XHRcdGlmIChqIDwgdGhpcy5fbnVtUG9zZXMgLSAxKVxyXG5cdFx0XHRcdFx0Y29kZSArPSBcImFkZCBcIiArIHRlbXAxICsgXCIsIFwiICsgdGVtcDEgKyBcIiwgXCIgKyB0ZW1wMiArIFwiXFxuXCI7XHJcblxyXG5cdFx0XHRcdCsrc3RyZWFtSW5kZXg7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvZGUgKz0gXCJhZGQgXCIgKyBzaGFkZXJPYmplY3QuYW5pbWF0aW9uVGFyZ2V0UmVnaXN0ZXJzW2ldICsgXCIsIFwiICsgdGVtcDEgKyBcIiwgXCIgKyB0ZW1wMiArIFwiXFxuXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYWRkIGNvZGUgZm9yIGJpdGFuZ2VudHMgaWYgdGFuZ2VudHMgYXJlIHVzZWRcclxuXHRcdGlmIChzaGFkZXJPYmplY3QudGFuZ2VudERlcGVuZGVuY2llcyA+IDAgfHwgc2hhZGVyT2JqZWN0Lm91dHB1dHNOb3JtYWxzKSB7XHJcblx0XHRcdGNvZGUgKz0gXCJkcDMgXCIgKyB0ZW1wMSArIFwiLngsIFwiICsgc2hhZGVyT2JqZWN0LmFuaW1hdGFibGVBdHRyaWJ1dGVzWzJdICsgXCIsIFwiICsgc2hhZGVyT2JqZWN0LmFuaW1hdGlvblRhcmdldFJlZ2lzdGVyc1sxXSArIFwiXFxuXCIgK1xyXG5cdFx0XHRcdFwibXVsIFwiICsgdGVtcDEgKyBcIiwgXCIgKyBzaGFkZXJPYmplY3QuYW5pbWF0aW9uVGFyZ2V0UmVnaXN0ZXJzWzFdICsgXCIsIFwiICsgdGVtcDEgKyBcIi54XFxuXCIgK1xyXG5cdFx0XHRcdFwic3ViIFwiICsgc2hhZGVyT2JqZWN0LmFuaW1hdGlvblRhcmdldFJlZ2lzdGVyc1syXSArIFwiLCBcIiArIHNoYWRlck9iamVjdC5hbmltYXRpb25UYXJnZXRSZWdpc3RlcnNbMl0gKyBcIiwgXCIgKyB0ZW1wMSArIFwiXFxuXCI7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gY29kZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlcyB0aGUgdmVydGV4IEFHQUwgY29kZSBmb3IgYWRkaXRpdmUgYmxlbmRpbmcuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRBZGRpdGl2ZUFHQUxDb2RlKHNoYWRlck9iamVjdDpTaGFkZXJPYmplY3RCYXNlKTpzdHJpbmdcclxuXHR7XHJcblx0XHR2YXIgY29kZTpzdHJpbmcgPSBcIlwiO1xyXG5cdFx0dmFyIGxlbjpudW1iZXIgLyp1aW50Ki8gPSBzaGFkZXJPYmplY3QuYW5pbWF0YWJsZUF0dHJpYnV0ZXMubGVuZ3RoO1xyXG5cdFx0dmFyIHJlZ3M6QXJyYXk8c3RyaW5nPiA9IFtcInhcIiwgXCJ5XCIsIFwielwiLCBcIndcIl07XHJcblx0XHR2YXIgdGVtcDE6c3RyaW5nID0gdGhpcy5fcEZpbmRUZW1wUmVnKHNoYWRlck9iamVjdC5hbmltYXRpb25UYXJnZXRSZWdpc3RlcnMpO1xyXG5cdFx0dmFyIGs6bnVtYmVyIC8qdWludCovO1xyXG5cclxuXHRcdHZhciBzdHJlYW1JbmRleDpudW1iZXIgLyp1aW50Ki8gPSBzaGFkZXJPYmplY3QubnVtVXNlZFN0cmVhbXM7XHJcblxyXG5cdFx0aWYgKGxlbiA+IDIpXHJcblx0XHRcdGxlbiA9IDI7XHJcblxyXG5cdFx0Y29kZSArPSBcIm1vdiAgXCIgKyBzaGFkZXJPYmplY3QuYW5pbWF0aW9uVGFyZ2V0UmVnaXN0ZXJzWzBdICsgXCIsIFwiICsgc2hhZGVyT2JqZWN0LmFuaW1hdGFibGVBdHRyaWJ1dGVzWzBdICsgXCJcXG5cIjtcclxuXHRcdGlmIChzaGFkZXJPYmplY3Qubm9ybWFsRGVwZW5kZW5jaWVzID4gMClcclxuXHRcdFx0Y29kZSArPSBcIm1vdiBcIiArIHNoYWRlck9iamVjdC5hbmltYXRpb25UYXJnZXRSZWdpc3RlcnNbMV0gKyBcIiwgXCIgKyBzaGFkZXJPYmplY3QuYW5pbWF0YWJsZUF0dHJpYnV0ZXNbMV0gKyBcIlxcblwiO1xyXG5cclxuXHRcdGZvciAodmFyIGk6bnVtYmVyIC8qdWludCovID0gMDsgaSA8IGxlbjsgKytpKSB7XHJcblx0XHRcdGZvciAodmFyIGo6bnVtYmVyIC8qdWludCovID0gMDsgaiA8IHRoaXMuX251bVBvc2VzOyArK2opIHtcclxuXHRcdFx0XHRjb2RlICs9IFwibXVsIFwiICsgdGVtcDEgKyBcIiwgdmFcIiArIChzdHJlYW1JbmRleCArIGspICsgXCIsIHZjXCIgKyBzaGFkZXJPYmplY3QubnVtVXNlZFZlcnRleENvbnN0YW50cyArIFwiLlwiICsgcmVnc1tqXSArIFwiXFxuXCIgK1xyXG5cdFx0XHRcdFx0XCJhZGQgXCIgKyBzaGFkZXJPYmplY3QuYW5pbWF0aW9uVGFyZ2V0UmVnaXN0ZXJzW2ldICsgXCIsIFwiICsgc2hhZGVyT2JqZWN0LmFuaW1hdGlvblRhcmdldFJlZ2lzdGVyc1tpXSArIFwiLCBcIiArIHRlbXAxICsgXCJcXG5cIjtcclxuXHRcdFx0XHRrKys7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2hhZGVyT2JqZWN0LnRhbmdlbnREZXBlbmRlbmNpZXMgPiAwIHx8IHNoYWRlck9iamVjdC5vdXRwdXRzTm9ybWFscykge1xyXG5cdFx0XHRjb2RlICs9IFwiZHAzIFwiICsgdGVtcDEgKyBcIi54LCBcIiArIHNoYWRlck9iamVjdC5hbmltYXRhYmxlQXR0cmlidXRlc1syXSArIFwiLCBcIiArIHNoYWRlck9iamVjdC5hbmltYXRpb25UYXJnZXRSZWdpc3RlcnNbMV0gKyBcIlxcblwiICtcclxuXHRcdFx0XHRcIm11bCBcIiArIHRlbXAxICsgXCIsIFwiICsgc2hhZGVyT2JqZWN0LmFuaW1hdGlvblRhcmdldFJlZ2lzdGVyc1sxXSArIFwiLCBcIiArIHRlbXAxICsgXCIueFxcblwiICtcclxuXHRcdFx0XHRcInN1YiBcIiArIHNoYWRlck9iamVjdC5hbmltYXRpb25UYXJnZXRSZWdpc3RlcnNbMl0gKyBcIiwgXCIgKyBzaGFkZXJPYmplY3QuYW5pbWF0YWJsZUF0dHJpYnV0ZXNbMl0gKyBcIiwgXCIgKyB0ZW1wMSArIFwiXFxuXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNvZGU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBWZXJ0ZXhBbmltYXRpb25TZXQ7Il19