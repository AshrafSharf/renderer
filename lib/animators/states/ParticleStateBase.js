var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var AnimationStateBase = require("awayjs-renderergl/lib/animators/states/AnimationStateBase");
/**
 * ...
 */
var ParticleStateBase = (function (_super) {
    __extends(ParticleStateBase, _super);
    function ParticleStateBase(animator, particleNode, needUpdateTime) {
        if (needUpdateTime === void 0) { needUpdateTime = false; }
        _super.call(this, animator, particleNode);
        this._pDynamicProperties = new Array();
        this._pDynamicPropertiesDirty = new Object();
        this._particleNode = particleNode;
        this._pNeedUpdateTime = needUpdateTime;
    }
    Object.defineProperty(ParticleStateBase.prototype, "needUpdateTime", {
        get: function () {
            return this._pNeedUpdateTime;
        },
        enumerable: true,
        configurable: true
    });
    ParticleStateBase.prototype.setRenderState = function (stage, renderable, animationSubGeometry, animationRegisterCache, camera) {
    };
    ParticleStateBase.prototype._pUpdateDynamicProperties = function (animationSubGeometry) {
        this._pDynamicPropertiesDirty[animationSubGeometry._iUniqueId] = true;
        var animationParticles = animationSubGeometry.animationParticles;
        var vertexData = animationSubGeometry.vertexData;
        var totalLenOfOneVertex = animationSubGeometry.totalLenOfOneVertex;
        var dataLength = this._particleNode.dataLength;
        var dataOffset = this._particleNode._iDataOffset;
        var vertexLength /*uint*/;
        //			var particleOffset:number /*uint*/;
        var startingOffset /*uint*/;
        var vertexOffset /*uint*/;
        var data;
        var animationParticle;
        //			var numParticles:number /*uint*/ = _positions.length/dataLength;
        var numParticles = this._pDynamicProperties.length;
        var i = 0;
        var j = 0;
        var k = 0;
        while (i < numParticles) {
            while (j < numParticles && (animationParticle = animationParticles[j]).index == i) {
                data = this._pDynamicProperties[i];
                vertexLength = animationParticle.numVertices * totalLenOfOneVertex;
                startingOffset = animationParticle.startVertexIndex * totalLenOfOneVertex + dataOffset;
                for (k = 0; k < vertexLength; k += totalLenOfOneVertex) {
                    vertexOffset = startingOffset + k;
                    for (k = 0; k < vertexLength; k += totalLenOfOneVertex) {
                        vertexOffset = startingOffset + k;
                        vertexData[vertexOffset++] = data.x;
                        vertexData[vertexOffset++] = data.y;
                        vertexData[vertexOffset++] = data.z;
                        if (dataLength == 4)
                            vertexData[vertexOffset++] = data.w;
                    }
                }
                j++;
            }
            i++;
        }
        animationSubGeometry.invalidateBuffer();
    };
    return ParticleStateBase;
})(AnimationStateBase);
module.exports = ParticleStateBase;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdG9ycy9zdGF0ZXMvcGFydGljbGVzdGF0ZWJhc2UudHMiXSwibmFtZXMiOlsiUGFydGljbGVTdGF0ZUJhc2UiLCJQYXJ0aWNsZVN0YXRlQmFzZS5jb25zdHJ1Y3RvciIsIlBhcnRpY2xlU3RhdGVCYXNlLm5lZWRVcGRhdGVUaW1lIiwiUGFydGljbGVTdGF0ZUJhc2Uuc2V0UmVuZGVyU3RhdGUiLCJQYXJ0aWNsZVN0YXRlQmFzZS5fcFVwZGF0ZUR5bmFtaWNQcm9wZXJ0aWVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFXQSxJQUFPLGtCQUFrQixXQUFjLDJEQUEyRCxDQUFDLENBQUM7QUFFcEcsQUFHQTs7R0FERztJQUNHLGlCQUFpQjtJQUFTQSxVQUExQkEsaUJBQWlCQSxVQUEyQkE7SUFTakRBLFNBVEtBLGlCQUFpQkEsQ0FTVkEsUUFBeUJBLEVBQUVBLFlBQTZCQSxFQUFFQSxjQUE4QkE7UUFBOUJDLDhCQUE4QkEsR0FBOUJBLHNCQUE4QkE7UUFFbkdBLGtCQUFNQSxRQUFRQSxFQUFFQSxZQUFZQSxDQUFDQSxDQUFDQTtRQVB4QkEsd0JBQW1CQSxHQUFtQkEsSUFBSUEsS0FBS0EsRUFBWUEsQ0FBQ0E7UUFDNURBLDZCQUF3QkEsR0FBVUEsSUFBSUEsTUFBTUEsRUFBRUEsQ0FBQ0E7UUFRckRBLElBQUlBLENBQUNBLGFBQWFBLEdBQUdBLFlBQVlBLENBQUNBO1FBQ2xDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLGNBQWNBLENBQUNBO0lBQ3hDQSxDQUFDQTtJQUVERCxzQkFBV0EsNkNBQWNBO2FBQXpCQTtZQUVDRSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBO1FBQzlCQSxDQUFDQTs7O09BQUFGO0lBRU1BLDBDQUFjQSxHQUFyQkEsVUFBc0JBLEtBQVdBLEVBQUVBLFVBQXlCQSxFQUFFQSxvQkFBeUNBLEVBQUVBLHNCQUE2Q0EsRUFBRUEsTUFBYUE7SUFHcktHLENBQUNBO0lBRU1ILHFEQUF5QkEsR0FBaENBLFVBQWlD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QUNBO1lBQ0xBLENBQUNBO1lBQ0RBLENBQUNBLEVBQUVBLENBQUNBO1FBQ0xBLENBQUNBO1FBRURBLG9CQUFvQkEsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxDQUFDQTtJQUN6Q0EsQ0FBQ0E7SUFFRkosd0JBQUNBO0FBQURBLENBMUZBLEFBMEZDQSxFQTFGK0Isa0JBQWtCLEVBMEZqRDtBQUVELEFBQTJCLGlCQUFsQixpQkFBaUIsQ0FBQyIsImZpbGUiOiJhbmltYXRvcnMvc3RhdGVzL1BhcnRpY2xlU3RhdGVCYXNlLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yb2JiYXRlbWFuL1dlYnN0b3JtUHJvamVjdHMvYXdheWpzLXJlbmRlcmVyZ2wvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZlY3RvcjNEXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9nZW9tL1ZlY3RvcjNEXCIpO1xuaW1wb3J0IENhbWVyYVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2VudGl0aWVzL0NhbWVyYVwiKTtcblxuaW1wb3J0IEFuaW1hdGlvblJlZ2lzdGVyQ2FjaGVcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYW5pbWF0b3JzL2RhdGEvQW5pbWF0aW9uUmVnaXN0ZXJDYWNoZVwiKTtcbmltcG9ydCBTdGFnZVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvYmFzZS9TdGFnZVwiKTtcbmltcG9ydCBSZW5kZXJhYmxlQmFzZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9wb29sL1JlbmRlcmFibGVCYXNlXCIpO1xuXG5pbXBvcnQgUGFydGljbGVBbmltYXRvclx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL1BhcnRpY2xlQW5pbWF0b3JcIik7XG5pbXBvcnQgQW5pbWF0aW9uU3ViR2VvbWV0cnlcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvZGF0YS9BbmltYXRpb25TdWJHZW9tZXRyeVwiKTtcbmltcG9ydCBQYXJ0aWNsZUFuaW1hdGlvbkRhdGFcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL2RhdGEvUGFydGljbGVBbmltYXRpb25EYXRhXCIpO1xuaW1wb3J0IFBhcnRpY2xlTm9kZUJhc2VcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9ub2Rlcy9QYXJ0aWNsZU5vZGVCYXNlXCIpO1xuaW1wb3J0IEFuaW1hdGlvblN0YXRlQmFzZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9zdGF0ZXMvQW5pbWF0aW9uU3RhdGVCYXNlXCIpO1xuXG4vKipcbiAqIC4uLlxuICovXG5jbGFzcyBQYXJ0aWNsZVN0YXRlQmFzZSBleHRlbmRzIEFuaW1hdGlvblN0YXRlQmFzZVxue1xuXHRwcml2YXRlIF9wYXJ0aWNsZU5vZGU6UGFydGljbGVOb2RlQmFzZTtcblxuXHRwdWJsaWMgX3BEeW5hbWljUHJvcGVydGllczpBcnJheTxWZWN0b3IzRD4gPSBuZXcgQXJyYXk8VmVjdG9yM0Q+KCk7XG5cdHB1YmxpYyBfcER5bmFtaWNQcm9wZXJ0aWVzRGlydHk6T2JqZWN0ID0gbmV3IE9iamVjdCgpO1xuXG5cdHB1YmxpYyBfcE5lZWRVcGRhdGVUaW1lOmJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IoYW5pbWF0b3I6UGFydGljbGVBbmltYXRvciwgcGFydGljbGVOb2RlOlBhcnRpY2xlTm9kZUJhc2UsIG5lZWRVcGRhdGVUaW1lOmJvb2xlYW4gPSBmYWxzZSlcblx0e1xuXHRcdHN1cGVyKGFuaW1hdG9yLCBwYXJ0aWNsZU5vZGUpO1xuXG5cdFx0dGhpcy5fcGFydGljbGVOb2RlID0gcGFydGljbGVOb2RlO1xuXHRcdHRoaXMuX3BOZWVkVXBkYXRlVGltZSA9IG5lZWRVcGRhdGVUaW1lO1xuXHR9XG5cblx0cHVibGljIGdldCBuZWVkVXBkYXRlVGltZSgpOmJvb2xlYW5cblx0e1xuXHRcdHJldHVybiB0aGlzLl9wTmVlZFVwZGF0ZVRpbWU7XG5cdH1cblxuXHRwdWJsaWMgc2V0UmVuZGVyU3RhdGUoc3RhZ2U6U3RhZ2UsIHJlbmRlcmFibGU6UmVuZGVyYWJsZUJhc2UsIGFuaW1hdGlvblN1Ykdlb21ldHJ5OkFuaW1hdGlvblN1Ykdlb21ldHJ5LCBhbmltYXRpb25SZWdpc3RlckNhY2hlOkFuaW1hdGlvblJlZ2lzdGVyQ2FjaGUsIGNhbWVyYTpDYW1lcmEpXG5cdHtcblxuXHR9XG5cblx0cHVibGljIF9wVXBkYXRlRHluYW1pY1Byb3BlcnRpZXMoYW5pbWF0aW9uU3ViR2VvbWV0cnk6QW5pbWF0aW9uU3ViR2VvbWV0cnkpXG5cdHtcblx0XHR0aGlzLl9wRHluYW1pY1Byb3BlcnRpZXNEaXJ0eVthbmltYXRpb25TdWJHZW9tZXRyeS5faVVuaXF1ZUlkXSA9IHRydWU7XG5cblx0XHR2YXIgYW5pbWF0aW9uUGFydGljbGVzOkFycmF5PFBhcnRpY2xlQW5pbWF0aW9uRGF0YT4gPSBhbmltYXRpb25TdWJHZW9tZXRyeS5hbmltYXRpb25QYXJ0aWNsZXM7XG5cdFx0dmFyIHZlcnRleERhdGE6QXJyYXk8bnVtYmVyPiA9IGFuaW1hdGlvblN1Ykdlb21ldHJ5LnZlcnRleERhdGE7XG5cdFx0dmFyIHRvdGFsTGVuT2ZPbmVWZXJ0ZXg6bnVtYmVyIC8qdWludCovID0gYW5pbWF0aW9uU3ViR2VvbWV0cnkudG90YWxMZW5PZk9uZVZlcnRleDtcblx0XHR2YXIgZGF0YUxlbmd0aDpudW1iZXIgLyp1aW50Ki8gPSB0aGlzLl9wYXJ0aWNsZU5vZGUuZGF0YUxlbmd0aDtcblx0XHR2YXIgZGF0YU9mZnNldDpudW1iZXIgLyp1aW50Ki8gPSB0aGlzLl9wYXJ0aWNsZU5vZGUuX2lEYXRhT2Zmc2V0O1xuXHRcdHZhciB2ZXJ0ZXhMZW5ndGg6bnVtYmVyIC8qdWludCovO1xuXHRcdC8vXHRcdFx0dmFyIHBhcnRpY2xlT2Zmc2V0Om51bWJlciAvKnVpbnQqLztcblx0XHR2YXIgc3RhcnRpbmdPZmZzZXQ6bnVtYmVyIC8qdWludCovO1xuXHRcdHZhciB2ZXJ0ZXhPZmZzZXQ6bnVtYmVyIC8qdWludCovO1xuXHRcdHZhciBkYXRhOlZlY3RvcjNEO1xuXHRcdHZhciBhbmltYXRpb25QYXJ0aWNsZTpQYXJ0aWNsZUFuaW1hdGlvbkRhdGE7XG5cblx0XHQvL1x0XHRcdHZhciBudW1QYXJ0aWNsZXM6bnVtYmVyIC8qdWludCovID0gX3Bvc2l0aW9ucy5sZW5ndGgvZGF0YUxlbmd0aDtcblx0XHR2YXIgbnVtUGFydGljbGVzOm51bWJlciAvKnVpbnQqLyA9IHRoaXMuX3BEeW5hbWljUHJvcGVydGllcy5sZW5ndGg7XG5cdFx0dmFyIGk6bnVtYmVyIC8qdWludCovID0gMDtcblx0XHR2YXIgajpudW1iZXIgLyp1aW50Ki8gPSAwO1xuXHRcdHZhciBrOm51bWJlciAvKnVpbnQqLyA9IDA7XG5cblx0XHQvL2xvb3AgdGhyb3VnaCBhbGwgcGFydGljbGVzXG5cdFx0d2hpbGUgKGkgPCBudW1QYXJ0aWNsZXMpIHtcblx0XHRcdC8vbG9vcCB0aHJvdWdoIGVhY2ggcGFydGljbGUgZGF0YSBmb3IgdGhlIGN1cnJlbnQgcGFydGljbGVcblx0XHRcdHdoaWxlIChqIDwgbnVtUGFydGljbGVzICYmIChhbmltYXRpb25QYXJ0aWNsZSA9IGFuaW1hdGlvblBhcnRpY2xlc1tqXSkuaW5kZXggPT0gaSkge1xuXHRcdFx0XHRkYXRhID0gdGhpcy5fcER5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXHRcdFx0XHR2ZXJ0ZXhMZW5ndGggPSBhbmltYXRpb25QYXJ0aWNsZS5udW1WZXJ0aWNlcyp0b3RhbExlbk9mT25lVmVydGV4O1xuXHRcdFx0XHRzdGFydGluZ09mZnNldCA9IGFuaW1hdGlvblBhcnRpY2xlLnN0YXJ0VmVydGV4SW5kZXgqdG90YWxMZW5PZk9uZVZlcnRleCArIGRhdGFPZmZzZXQ7XG5cdFx0XHRcdC8vbG9vcCB0aHJvdWdoIGVhY2ggdmVydGV4IGluIHRoZSBwYXJ0aWNsZSBkYXRhXG5cdFx0XHRcdGZvciAoayA9IDA7IGsgPCB2ZXJ0ZXhMZW5ndGg7IGsgKz0gdG90YWxMZW5PZk9uZVZlcnRleCkge1xuXHRcdFx0XHRcdHZlcnRleE9mZnNldCA9IHN0YXJ0aW5nT2Zmc2V0ICsgaztcblx0XHRcdFx0XHQvL1x0XHRcdFx0XHRcdHBhcnRpY2xlT2Zmc2V0ID0gaSAqIGRhdGFMZW5ndGg7XG5cdFx0XHRcdFx0Ly9sb29wIHRocm91Z2ggYWxsIHZlcnRleCBkYXRhIGZvciB0aGUgY3VycmVudCBwYXJ0aWNsZSBkYXRhXG5cdFx0XHRcdFx0Zm9yIChrID0gMDsgayA8IHZlcnRleExlbmd0aDsgayArPSB0b3RhbExlbk9mT25lVmVydGV4KSB7XG5cdFx0XHRcdFx0XHR2ZXJ0ZXhPZmZzZXQgPSBzdGFydGluZ09mZnNldCArIGs7XG5cdFx0XHRcdFx0XHR2ZXJ0ZXhEYXRhW3ZlcnRleE9mZnNldCsrXSA9IGRhdGEueDtcblx0XHRcdFx0XHRcdHZlcnRleERhdGFbdmVydGV4T2Zmc2V0KytdID0gZGF0YS55O1xuXHRcdFx0XHRcdFx0dmVydGV4RGF0YVt2ZXJ0ZXhPZmZzZXQrK10gPSBkYXRhLno7XG5cblx0XHRcdFx0XHRcdGlmIChkYXRhTGVuZ3RoID09IDQpXG5cdFx0XHRcdFx0XHRcdHZlcnRleERhdGFbdmVydGV4T2Zmc2V0KytdID0gZGF0YS53O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vbG9vcCB0aHJvdWdoIGVhY2ggdmFsdWUgaW4gdGhlIHBhcnRpY2xlIHZlcnRleFxuXHRcdFx0XHRcdFx0Ly9cdFx0XHRcdFx0XHRzd2l0Y2goZGF0YUxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Ly9cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdC8vXHRcdFx0XHRcdFx0XHRcdHZlcnRleERhdGFbdmVydGV4T2Zmc2V0KytdID0gX3Bvc2l0aW9uc1twYXJ0aWNsZU9mZnNldCsrXTtcblx0XHRcdFx0XHRcdC8vXHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHQvL1x0XHRcdFx0XHRcdFx0XHR2ZXJ0ZXhEYXRhW3ZlcnRleE9mZnNldCsrXSA9IF9wb3NpdGlvbnNbcGFydGljbGVPZmZzZXQrK107XG5cdFx0XHRcdFx0XHQvL1x0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0Ly9cdFx0XHRcdFx0XHRcdFx0dmVydGV4RGF0YVt2ZXJ0ZXhPZmZzZXQrK10gPSBfcG9zaXRpb25zW3BhcnRpY2xlT2Zmc2V0KytdO1xuXHRcdFx0XHRcdFx0Ly9cdFx0XHRcdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRcdC8vXHRcdFx0XHRcdFx0XHRcdHZlcnRleERhdGFbdmVydGV4T2Zmc2V0KytdID0gX3Bvc2l0aW9uc1twYXJ0aWNsZU9mZnNldCsrXTtcblx0XHRcdFx0XHRcdC8vXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGorKztcblx0XHRcdH1cblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRhbmltYXRpb25TdWJHZW9tZXRyeS5pbnZhbGlkYXRlQnVmZmVyKCk7XG5cdH1cblxufVxuXG5leHBvcnQgPSBQYXJ0aWNsZVN0YXRlQmFzZTsiXX0=