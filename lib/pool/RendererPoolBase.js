var BillboardRenderable = require("awayjs-renderergl/lib/pool/BillboardRenderable");
var LineSegmentRenderable = require("awayjs-renderergl/lib/pool/LineSegmentRenderable");
var LineSubMeshRenderable = require("awayjs-renderergl/lib/pool/LineSubMeshRenderable");
var TriangleSubMeshRenderable = require("awayjs-renderergl/lib/pool/TriangleSubMeshRenderable");
var CurveSubMeshRenderable = require("awayjs-renderergl/lib/pool/CurveSubMeshRenderable");
var RenderablePoolBase = require("awayjs-renderergl/lib/pool/RenderablePoolBase");
/**
 * RendererPoolBase forms an abstract base class for classes that are used in the rendering pipeline to render the
 * contents of a partition
 *
 * @class away.render.RendererPoolBase
 */
var RendererPoolBase = (function () {
    /**
     * Creates a new RendererPoolBase object.
     */
    function RendererPoolBase(renderer) {
        this._renderer = renderer;
    }
    Object.defineProperty(RendererPoolBase.prototype, "stage", {
        /**
         * The Stage that will provide the ContextGL used for rendering.
         */
        get: function () {
            return this._pStage;
        },
        set: function (value) {
            if (this._pStage == value)
                return;
            if (this._pStage)
                this.dispose();
            this._pStage = value;
            if (this._pStage)
                this._pUpdatePool();
        },
        enumerable: true,
        configurable: true
    });
    RendererPoolBase.prototype._pUpdatePool = function () {
        this._billboardRenderablePool = RenderablePoolBase.getPool(BillboardRenderable, this._pStage);
        this._lineSegmentRenderablePool = RenderablePoolBase.getPool(LineSegmentRenderable, this._pStage);
        this._triangleSubMeshRenderablePool = RenderablePoolBase.getPool(TriangleSubMeshRenderable, this._pStage);
        this._lineSubMeshRenderablePool = RenderablePoolBase.getPool(LineSubMeshRenderable, this._pStage);
        this._curveSubMeshRenderablePool = RenderablePoolBase.getPool(CurveSubMeshRenderable, this._pStage);
    };
    /**
     * Disposes the resources used by the RendererPoolBase.
     */
    RendererPoolBase.prototype.dispose = function () {
        this._billboardRenderablePool.dispose();
        this._billboardRenderablePool = null;
        this._lineSegmentRenderablePool.dispose();
        this._lineSegmentRenderablePool = null;
        this._triangleSubMeshRenderablePool.dispose();
        this._triangleSubMeshRenderablePool = null;
        this._lineSubMeshRenderablePool.dispose();
        this._lineSubMeshRenderablePool = null;
        this._curveSubMeshRenderablePool.dispose();
        this._curveSubMeshRenderablePool = null;
    };
    /**
     *
     * @param billboard
     * @protected
     */
    RendererPoolBase.prototype.applyBillboard = function (billboard) {
        this._renderer.applyRenderable(this._billboardRenderablePool.getItem(billboard));
    };
    /**
     *
     * @param lineSubMesh
     */
    RendererPoolBase.prototype.applyLineSegment = function (lineSegment) {
        this._renderer.applyRenderable(this._lineSegmentRenderablePool.getItem(lineSegment));
    };
    /**
     *
     * @param triangleSubMesh
     */
    RendererPoolBase.prototype.applyTriangleSubMesh = function (triangleSubMesh) {
        this._renderer.applyRenderable(this._triangleSubMeshRenderablePool.getItem(triangleSubMesh));
    };
    /**
     *
     * @param curveSubMesh
     */
    RendererPoolBase.prototype.applyCurveSubMesh = function (curveSubMesh) {
        this._renderer.applyRenderable(this._curveSubMeshRenderablePool.getItem(curveSubMesh));
    };
    /**
     *
     * @param lineSubMesh
     */
    RendererPoolBase.prototype.applyLineSubMesh = function (lineSubMesh) {
        this._renderer.applyRenderable(this._lineSubMeshRenderablePool.getItem(lineSubMesh));
    };
    return RendererPoolBase;
})();
module.exports = RendererPoolBase;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9wb29sL1JlbmRlcmVyUG9vbEJhc2UudHMiXSwibmFtZXMiOlsiUmVuZGVyZXJQb29sQmFzZSIsIlJlbmRlcmVyUG9vbEJhc2UuY29uc3RydWN0b3IiLCJSZW5kZXJlclBvb2xCYXNlLnN0YWdlIiwiUmVuZGVyZXJQb29sQmFzZS5fcFVwZGF0ZVBvb2wiLCJSZW5kZXJlclBvb2xCYXNlLmRpc3Bvc2UiLCJSZW5kZXJlclBvb2xCYXNlLmFwcGx5QmlsbGJvYXJkIiwiUmVuZGVyZXJQb29sQmFzZS5hcHBseUxpbmVTZWdtZW50IiwiUmVuZGVyZXJQb29sQmFzZS5hcHBseVRyaWFuZ2xlU3ViTWVzaCIsIlJlbmRlcmVyUG9vbEJhc2UuYXBwbHlDdXJ2ZVN1Yk1lc2giLCJSZW5kZXJlclBvb2xCYXNlLmFwcGx5TGluZVN1Yk1lc2giXSwibWFwcGluZ3MiOiJBQVdBLElBQU8sbUJBQW1CLFdBQWEsZ0RBQWdELENBQUMsQ0FBQztBQUN6RixJQUFPLHFCQUFxQixXQUFZLGtEQUFrRCxDQUFDLENBQUM7QUFDNUYsSUFBTyxxQkFBcUIsV0FBWSxrREFBa0QsQ0FBQyxDQUFDO0FBQzVGLElBQU8seUJBQXlCLFdBQVcsc0RBQXNELENBQUMsQ0FBQztBQUNuRyxJQUFPLHNCQUFzQixXQUFlLG1EQUFtRCxDQUFDLENBQUM7QUFDakcsSUFBTyxrQkFBa0IsV0FBYSwrQ0FBK0MsQ0FBQyxDQUFDO0FBR3ZGLEFBTUE7Ozs7O0dBREc7SUFDRyxnQkFBZ0I7SUFhckJBOztPQUVHQTtJQUNIQSxTQWhCS0EsZ0JBQWdCQSxDQWdCVEEsUUFBcUJBO1FBRWhDQyxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxRQUFRQSxDQUFDQTtJQUMzQkEsQ0FBQ0E7SUFLREQsc0JBQVdBLG1DQUFLQTtRQUhoQkE7O1dBRUdBO2FBQ0hBO1lBRUNFLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBO1FBQ3JCQSxDQUFDQTthQUVERixVQUFpQkEsS0FB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LENBQUNBLGVBQWVBLENBQUNBLElBQUlBLENBQUNBLDhCQUE4QkEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDOUZBLENBQUNBO0lBQ0VQOzs7T0FHR0E7SUFDSUEsNENBQWlCQSxHQUF4QkEsVUFBeUJBLFlBQXlCQTtRQUU5Q1EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsMkJBQTJCQSxDQUFDQSxPQUFPQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUMzRkEsQ0FBQ0E7SUFDSlI7OztPQUdHQTtJQUNJQSwyQ0FBZ0JBLEdBQXZCQSxVQUF3QkEsV0FBdUJBO1FBRTlDUyxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxlQUFlQSxDQUFDQSxJQUFJQSxDQUFDQSwwQkFBMEJBLENBQUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO0lBQ3RGQSxDQUFDQTtJQUNGVCx1QkFBQ0E7QUFBREEsQ0FwSEEsQUFvSENBLElBQUE7QUFFRCxBQUEwQixpQkFBakIsZ0JBQWdCLENBQUMiLCJmaWxlIjoicG9vbC9SZW5kZXJlclBvb2xCYXNlLmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IExpbmVTdWJNZXNoXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL0xpbmVTdWJNZXNoXCIpO1xuaW1wb3J0IFRyaWFuZ2xlU3ViTWVzaFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2Jhc2UvVHJpYW5nbGVTdWJNZXNoXCIpO1xuaW1wb3J0IEN1cnZlU3ViTWVzaFx0XHRcdCAgICBcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL0N1cnZlU3ViTWVzaFwiKTtcbmltcG9ydCBJUmVuZGVyZXJQb29sXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvcG9vbC9JUmVuZGVyZXJQb29sXCIpO1xuaW1wb3J0IEJpbGxib2FyZFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvQmlsbGJvYXJkXCIpO1xuaW1wb3J0IExpbmVTZWdtZW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9MaW5lU2VnbWVudFwiKTtcbmltcG9ydCBTa3lib3hcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvU2t5Ym94XCIpO1xuXG5pbXBvcnQgU3RhZ2VcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9TdGFnZVwiKTtcblxuaW1wb3J0IEJpbGxib2FyZFJlbmRlcmFibGVcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9CaWxsYm9hcmRSZW5kZXJhYmxlXCIpO1xuaW1wb3J0IExpbmVTZWdtZW50UmVuZGVyYWJsZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9MaW5lU2VnbWVudFJlbmRlcmFibGVcIik7XG5pbXBvcnQgTGluZVN1Yk1lc2hSZW5kZXJhYmxlXHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9wb29sL0xpbmVTdWJNZXNoUmVuZGVyYWJsZVwiKTtcbmltcG9ydCBUcmlhbmdsZVN1Yk1lc2hSZW5kZXJhYmxlXHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9UcmlhbmdsZVN1Yk1lc2hSZW5kZXJhYmxlXCIpO1xuaW1wb3J0IEN1cnZlU3ViTWVzaFJlbmRlcmFibGVcdCAgICA9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9DdXJ2ZVN1Yk1lc2hSZW5kZXJhYmxlXCIpO1xuaW1wb3J0IFJlbmRlcmFibGVQb29sQmFzZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9wb29sL1JlbmRlcmFibGVQb29sQmFzZVwiKTtcbmltcG9ydCBSZW5kZXJlckJhc2VcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2Jhc2UvUmVuZGVyZXJCYXNlXCIpO1xuXG4vKipcbiAqIFJlbmRlcmVyUG9vbEJhc2UgZm9ybXMgYW4gYWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgY2xhc3NlcyB0aGF0IGFyZSB1c2VkIGluIHRoZSByZW5kZXJpbmcgcGlwZWxpbmUgdG8gcmVuZGVyIHRoZVxuICogY29udGVudHMgb2YgYSBwYXJ0aXRpb25cbiAqXG4gKiBAY2xhc3MgYXdheS5yZW5kZXIuUmVuZGVyZXJQb29sQmFzZVxuICovXG5jbGFzcyBSZW5kZXJlclBvb2xCYXNlIGltcGxlbWVudHMgSVJlbmRlcmVyUG9vbFxue1xuXHRwdWJsaWMgX2JpbGxib2FyZFJlbmRlcmFibGVQb29sOlJlbmRlcmFibGVQb29sQmFzZTtcblx0cHVibGljIF9saW5lU2VnbWVudFJlbmRlcmFibGVQb29sOlJlbmRlcmFibGVQb29sQmFzZTtcblx0cHVibGljIF90cmlhbmdsZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbDpSZW5kZXJhYmxlUG9vbEJhc2U7XG5cdHB1YmxpYyBfbGluZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbDpSZW5kZXJhYmxlUG9vbEJhc2U7XG4gICAgcHVibGljIF9jdXJ2ZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbDpSZW5kZXJhYmxlUG9vbEJhc2U7XG5cblx0cHVibGljIF9wU3RhZ2U6U3RhZ2U7XG5cblxuXHRwcml2YXRlIF9yZW5kZXJlcjpSZW5kZXJlckJhc2U7XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBSZW5kZXJlclBvb2xCYXNlIG9iamVjdC5cblx0ICovXG5cdGNvbnN0cnVjdG9yKHJlbmRlcmVyOlJlbmRlcmVyQmFzZSlcblx0e1xuXHRcdHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIFN0YWdlIHRoYXQgd2lsbCBwcm92aWRlIHRoZSBDb250ZXh0R0wgdXNlZCBmb3IgcmVuZGVyaW5nLlxuXHQgKi9cblx0cHVibGljIGdldCBzdGFnZSgpOlN0YWdlXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fcFN0YWdlO1xuXHR9XG5cblx0cHVibGljIHNldCBzdGFnZSh2YWx1ZTpTdGFnZSlcblx0e1xuXHRcdGlmICh0aGlzLl9wU3RhZ2UgPT0gdmFsdWUpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRpZiAodGhpcy5fcFN0YWdlKVxuXHRcdFx0dGhpcy5kaXNwb3NlKCk7XG5cblx0XHR0aGlzLl9wU3RhZ2UgPSB2YWx1ZTtcblxuXHRcdGlmICh0aGlzLl9wU3RhZ2UpXG5cdFx0XHR0aGlzLl9wVXBkYXRlUG9vbCgpO1xuXHR9XG5cblx0cHVibGljIF9wVXBkYXRlUG9vbCgpXG5cdHtcblx0XHR0aGlzLl9iaWxsYm9hcmRSZW5kZXJhYmxlUG9vbCA9IFJlbmRlcmFibGVQb29sQmFzZS5nZXRQb29sKEJpbGxib2FyZFJlbmRlcmFibGUsIHRoaXMuX3BTdGFnZSk7XG5cdFx0dGhpcy5fbGluZVNlZ21lbnRSZW5kZXJhYmxlUG9vbCA9IFJlbmRlcmFibGVQb29sQmFzZS5nZXRQb29sKExpbmVTZWdtZW50UmVuZGVyYWJsZSwgdGhpcy5fcFN0YWdlKTtcblx0XHR0aGlzLl90cmlhbmdsZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbCA9IFJlbmRlcmFibGVQb29sQmFzZS5nZXRQb29sKFRyaWFuZ2xlU3ViTWVzaFJlbmRlcmFibGUsIHRoaXMuX3BTdGFnZSk7XG5cdFx0dGhpcy5fbGluZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbCA9IFJlbmRlcmFibGVQb29sQmFzZS5nZXRQb29sKExpbmVTdWJNZXNoUmVuZGVyYWJsZSwgdGhpcy5fcFN0YWdlKTtcbiAgICAgICAgdGhpcy5fY3VydmVTdWJNZXNoUmVuZGVyYWJsZVBvb2wgPSBSZW5kZXJhYmxlUG9vbEJhc2UuZ2V0UG9vbChDdXJ2ZVN1Yk1lc2hSZW5kZXJhYmxlLCB0aGlzLl9wU3RhZ2UpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERpc3Bvc2VzIHRoZSByZXNvdXJjZXMgdXNlZCBieSB0aGUgUmVuZGVyZXJQb29sQmFzZS5cblx0ICovXG5cdHB1YmxpYyBkaXNwb3NlKClcblx0e1xuXHRcdHRoaXMuX2JpbGxib2FyZFJlbmRlcmFibGVQb29sLmRpc3Bvc2UoKTtcblx0XHR0aGlzLl9iaWxsYm9hcmRSZW5kZXJhYmxlUG9vbCA9IG51bGw7XG5cblx0XHR0aGlzLl9saW5lU2VnbWVudFJlbmRlcmFibGVQb29sLmRpc3Bvc2UoKTtcblx0XHR0aGlzLl9saW5lU2VnbWVudFJlbmRlcmFibGVQb29sID0gbnVsbDtcblxuXHRcdHRoaXMuX3RyaWFuZ2xlU3ViTWVzaFJlbmRlcmFibGVQb29sLmRpc3Bvc2UoKTtcblx0XHR0aGlzLl90cmlhbmdsZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbCA9IG51bGw7XG5cblx0XHR0aGlzLl9saW5lU3ViTWVzaFJlbmRlcmFibGVQb29sLmRpc3Bvc2UoKTtcblx0XHR0aGlzLl9saW5lU3ViTWVzaFJlbmRlcmFibGVQb29sID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jdXJ2ZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2N1cnZlU3ViTWVzaFJlbmRlcmFibGVQb29sID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gYmlsbGJvYXJkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHB1YmxpYyBhcHBseUJpbGxib2FyZChiaWxsYm9hcmQ6QmlsbGJvYXJkKVxuXHR7XG5cdFx0dGhpcy5fcmVuZGVyZXIuYXBwbHlSZW5kZXJhYmxlKHRoaXMuX2JpbGxib2FyZFJlbmRlcmFibGVQb29sLmdldEl0ZW0oYmlsbGJvYXJkKSk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGxpbmVTdWJNZXNoXG5cdCAqL1xuXHRwdWJsaWMgYXBwbHlMaW5lU2VnbWVudChsaW5lU2VnbWVudDpMaW5lU2VnbWVudClcblx0e1xuXHRcdHRoaXMuX3JlbmRlcmVyLmFwcGx5UmVuZGVyYWJsZSh0aGlzLl9saW5lU2VnbWVudFJlbmRlcmFibGVQb29sLmdldEl0ZW0obGluZVNlZ21lbnQpKTtcblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gdHJpYW5nbGVTdWJNZXNoXG5cdCAqL1xuXHRwdWJsaWMgYXBwbHlUcmlhbmdsZVN1Yk1lc2godHJpYW5nbGVTdWJNZXNoOlRyaWFuZ2xlU3ViTWVzaClcblx0e1xuXHRcdHRoaXMuX3JlbmRlcmVyLmFwcGx5UmVuZGVyYWJsZSh0aGlzLl90cmlhbmdsZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbC5nZXRJdGVtKHRyaWFuZ2xlU3ViTWVzaCkpO1xuXHR9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3VydmVTdWJNZXNoXG4gICAgICovXG4gICAgcHVibGljIGFwcGx5Q3VydmVTdWJNZXNoKGN1cnZlU3ViTWVzaDpDdXJ2ZVN1Yk1lc2gpXG4gICAge1xuICAgICAgICB0aGlzLl9yZW5kZXJlci5hcHBseVJlbmRlcmFibGUodGhpcy5fY3VydmVTdWJNZXNoUmVuZGVyYWJsZVBvb2wuZ2V0SXRlbShjdXJ2ZVN1Yk1lc2gpKTtcbiAgICB9XG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gbGluZVN1Yk1lc2hcblx0ICovXG5cdHB1YmxpYyBhcHBseUxpbmVTdWJNZXNoKGxpbmVTdWJNZXNoOkxpbmVTdWJNZXNoKVxuXHR7XG5cdFx0dGhpcy5fcmVuZGVyZXIuYXBwbHlSZW5kZXJhYmxlKHRoaXMuX2xpbmVTdWJNZXNoUmVuZGVyYWJsZVBvb2wuZ2V0SXRlbShsaW5lU3ViTWVzaCkpO1xuXHR9XG59XG5cbmV4cG9ydCA9IFJlbmRlcmVyUG9vbEJhc2U7Il19