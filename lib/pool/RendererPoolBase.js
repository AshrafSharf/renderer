var BillboardRenderable = require("awayjs-renderergl/lib/pool/BillboardRenderable");
var LineSegmentRenderable = require("awayjs-renderergl/lib/pool/LineSegmentRenderable");
var LineSubMeshRenderable = require("awayjs-renderergl/lib/pool/LineSubMeshRenderable");
var TriangleSubMeshRenderable = require("awayjs-renderergl/lib/pool/TriangleSubMeshRenderable");
var CurveSubMeshRenderable = require("awayjs-renderergl/lib/pool/CurveSubMeshRenderable");
var RenderablePoolBase = require("awayjs-renderergl/lib/pool/RenderablePoolBase");
/**
 * RendererPoolBase forms an abstract base class for classes that are used in the rendering pipeline to render the
 * contents of a partition
 *
 * @class away.render.RendererPoolBase
 */
var RendererPoolBase = (function () {
    /**
     * Creates a new RendererPoolBase object.
     */
    function RendererPoolBase(renderer) {
        this._renderer = renderer;
    }
    Object.defineProperty(RendererPoolBase.prototype, "stage", {
        /**
         * The Stage that will provide the ContextGL used for rendering.
         */
        get: function () {
            return this._pStage;
        },
        set: function (value) {
            if (this._pStage == value)
                return;
            if (this._pStage)
                this.dispose();
            this._pStage = value;
            if (this._pStage)
                this._pUpdatePool();
        },
        enumerable: true,
        configurable: true
    });
    RendererPoolBase.prototype._pUpdatePool = function () {
        this._billboardRenderablePool = RenderablePoolBase.getPool(BillboardRenderable, this._pStage);
        this._lineSegmentRenderablePool = RenderablePoolBase.getPool(LineSegmentRenderable, this._pStage);
        this._triangleSubMeshRenderablePool = RenderablePoolBase.getPool(TriangleSubMeshRenderable, this._pStage);
        this._lineSubMeshRenderablePool = RenderablePoolBase.getPool(LineSubMeshRenderable, this._pStage);
        this._curveSubMeshRenderablePool = RenderablePoolBase.getPool(CurveSubMeshRenderable, this._pStage);
    };
    /**
     * Disposes the resources used by the RendererPoolBase.
     */
    RendererPoolBase.prototype.dispose = function () {
        this._billboardRenderablePool.dispose();
        this._billboardRenderablePool = null;
        this._lineSegmentRenderablePool.dispose();
        this._lineSegmentRenderablePool = null;
        this._triangleSubMeshRenderablePool.dispose();
        this._triangleSubMeshRenderablePool = null;
        this._lineSubMeshRenderablePool.dispose();
        this._lineSubMeshRenderablePool = null;
        this._curveSubMeshRenderablePool.dispose();
        this._curveSubMeshRenderablePool = null;
    };
    /**
     *
     * @param billboard
     * @protected
     */
    RendererPoolBase.prototype.applyBillboard = function (billboard) {
        this._renderer.applyRenderable(this._billboardRenderablePool.getItem(billboard));
    };
    /**
     *
     * @param lineSubMesh
     */
    RendererPoolBase.prototype.applyLineSegment = function (lineSegment) {
        this._renderer.applyRenderable(this._lineSegmentRenderablePool.getItem(lineSegment));
    };
    /**
     *
     * @param triangleSubMesh
     */
    RendererPoolBase.prototype.applyTriangleSubMesh = function (triangleSubMesh) {
        this._renderer.applyRenderable(this._triangleSubMeshRenderablePool.getItem(triangleSubMesh));
    };
    /**
     *
     * @param curveSubMesh
     */
    RendererPoolBase.prototype.applyCurveSubMesh = function (curveSubMesh) {
        this._renderer.applyRenderable(this._curveSubMeshRenderablePool.getItem(curveSubMesh));
    };
    /**
     *
     * @param lineSubMesh
     */
    RendererPoolBase.prototype.applyLineSubMesh = function (lineSubMesh) {
        this._renderer.applyRenderable(this._lineSubMeshRenderablePool.getItem(lineSubMesh));
    };
    return RendererPoolBase;
})();
module.exports = RendererPoolBase;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9wb29sL1JlbmRlcmVyUG9vbEJhc2UudHMiXSwibmFtZXMiOlsiUmVuZGVyZXJQb29sQmFzZSIsIlJlbmRlcmVyUG9vbEJhc2UuY29uc3RydWN0b3IiLCJSZW5kZXJlclBvb2xCYXNlLnN0YWdlIiwiUmVuZGVyZXJQb29sQmFzZS5fcFVwZGF0ZVBvb2wiLCJSZW5kZXJlclBvb2xCYXNlLmRpc3Bvc2UiLCJSZW5kZXJlclBvb2xCYXNlLmFwcGx5QmlsbGJvYXJkIiwiUmVuZGVyZXJQb29sQmFzZS5hcHBseUxpbmVTZWdtZW50IiwiUmVuZGVyZXJQb29sQmFzZS5hcHBseVRyaWFuZ2xlU3ViTWVzaCIsIlJlbmRlcmVyUG9vbEJhc2UuYXBwbHlDdXJ2ZVN1Yk1lc2giLCJSZW5kZXJlclBvb2xCYXNlLmFwcGx5TGluZVN1Yk1lc2giXSwibWFwcGluZ3MiOiJBQVdBLElBQU8sbUJBQW1CLFdBQWEsZ0RBQWdELENBQUMsQ0FBQztBQUN6RixJQUFPLHFCQUFxQixXQUFZLGtEQUFrRCxDQUFDLENBQUM7QUFDNUYsSUFBTyxxQkFBcUIsV0FBWSxrREFBa0QsQ0FBQyxDQUFDO0FBQzVGLElBQU8seUJBQXlCLFdBQVcsc0RBQXNELENBQUMsQ0FBQztBQUNuRyxJQUFPLHNCQUFzQixXQUFlLG1EQUFtRCxDQUFDLENBQUM7QUFDakcsSUFBTyxrQkFBa0IsV0FBYSwrQ0FBK0MsQ0FBQyxDQUFDO0FBR3ZGLEFBTUE7Ozs7O0dBREc7SUFDRyxnQkFBZ0I7SUFhckJBOztPQUVHQTtJQUNIQSxTQWhCS0EsZ0JBQWdCQSxDQWdCVEEsUUFBcUJBO1FBRWhDQyxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxRQUFRQSxDQUFDQTtJQUMzQkEsQ0FBQ0E7SUFLREQsc0JBQVdBLG1DQUFLQTtRQUhoQkE7O1dBRUdBO2FBQ0hBO1lBRUNFLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBO1FBQ3JCQSxDQUFDQTthQUVERixVQUFpQkEsS0FB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LENBQUNBLGVBQWVBLENBQUNBLElBQUlBLENBQUNBLDhCQUE4QkEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDOUZBLENBQUNBO0lBQ0VQOzs7T0FHR0E7SUFDSUEsNENBQWlCQSxHQUF4QkEsVUFBeUJBLFlBQXlCQTtRQUU5Q1EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsMkJBQTJCQSxDQUFDQSxPQUFPQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUMzRkEsQ0FBQ0E7SUFDSlI7OztPQUdHQTtJQUNJQSwyQ0FBZ0JBLEdBQXZCQSxVQUF3QkEsV0FBdUJBO1FBRTlDUyxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxlQUFlQSxDQUFDQSxJQUFJQSxDQUFDQSwwQkFBMEJBLENBQUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO0lBQ3RGQSxDQUFDQTtJQUNGVCx1QkFBQ0E7QUFBREEsQ0FwSEEsQUFvSENBLElBQUE7QUFFRCxBQUEwQixpQkFBakIsZ0JBQWdCLENBQUMiLCJmaWxlIjoicG9vbC9SZW5kZXJlclBvb2xCYXNlLmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgTGluZVN1Yk1lc2hcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2Jhc2UvTGluZVN1Yk1lc2hcIik7XHJcbmltcG9ydCBUcmlhbmdsZVN1Yk1lc2hcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL1RyaWFuZ2xlU3ViTWVzaFwiKTtcclxuaW1wb3J0IEN1cnZlU3ViTWVzaFx0XHRcdCAgICBcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL0N1cnZlU3ViTWVzaFwiKTtcclxuaW1wb3J0IElSZW5kZXJlclBvb2xcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9wb29sL0lSZW5kZXJlclBvb2xcIik7XHJcbmltcG9ydCBCaWxsYm9hcmRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL0JpbGxib2FyZFwiKTtcclxuaW1wb3J0IExpbmVTZWdtZW50XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9MaW5lU2VnbWVudFwiKTtcclxuaW1wb3J0IFNreWJveFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9Ta3lib3hcIik7XHJcblxyXG5pbXBvcnQgU3RhZ2VcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9TdGFnZVwiKTtcclxuXHJcbmltcG9ydCBCaWxsYm9hcmRSZW5kZXJhYmxlXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL3Bvb2wvQmlsbGJvYXJkUmVuZGVyYWJsZVwiKTtcclxuaW1wb3J0IExpbmVTZWdtZW50UmVuZGVyYWJsZVx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9MaW5lU2VnbWVudFJlbmRlcmFibGVcIik7XHJcbmltcG9ydCBMaW5lU3ViTWVzaFJlbmRlcmFibGVcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL3Bvb2wvTGluZVN1Yk1lc2hSZW5kZXJhYmxlXCIpO1xyXG5pbXBvcnQgVHJpYW5nbGVTdWJNZXNoUmVuZGVyYWJsZVx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL3Bvb2wvVHJpYW5nbGVTdWJNZXNoUmVuZGVyYWJsZVwiKTtcclxuaW1wb3J0IEN1cnZlU3ViTWVzaFJlbmRlcmFibGVcdCAgICA9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9DdXJ2ZVN1Yk1lc2hSZW5kZXJhYmxlXCIpO1xyXG5pbXBvcnQgUmVuZGVyYWJsZVBvb2xCYXNlXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL3Bvb2wvUmVuZGVyYWJsZVBvb2xCYXNlXCIpO1xyXG5pbXBvcnQgUmVuZGVyZXJCYXNlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9iYXNlL1JlbmRlcmVyQmFzZVwiKTtcclxuXHJcbi8qKlxyXG4gKiBSZW5kZXJlclBvb2xCYXNlIGZvcm1zIGFuIGFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGNsYXNzZXMgdGhhdCBhcmUgdXNlZCBpbiB0aGUgcmVuZGVyaW5nIHBpcGVsaW5lIHRvIHJlbmRlciB0aGVcclxuICogY29udGVudHMgb2YgYSBwYXJ0aXRpb25cclxuICpcclxuICogQGNsYXNzIGF3YXkucmVuZGVyLlJlbmRlcmVyUG9vbEJhc2VcclxuICovXHJcbmNsYXNzIFJlbmRlcmVyUG9vbEJhc2UgaW1wbGVtZW50cyBJUmVuZGVyZXJQb29sXHJcbntcclxuXHRwdWJsaWMgX2JpbGxib2FyZFJlbmRlcmFibGVQb29sOlJlbmRlcmFibGVQb29sQmFzZTtcclxuXHRwdWJsaWMgX2xpbmVTZWdtZW50UmVuZGVyYWJsZVBvb2w6UmVuZGVyYWJsZVBvb2xCYXNlO1xyXG5cdHB1YmxpYyBfdHJpYW5nbGVTdWJNZXNoUmVuZGVyYWJsZVBvb2w6UmVuZGVyYWJsZVBvb2xCYXNlO1xyXG5cdHB1YmxpYyBfbGluZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbDpSZW5kZXJhYmxlUG9vbEJhc2U7XHJcbiAgICBwdWJsaWMgX2N1cnZlU3ViTWVzaFJlbmRlcmFibGVQb29sOlJlbmRlcmFibGVQb29sQmFzZTtcclxuXHJcblx0cHVibGljIF9wU3RhZ2U6U3RhZ2U7XHJcblxyXG5cclxuXHRwcml2YXRlIF9yZW5kZXJlcjpSZW5kZXJlckJhc2U7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ3JlYXRlcyBhIG5ldyBSZW5kZXJlclBvb2xCYXNlIG9iamVjdC5cclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcihyZW5kZXJlcjpSZW5kZXJlckJhc2UpXHJcblx0e1xyXG5cdFx0dGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBTdGFnZSB0aGF0IHdpbGwgcHJvdmlkZSB0aGUgQ29udGV4dEdMIHVzZWQgZm9yIHJlbmRlcmluZy5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0IHN0YWdlKCk6U3RhZ2VcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy5fcFN0YWdlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldCBzdGFnZSh2YWx1ZTpTdGFnZSlcclxuXHR7XHJcblx0XHRpZiAodGhpcy5fcFN0YWdlID09IHZhbHVlKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0aWYgKHRoaXMuX3BTdGFnZSlcclxuXHRcdFx0dGhpcy5kaXNwb3NlKCk7XHJcblxyXG5cdFx0dGhpcy5fcFN0YWdlID0gdmFsdWU7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3BTdGFnZSlcclxuXHRcdFx0dGhpcy5fcFVwZGF0ZVBvb2woKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBfcFVwZGF0ZVBvb2woKVxyXG5cdHtcclxuXHRcdHRoaXMuX2JpbGxib2FyZFJlbmRlcmFibGVQb29sID0gUmVuZGVyYWJsZVBvb2xCYXNlLmdldFBvb2woQmlsbGJvYXJkUmVuZGVyYWJsZSwgdGhpcy5fcFN0YWdlKTtcclxuXHRcdHRoaXMuX2xpbmVTZWdtZW50UmVuZGVyYWJsZVBvb2wgPSBSZW5kZXJhYmxlUG9vbEJhc2UuZ2V0UG9vbChMaW5lU2VnbWVudFJlbmRlcmFibGUsIHRoaXMuX3BTdGFnZSk7XHJcblx0XHR0aGlzLl90cmlhbmdsZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbCA9IFJlbmRlcmFibGVQb29sQmFzZS5nZXRQb29sKFRyaWFuZ2xlU3ViTWVzaFJlbmRlcmFibGUsIHRoaXMuX3BTdGFnZSk7XHJcblx0XHR0aGlzLl9saW5lU3ViTWVzaFJlbmRlcmFibGVQb29sID0gUmVuZGVyYWJsZVBvb2xCYXNlLmdldFBvb2woTGluZVN1Yk1lc2hSZW5kZXJhYmxlLCB0aGlzLl9wU3RhZ2UpO1xyXG4gICAgICAgIHRoaXMuX2N1cnZlU3ViTWVzaFJlbmRlcmFibGVQb29sID0gUmVuZGVyYWJsZVBvb2xCYXNlLmdldFBvb2woQ3VydmVTdWJNZXNoUmVuZGVyYWJsZSwgdGhpcy5fcFN0YWdlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERpc3Bvc2VzIHRoZSByZXNvdXJjZXMgdXNlZCBieSB0aGUgUmVuZGVyZXJQb29sQmFzZS5cclxuXHQgKi9cclxuXHRwdWJsaWMgZGlzcG9zZSgpXHJcblx0e1xyXG5cdFx0dGhpcy5fYmlsbGJvYXJkUmVuZGVyYWJsZVBvb2wuZGlzcG9zZSgpO1xyXG5cdFx0dGhpcy5fYmlsbGJvYXJkUmVuZGVyYWJsZVBvb2wgPSBudWxsO1xyXG5cclxuXHRcdHRoaXMuX2xpbmVTZWdtZW50UmVuZGVyYWJsZVBvb2wuZGlzcG9zZSgpO1xyXG5cdFx0dGhpcy5fbGluZVNlZ21lbnRSZW5kZXJhYmxlUG9vbCA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy5fdHJpYW5nbGVTdWJNZXNoUmVuZGVyYWJsZVBvb2wuZGlzcG9zZSgpO1xyXG5cdFx0dGhpcy5fdHJpYW5nbGVTdWJNZXNoUmVuZGVyYWJsZVBvb2wgPSBudWxsO1xyXG5cclxuXHRcdHRoaXMuX2xpbmVTdWJNZXNoUmVuZGVyYWJsZVBvb2wuZGlzcG9zZSgpO1xyXG5cdFx0dGhpcy5fbGluZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuX2N1cnZlU3ViTWVzaFJlbmRlcmFibGVQb29sLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLl9jdXJ2ZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbCA9IG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBiaWxsYm9hcmRcclxuXHQgKiBAcHJvdGVjdGVkXHJcblx0ICovXHJcblx0cHVibGljIGFwcGx5QmlsbGJvYXJkKGJpbGxib2FyZDpCaWxsYm9hcmQpXHJcblx0e1xyXG5cdFx0dGhpcy5fcmVuZGVyZXIuYXBwbHlSZW5kZXJhYmxlKHRoaXMuX2JpbGxib2FyZFJlbmRlcmFibGVQb29sLmdldEl0ZW0oYmlsbGJvYXJkKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBsaW5lU3ViTWVzaFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhcHBseUxpbmVTZWdtZW50KGxpbmVTZWdtZW50OkxpbmVTZWdtZW50KVxyXG5cdHtcclxuXHRcdHRoaXMuX3JlbmRlcmVyLmFwcGx5UmVuZGVyYWJsZSh0aGlzLl9saW5lU2VnbWVudFJlbmRlcmFibGVQb29sLmdldEl0ZW0obGluZVNlZ21lbnQpKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHRyaWFuZ2xlU3ViTWVzaFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhcHBseVRyaWFuZ2xlU3ViTWVzaCh0cmlhbmdsZVN1Yk1lc2g6VHJpYW5nbGVTdWJNZXNoKVxyXG5cdHtcclxuXHRcdHRoaXMuX3JlbmRlcmVyLmFwcGx5UmVuZGVyYWJsZSh0aGlzLl90cmlhbmdsZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbC5nZXRJdGVtKHRyaWFuZ2xlU3ViTWVzaCkpO1xyXG5cdH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjdXJ2ZVN1Yk1lc2hcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFwcGx5Q3VydmVTdWJNZXNoKGN1cnZlU3ViTWVzaDpDdXJ2ZVN1Yk1lc2gpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuYXBwbHlSZW5kZXJhYmxlKHRoaXMuX2N1cnZlU3ViTWVzaFJlbmRlcmFibGVQb29sLmdldEl0ZW0oY3VydmVTdWJNZXNoKSk7XHJcbiAgICB9XHJcblx0LyoqXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gbGluZVN1Yk1lc2hcclxuXHQgKi9cclxuXHRwdWJsaWMgYXBwbHlMaW5lU3ViTWVzaChsaW5lU3ViTWVzaDpMaW5lU3ViTWVzaClcclxuXHR7XHJcblx0XHR0aGlzLl9yZW5kZXJlci5hcHBseVJlbmRlcmFibGUodGhpcy5fbGluZVN1Yk1lc2hSZW5kZXJhYmxlUG9vbC5nZXRJdGVtKGxpbmVTdWJNZXNoKSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBSZW5kZXJlclBvb2xCYXNlOyJdfQ==