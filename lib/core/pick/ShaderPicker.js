var Debug = require("awayjs-core/lib/utils/Debug");
var BitmapData = require("awayjs-core/lib/core/base/BitmapData");
var TriangleSubGeometry = require("awayjs-core/lib/core/base/TriangleSubGeometry");
var Matrix3DUtils = require("awayjs-core/lib/core/geom/Matrix3DUtils");
var Point = require("awayjs-core/lib/core/geom/Point");
var Rectangle = require("awayjs-core/lib/core/geom/Rectangle");
var Vector3D = require("awayjs-core/lib/core/geom/Vector3D");
var AGALMiniAssembler = require("awayjs-stagegl/lib/aglsl/assembler/AGALMiniAssembler");
var ContextGLBlendFactor = require("awayjs-stagegl/lib/core/stagegl/ContextGLBlendFactor");
var ContextGLClearMask = require("awayjs-stagegl/lib/core/stagegl/ContextGLClearMask");
var ContextGLCompareMode = require("awayjs-stagegl/lib/core/stagegl/ContextGLCompareMode");
var ContextGLProgramType = require("awayjs-stagegl/lib/core/stagegl/ContextGLProgramType");
var ContextGLTriangleFace = require("awayjs-stagegl/lib/core/stagegl/ContextGLTriangleFace");
/**
 * Picks a 3d object from a view or scene by performing a separate render pass on the scene around the area being picked using key color values,
 * then reading back the color value of the pixel in the render representing the picking ray. Requires multiple passes and readbacks for retriving details
 * on an entity that has its shaderPickingDetails property set to true.
 *
 * A read-back operation from any GPU is not a very efficient process, and the amount of processing used can vary significantly between different hardware.
 *
 * @see away.entities.Entity#shaderPickingDetails
 *
 * @class away.pick.ShaderPicker
 */
var ShaderPicker = (function () {
    /**
     * Creates a new <code>ShaderPicker</code> object.
     *
     * @param shaderPickingDetails Determines whether the picker includes a second pass to calculate extra
     * properties such as uv and normal coordinates.
     */
    function ShaderPicker(shaderPickingDetails) {
        if (shaderPickingDetails === void 0) { shaderPickingDetails = false; }
        this._onlyMouseEnabled = true;
        this._interactives = new Array();
        this._localHitPosition = new Vector3D();
        this._hitUV = new Point();
        this._localHitNormal = new Vector3D();
        this._rayPos = new Vector3D();
        this._rayDir = new Vector3D();
        this._shaderPickingDetails = shaderPickingDetails;
        this._id = new Array(4);
        this._viewportData = new Array(4); // first 2 contain scale, last 2 translation
        this._boundOffsetScale = new Array(8); // first 2 contain scale, last 2 translation
        this._boundOffsetScale[3] = 0;
        this._boundOffsetScale[7] = 1;
    }
    Object.defineProperty(ShaderPicker.prototype, "onlyMouseEnabled", {
        /**
         * @inheritDoc
         */
        get: function () {
            return this._onlyMouseEnabled;
        },
        set: function (value) {
            this._onlyMouseEnabled = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.getViewCollision = function (x, y, view) {
        var collector = view.iEntityCollector;
        this._stage = view.renderer.stage;
        if (!this._stage)
            return null;
        this._context = this._stage.context;
        this._viewportData[0] = view.width;
        this._viewportData[1] = view.height;
        this._viewportData[2] = -(this._projX = 2 * x / view.width - 1);
        this._viewportData[3] = this._projY = 2 * y / view.height - 1;
        // _potentialFound will be set to true if any object is actually rendered
        this._potentialFound = false;
        //reset head values
        this._blendedRenderableHead = null;
        this._opaqueRenderableHead = null;
        this.pDraw(collector, null);
        // clear buffers
        this._context.setVertexBufferAt(0, null);
        if (!this._context || !this._potentialFound)
            return null;
        if (!this._bitmapData)
            this._bitmapData = new BitmapData(1, 1, false, 0);
        this._context.drawToBitmapData(this._bitmapData);
        this._hitColor = this._bitmapData.getPixel(0, 0);
        if (!this._hitColor) {
            this._context.present();
            return null;
        }
        this._hitRenderable = this._interactives[this._hitColor - 1];
        this._hitEntity = this._hitRenderable.sourceEntity;
        if (this._onlyMouseEnabled && !this._hitEntity._iIsMouseEnabled())
            return null;
        var _collisionVO = this._hitEntity._iPickingCollisionVO;
        if (this._shaderPickingDetails) {
            this.getHitDetails(view.camera);
            _collisionVO.localPosition = this._localHitPosition;
            _collisionVO.localNormal = this._localHitNormal;
            _collisionVO.uv = this._hitUV;
            _collisionVO.index = this._faceIndex;
        }
        else {
            _collisionVO.localPosition = null;
            _collisionVO.localNormal = null;
            _collisionVO.uv = null;
            _collisionVO.index = 0;
        }
        return _collisionVO;
    };
    //*/
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.getSceneCollision = function (position, direction, scene) {
        return null;
    };
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.pDraw = function (entityCollector, target) {
        var camera = entityCollector.camera;
        this._context.clear(0, 0, 0, 1);
        this._stage.scissorRect = ShaderPicker.MOUSE_SCISSOR_RECT;
        this._interactives.length = this._interactiveId = 0;
        if (!this._objectProgram)
            this.initObjectProgram();
        this._context.setBlendFactors(ContextGLBlendFactor.ONE, ContextGLBlendFactor.ZERO);
        this._context.setDepthTest(true, ContextGLCompareMode.LESS);
        this._context.setProgram(this._objectProgram);
        this._context.setProgramConstantsFromArray(ContextGLProgramType.VERTEX, 4, this._viewportData, 1);
        //this.drawRenderables(entityCollector.opaqueRenderableHead, camera);
        //this.drawRenderables(entityCollector.blendedRenderableHead, camera);
        //TODO: reimplement ShaderPicker inheriting from RendererBase
    };
    /**
     * Draw a list of renderables.
     * @param renderables The renderables to draw.
     * @param camera The camera for which to render.
     */
    ShaderPicker.prototype.drawRenderables = function (renderable, camera) {
        var matrix = Matrix3DUtils.CALCULATION_MATRIX;
        var viewProjection = camera.viewProjection;
        while (renderable) {
            // it's possible that the renderable was already removed from the scene
            if (!renderable.sourceEntity.scene || !renderable.sourceEntity._iIsMouseEnabled()) {
                renderable = renderable.next;
                continue;
            }
            this._potentialFound = true;
            this._context.setCulling(renderable.materialOwner.material.bothSides ? ContextGLTriangleFace.NONE : ContextGLTriangleFace.BACK, camera.projection.coordinateSystem);
            this._interactives[this._interactiveId++] = renderable;
            // color code so that reading from bitmapdata will contain the correct value
            this._id[1] = (this._interactiveId >> 8) / 255; // on green channel
            this._id[2] = (this._interactiveId & 0xff) / 255; // on blue channel
            matrix.copyFrom(renderable.sourceEntity.getRenderSceneTransform(camera));
            matrix.append(viewProjection);
            this._context.setProgramConstantsFromMatrix(ContextGLProgramType.VERTEX, 0, matrix, true);
            this._context.setProgramConstantsFromArray(ContextGLProgramType.FRAGMENT, 0, this._id, 1);
            this._context.activateBuffer(0, renderable.getVertexData(TriangleSubGeometry.POSITION_DATA), renderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA), TriangleSubGeometry.POSITION_FORMAT);
            this._context.drawTriangles(this._context.getIndexBuffer(renderable.getIndexData()), 0, renderable.numTriangles);
            renderable = renderable.next;
        }
    };
    ShaderPicker.prototype.updateRay = function (camera) {
        this._rayPos = camera.scenePosition;
        this._rayDir = camera.getRay(this._projX, this._projY, 1);
        this._rayDir.normalize();
    };
    /**
     * Creates the Program that color-codes objects.
     */
    ShaderPicker.prototype.initObjectProgram = function () {
        var vertexCode;
        var fragmentCode;
        this._objectProgram = this._context.createProgram();
        vertexCode = "m44 vt0, va0, vc0			\n" + "mul vt1.xy, vt0.w, vc4.zw	\n" + "add vt0.xy, vt0.xy, vt1.xy	\n" + "mul vt0.xy, vt0.xy, vc4.xy	\n" + "mov op, vt0	\n";
        fragmentCode = "mov oc, fc0"; // write identifier
        Debug.throwPIR('ShaderPicker', 'initTriangleProgram', 'Dependency: initObjectProgram');
        //_objectProgram.upload(new AGALMiniAssembler().assemble(ContextGLProgramType.VERTEX, vertexCode),new AGALMiniAssembler().assemble(ContextGLProgramType.FRAGMENT, fragmentCode));
    };
    /**
     * Creates the Program that renders positions.
     */
    ShaderPicker.prototype.initTriangleProgram = function () {
        var vertexCode;
        var fragmentCode;
        this._triangleProgram = this._context.createProgram();
        // todo: add animation code
        vertexCode = "add vt0, va0, vc5 			\n" + "mul vt0, vt0, vc6 			\n" + "mov v0, vt0				\n" + "m44 vt0, va0, vc0			\n" + "mul vt1.xy, vt0.w, vc4.zw	\n" + "add vt0.xy, vt0.xy, vt1.xy	\n" + "mul vt0.xy, vt0.xy, vc4.xy	\n" + "mov op, vt0	\n";
        fragmentCode = "mov oc, v0"; // write identifier
        var vertexByteCode = (new AGALMiniAssembler().assemble("part vertex 1\n" + vertexCode + "endpart"))['vertex'].data;
        var fragmentByteCode = (new AGALMiniAssembler().assemble("part fragment 1\n" + fragmentCode + "endpart"))['fragment'].data;
        this._triangleProgram.upload(vertexByteCode, fragmentByteCode);
    };
    /**
     * Gets more detailed information about the hir position, if required.
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getHitDetails = function (camera) {
        this.getApproximatePosition(camera);
        this.getPreciseDetails(camera);
    };
    /**
     * Finds a first-guess approximate position about the hit position.
     *
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getApproximatePosition = function (camera) {
        var bounds = this._hitRenderable.sourceEntity.bounds.aabb;
        var col;
        var scX, scY, scZ;
        var offsX, offsY, offsZ;
        var localViewProjection = Matrix3DUtils.CALCULATION_MATRIX;
        localViewProjection.copyFrom(this._hitRenderable.sourceEntity.getRenderSceneTransform(camera));
        localViewProjection.append(camera.viewProjection);
        if (!this._triangleProgram) {
            this.initTriangleProgram();
        }
        this._boundOffsetScale[4] = 1 / (scX = bounds.width);
        this._boundOffsetScale[5] = 1 / (scY = bounds.height);
        this._boundOffsetScale[6] = 1 / (scZ = bounds.depth);
        this._boundOffsetScale[0] = offsX = -bounds.x;
        this._boundOffsetScale[1] = offsY = -bounds.y;
        this._boundOffsetScale[2] = offsZ = -bounds.z;
        this._context.setProgram(this._triangleProgram);
        this._context.clear(0, 0, 0, 0, 1, 0, ContextGLClearMask.DEPTH);
        this._context.setScissorRectangle(ShaderPicker.MOUSE_SCISSOR_RECT);
        this._context.setProgramConstantsFromMatrix(ContextGLProgramType.VERTEX, 0, localViewProjection, true);
        this._context.setProgramConstantsFromArray(ContextGLProgramType.VERTEX, 5, this._boundOffsetScale, 2);
        this._context.activateBuffer(0, this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA), this._hitRenderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA), TriangleSubGeometry.POSITION_FORMAT);
        this._context.drawTriangles(this._context.getIndexBuffer(this._hitRenderable.getIndexData()), 0, this._hitRenderable.numTriangles);
        this._context.drawToBitmapData(this._bitmapData);
        col = this._bitmapData.getPixel(0, 0);
        this._localHitPosition.x = ((col >> 16) & 0xff) * scX / 255 - offsX;
        this._localHitPosition.y = ((col >> 8) & 0xff) * scY / 255 - offsY;
        this._localHitPosition.z = (col & 0xff) * scZ / 255 - offsZ;
    };
    /**
     * Use the approximate position info to find the face under the mouse position from which we can derive the precise
     * ray-face intersection point, then use barycentric coordinates to figure out the uv coordinates, etc.
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getPreciseDetails = function (camera) {
        var len = indices.length;
        var x1, y1, z1;
        var x2, y2, z2;
        var x3, y3, z3;
        var i = 0, j = 1, k = 2;
        var t1, t2, t3;
        var v0x, v0y, v0z;
        var v1x, v1y, v1z;
        var v2x, v2y, v2z;
        var ni1, ni2, ni3;
        var n1, n2, n3, nLength;
        var dot00, dot01, dot02, dot11, dot12;
        var s, t, invDenom;
        var x = this._localHitPosition.x, y = this._localHitPosition.y, z = this._localHitPosition.z;
        var u, v;
        var ui1, ui2, ui3;
        var s0x, s0y, s0z;
        var s1x, s1y, s1z;
        var nl;
        var indices = this._hitRenderable.getIndexData().data;
        var positions = this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA).data;
        var positionStride = this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA).dataPerVertex;
        var positionOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA);
        var uvs = this._hitRenderable.getVertexData(TriangleSubGeometry.UV_DATA).data;
        var uvStride = this._hitRenderable.getVertexData(TriangleSubGeometry.UV_DATA).dataPerVertex;
        var uvOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.UV_DATA);
        var normals = this._hitRenderable.getVertexData(TriangleSubGeometry.NORMAL_DATA).data;
        var normalStride = this._hitRenderable.getVertexData(TriangleSubGeometry.NORMAL_DATA).dataPerVertex;
        var normalOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.NORMAL_DATA);
        this.updateRay(camera);
        while (i < len) {
            t1 = positionOffset + indices[i] * positionStride;
            t2 = positionOffset + indices[j] * positionStride;
            t3 = positionOffset + indices[k] * positionStride;
            x1 = positions[t1];
            y1 = positions[t1 + 1];
            z1 = positions[t1 + 2];
            x2 = positions[t2];
            y2 = positions[t2 + 1];
            z2 = positions[t2 + 2];
            x3 = positions[t3];
            y3 = positions[t3 + 1];
            z3 = positions[t3 + 2];
            // if within bounds
            if (!((x < x1 && x < x2 && x < x3) || (y < y1 && y < y2 && y < y3) || (z < z1 && z < z2 && z < z3) || (x > x1 && x > x2 && x > x3) || (y > y1 && y > y2 && y > y3) || (z > z1 && z > z2 && z > z3))) {
                // calculate barycentric coords for approximated position
                v0x = x3 - x1;
                v0y = y3 - y1;
                v0z = z3 - z1;
                v1x = x2 - x1;
                v1y = y2 - y1;
                v1z = z2 - z1;
                v2x = x - x1;
                v2y = y - y1;
                v2z = z - z1;
                dot00 = v0x * v0x + v0y * v0y + v0z * v0z;
                dot01 = v0x * v1x + v0y * v1y + v0z * v1z;
                dot02 = v0x * v2x + v0y * v2y + v0z * v2z;
                dot11 = v1x * v1x + v1y * v1y + v1z * v1z;
                dot12 = v1x * v2x + v1y * v2y + v1z * v2z;
                invDenom = 1 / (dot00 * dot11 - dot01 * dot01);
                s = (dot11 * dot02 - dot01 * dot12) * invDenom;
                t = (dot00 * dot12 - dot01 * dot02) * invDenom;
                // if inside the current triangle, fetch details hit information
                if (s >= 0 && t >= 0 && (s + t) <= 1) {
                    ni1 = normalOffset + indices[i] * normalStride;
                    ni2 = normalOffset + indices[j] * normalStride;
                    ni3 = normalOffset + indices[k] * normalStride;
                    n1 = indices[ni1] + indices[ni2] + indices[ni3];
                    n2 = indices[ni1 + 1] + indices[ni2 + 1] + indices[ni3 + 1];
                    n3 = indices[ni1 + 2] + indices[ni2 + 2] + indices[ni3 + 2];
                    nLength = Math.sqrt(n1 * n1 + n2 * n2 + n3 * n3);
                    n1 /= nLength;
                    n2 /= nLength;
                    n3 /= nLength;
                    // this is def the triangle, now calculate precise coords
                    this.getPrecisePosition(this._hitRenderable.sourceEntity.inverseSceneTransform, n1, n2, n3, x1, y1, z1);
                    v2x = this._localHitPosition.x - x1;
                    v2y = this._localHitPosition.y - y1;
                    v2z = this._localHitPosition.z - z1;
                    s0x = x2 - x1; // s0 = p1 - p0
                    s0y = y2 - y1;
                    s0z = z2 - z1;
                    s1x = x3 - x1; // s1 = p2 - p0
                    s1y = y3 - y1;
                    s1z = z3 - z1;
                    this._localHitNormal.x = s0y * s1z - s0z * s1y; // n = s0 x s1
                    this._localHitNormal.y = s0z * s1x - s0x * s1z;
                    this._localHitNormal.z = s0x * s1y - s0y * s1x;
                    nl = 1 / Math.sqrt(this._localHitNormal.x * this._localHitNormal.x + this._localHitNormal.y * this._localHitNormal.y + this._localHitNormal.z * this._localHitNormal.z); // normalize n
                    this._localHitNormal.x *= nl;
                    this._localHitNormal.y *= nl;
                    this._localHitNormal.z *= nl;
                    dot02 = v0x * v2x + v0y * v2y + v0z * v2z;
                    dot12 = v1x * v2x + v1y * v2y + v1z * v2z;
                    s = (dot11 * dot02 - dot01 * dot12) * invDenom;
                    t = (dot00 * dot12 - dot01 * dot02) * invDenom;
                    ui1 = uvOffset + indices[i] * uvStride;
                    ui2 = uvOffset + indices[j] * uvStride;
                    ui3 = uvOffset + indices[k] * uvStride;
                    u = uvs[ui1];
                    v = uvs[ui1 + 1];
                    this._hitUV.x = u + t * (uvs[ui2] - u) + s * (uvs[ui3] - u);
                    this._hitUV.y = v + t * (uvs[ui2 + 1] - v) + s * (uvs[ui3 + 1] - v);
                    this._faceIndex = i;
                    //TODO add back subGeometryIndex value
                    //this._subGeometryIndex = away.utils.GeometryUtils.getMeshSubGeometryIndex(subGeom);
                    return;
                }
            }
            i += 3;
            j += 3;
            k += 3;
        }
    };
    /**
     * Finds the precise hit position by unprojecting the screen coordinate back unto the hit face's plane and
     * calculating the intersection point.
     * @param camera The camera used to render the object.
     * @param invSceneTransform The inverse scene transformation of the hit object.
     * @param nx The x-coordinate of the face's plane normal.
     * @param ny The y-coordinate of the face plane normal.
     * @param nz The z-coordinate of the face plane normal.
     * @param px The x-coordinate of a point on the face's plane (ie a face vertex)
     * @param py The y-coordinate of a point on the face's plane (ie a face vertex)
     * @param pz The z-coordinate of a point on the face's plane (ie a face vertex)
     */
    ShaderPicker.prototype.getPrecisePosition = function (invSceneTransform, nx, ny, nz, px, py, pz) {
        // calculate screen ray and find exact intersection position with triangle
        var rx, ry, rz;
        var ox, oy, oz;
        var t;
        var raw = Matrix3DUtils.RAW_DATA_CONTAINER;
        var cx = this._rayPos.x, cy = this._rayPos.y, cz = this._rayPos.z;
        // unprojected projection point, gives ray dir in cam space
        ox = this._rayDir.x;
        oy = this._rayDir.y;
        oz = this._rayDir.z;
        // transform ray dir and origin (cam pos) to object space
        //invSceneTransform.copyRawDataTo( raw  );
        invSceneTransform.copyRawDataTo(raw);
        rx = raw[0] * ox + raw[4] * oy + raw[8] * oz;
        ry = raw[1] * ox + raw[5] * oy + raw[9] * oz;
        rz = raw[2] * ox + raw[6] * oy + raw[10] * oz;
        ox = raw[0] * cx + raw[4] * cy + raw[8] * cz + raw[12];
        oy = raw[1] * cx + raw[5] * cy + raw[9] * cz + raw[13];
        oz = raw[2] * cx + raw[6] * cy + raw[10] * cz + raw[14];
        t = ((px - ox) * nx + (py - oy) * ny + (pz - oz) * nz) / (rx * nx + ry * ny + rz * nz);
        this._localHitPosition.x = ox + rx * t;
        this._localHitPosition.y = oy + ry * t;
        this._localHitPosition.z = oz + rz * t;
    };
    ShaderPicker.prototype.dispose = function () {
        this._bitmapData.dispose();
        if (this._triangleProgram)
            this._triangleProgram.dispose();
        if (this._objectProgram)
            this._objectProgram.dispose();
        this._triangleProgram = null;
        this._objectProgram = null;
        this._bitmapData = null;
        this._hitRenderable = null;
        this._hitEntity = null;
    };
    ShaderPicker.MOUSE_SCISSOR_RECT = new Rectangle(0, 0, 1, 1);
    return ShaderPicker;
})();
module.exports = ShaderPicker;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvcGljay9zaGFkZXJwaWNrZXIudHMiXSwibmFtZXMiOlsiU2hhZGVyUGlja2VyIiwiU2hhZGVyUGlja2VyLmNvbnN0cnVjdG9yIiwiU2hhZGVyUGlja2VyLm9ubHlNb3VzZUVuYWJsZWQiLCJTaGFkZXJQaWNrZXIuZ2V0Vmlld0NvbGxpc2lvbiIsIlNoYWRlclBpY2tlci5nZXRTY2VuZUNvbGxpc2lvbiIsIlNoYWRlclBpY2tlci5wRHJhdyIsIlNoYWRlclBpY2tlci5kcmF3UmVuZGVyYWJsZXMiLCJTaGFkZXJQaWNrZXIudXBkYXRlUmF5IiwiU2hhZGVyUGlja2VyLmluaXRPYmplY3RQcm9ncmFtIiwiU2hhZGVyUGlja2VyLmluaXRUcmlhbmdsZVByb2dyYW0iLCJTaGFkZXJQaWNrZXIuZ2V0SGl0RGV0YWlscyIsIlNoYWRlclBpY2tlci5nZXRBcHByb3hpbWF0ZVBvc2l0aW9uIiwiU2hhZGVyUGlja2VyLmdldFByZWNpc2VEZXRhaWxzIiwiU2hhZGVyUGlja2VyLmdldFByZWNpc2VQb3NpdGlvbiIsIlNoYWRlclBpY2tlci5kaXNwb3NlIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFPLEtBQUssV0FBaUIsNkJBQTZCLENBQUMsQ0FBQztBQUM1RCxJQUFPLFVBQVUsV0FBZ0Isc0NBQXNDLENBQUMsQ0FBQztBQUN6RSxJQUFPLG1CQUFtQixXQUFjLCtDQUErQyxDQUFDLENBQUM7QUFLekYsSUFBTyxhQUFhLFdBQWUseUNBQXlDLENBQUMsQ0FBQztBQUM5RSxJQUFPLEtBQUssV0FBaUIsaUNBQWlDLENBQUMsQ0FBQztBQUNoRSxJQUFPLFNBQVMsV0FBZ0IscUNBQXFDLENBQUMsQ0FBQztBQUN2RSxJQUFPLFFBQVEsV0FBaUIsb0NBQW9DLENBQUMsQ0FBQztBQVN0RSxJQUFPLGlCQUFpQixXQUFjLHNEQUFzRCxDQUFDLENBQUM7QUFJOUYsSUFBTyxvQkFBb0IsV0FBYyxzREFBc0QsQ0FBQyxDQUFDO0FBQ2pHLElBQU8sa0JBQWtCLFdBQWMsb0RBQW9ELENB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QTtRQUNwREEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtRQUNuREEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxLQUFLQSxHQUFHQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUM5Q0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxLQUFLQSxHQUFHQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUM5Q0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxLQUFLQSxHQUFHQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUU5Q0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQTtRQUNoREEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsa0JBQWtCQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtRQUNoRUEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxZQUFZQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBO1FBQ25FQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSw2QkFBNkJBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsbUJBQW1CQSxFQUFFQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUN2R0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxvQkFBb0JBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFdEdBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLGFBQWFBLENBQUNBLG1CQUFtQkEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxhQUFhQSxDQUFDQSxFQUFFQSxtQkFBbUJBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBO1FBQ25OQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxhQUFhQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxjQUFjQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxZQUFZQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQTtRQUVuSUEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQTtRQUVqREEsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFdENBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBQ0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsS0FBS0EsQ0FBQ0E7UUFDaEVBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBQ0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsS0FBS0EsQ0FBQ0E7UUFDL0RBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBQ0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsS0FBS0EsQ0FBQ0E7SUFDekRBLENBQUNBO0lBRURYOzs7O09BSUdBO0lBQ0tBLHdDQUFpQkEsR0FBekJBLFVBQTBCQSxNQUFhQTtRQUV0Q1ksSUFBSUEsR0FBR0EsR0FBVUEsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDaENBLElBQUlBLEVBQVNBLEVBQUVBLEVBQVNBLEVBQUVBLEVBQVNBLENBQUNBO1FBQ3BDQSxJQUFJQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxDQUFDQTtRQUNwQ0EsSUFBSUEsRUFBU0EsRUFBRUEsRUFBU0EsRUFBRUEsRUFBU0EsQ0FBQ0E7UUFDcENBLElBQUlBLENBQUNBLEdBQVVBLENBQUNBLEVBQUVBLENBQUNBLEdBQVVBLENBQUNBLEVBQUVBLENBQUNBLEdBQVVBLENBQUNBLENBQUNBO1FBQzdDQSxJQUFJQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxDQUFDQTtRQUNwQ0EsSUFBSUEsR0FBVUEsRUFBRUEsR0FBVUEsRUFBRUEsR0FBVUEsQ0FBQ0E7UUFDdkNBLElBQUlBLEdBQVVBLEVBQUVBLEdBQVVBLEVBQUVBLEdBQVVBLENBQUNBO1FBQ3ZDQSxJQUFJQSxHQUFVQSxFQUFFQSxHQUFVQSxFQUFFQSxHQUFVQSxDQUFDQTtRQUN2Q0EsSUFBSUEsR0FBVUEsRUFBRUEsR0FBVUEsRUFBRUEsR0FBVUEsQ0FBQ0E7UUFDdkNBLElBQUlBLEVBQVNBLEVBQUVBLEVBQVNBLEVBQUVBLEVBQVNBLEVBQUVBLE9BQWNBLENBQUNBO1FBQ3BEQSxJQUFJQSxLQUFZQSxFQUFFQSxLQUFZQSxFQUFFQSxLQUFZQSxFQUFFQSxLQUFZQSxFQUFFQSxLQUFZQSxDQUFDQTtRQUN6RUEsSUFBSUEsQ0FBUUEsRUFBRUEsQ0FBUUEsRUFBRUEsUUFBZUEsQ0FBQ0E7UUFDeENBLElBQUlBLENBQUNBLEdBQVVBLElBQUlBLENB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Q0FBQ0EsQ0FBQ0E7WUFDdkJBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ25CQSxFQUFFQSxHQUFHQSxTQUFTQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN2QkEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDdkJBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ25CQSxFQUFFQSxHQUFHQSxTQUFTQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN2QkEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFdkJBLEFBQ0FBLG1CQURtQkE7WUFDbkJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUtBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUV6TUEsQUFDQUEseURBRHlEQTtnQkFDekRBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDZEEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2RBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDZEEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2RBLEdBQUdBLEdBQUdBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNiQSxHQUFHQSxHQUFHQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDYkEsR0FBR0EsR0FBR0EsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2JBLEtBQUtBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLENBQUNBO2dCQUNwQ0EsS0FBS0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsQ0FBQ0E7Z0JBQ3BDQSxLQUFLQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtnQkFDcENBLEtBQUtBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLENBQUNBO2dCQUNwQ0EsS0FBS0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsQ0FBQ0E7Z0JBQ3BDQSxRQUFRQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxLQUFLQSxHQUFDQSxLQUFLQSxHQUFHQSxLQUFLQSxHQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtnQkFDekNBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLEdBQUNBLEtBQUtBLEdBQUdBLEtBQUtBLEdBQUNBLEtBQUtBLENBQUNBLEdBQUNBLFFBQVFBLENBQUNBO2dCQUN6Q0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsR0FBQ0EsS0FBS0EsR0FBR0EsS0FBS0EsR0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBQ0EsUUFBUUEsQ0FBQ0E7Z0JBRXpDQSxBQUNBQSxnRUFEZ0VBO2dCQUNoRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBRXRDQSxHQUFHQSxHQUFHQSxZQUFZQSxHQUFHQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxZQUFZQSxDQUFDQTtvQkFDN0NBLEdBQUdBLEdBQUdBLFlBQVlBLEdBQUdBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLFlBQVlBLENBQUNBO29CQUM3Q0EsR0FBR0EsR0FBR0EsWUFBWUEsR0FBR0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsWUFBWUEsQ0FBQ0E7b0JBRTdDQSxFQUFFQSxHQUFHQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtvQkFDaERBLEVBQUVBLEdBQUdBLE9BQU9BLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLE9BQU9BLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLE9BQU9BLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO29CQUM1REEsRUFBRUEsR0FBR0EsT0FBT0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsT0FBT0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsT0FBT0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBRTVEQSxPQUFPQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtvQkFFM0NBLEVBQUVBLElBQUlBLE9BQU9BLENBQUNBO29CQUNkQSxFQUFFQSxJQUFJQSxPQUFPQSxDQUFDQTtvQkFDZEEsRUFBRUEsSUFBSUEsT0FBT0EsQ0FBQ0E7b0JBRWRBLEFBQ0FBLHlEQUR5REE7b0JBQ3pEQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLFlBQVlBLENBQUNBLHFCQUFxQkEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7b0JBRXhHQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBO29CQUNwQ0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQTtvQkFDcENBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0E7b0JBRXBDQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxFQUFFQSxlQUFlQTtvQkFDOUJBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO29CQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtvQkFDZEEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsRUFBRUEsZUFBZUE7b0JBQzlCQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtvQkFDZEEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7b0JBQ2RBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEVBQUVBLGNBQWNBO29CQUMxREEsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsQ0FBQ0E7b0JBQzNDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtvQkFDM0NBLEVBQUVBLEdBQUdBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLGNBQWNBO29CQUMvS0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0E7b0JBQzdCQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQSxJQUFJQSxFQUFFQSxDQUFDQTtvQkFDN0JBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBO29CQUU3QkEsS0FBS0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsQ0FBQ0E7b0JBQ3BDQSxLQUFLQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtvQkFDcENBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLEdBQUNBLEtBQUtBLEdBQUdBLEtBQUtBLEdBQUNBLEtBQUtBLENBQUNBLEdBQUNBLFFBQVFBLENBQUNBO29CQUN6Q0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsR0FBQ0EsS0FBS0EsR0FBR0EsS0FBS0EsR0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBQ0EsUUFBUUEsQ0FBQ0E7b0JBRXpDQSxHQUFHQSxHQUFHQSxRQUFRQSxHQUFHQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxRQUFRQSxDQUFBQTtvQkFDcENBLEdBQUdBLEdBQUdBLFFBQVFBLEdBQUdBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLFFBQVFBLENBQUFBO29CQUNwQ0EsR0FBR0EsR0FBR0EsUUFBUUEsR0FBR0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsUUFBUUEsQ0FBQUE7b0JBRXBDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtvQkFDYkEsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ2pCQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDeERBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNB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Q0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFDakRBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBRWxEQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxHQUFDQSxFQUFFQSxDQUFDQSxHQUFDQSxDQUFDQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUV6RUEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxDQUFDQSxDQUFDQTtRQUNyQ0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxDQUFDQSxDQUFDQTtRQUNyQ0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFDQSxDQUFDQSxDQUFDQTtJQUN0Q0EsQ0FBQ0E7SUFFTWIsOEJBQU9BLEdBQWRBO1FBRUNjLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQzNCQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBO1lBQ3pCQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBRWpDQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQTtZQUN2QkEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFFL0JBLElBQUlBLENBQUNBLGdCQUFnQkEsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLGNBQWNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzNCQSxJQUFJQSxDQUFDQSxXQUFXQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUN4QkEsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDM0JBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLElBQUlBLENBQUNBO0lBQ3hCQSxDQUFDQTtJQS9kY2QsK0JBQWtCQSxHQUFhQSxJQUFJQSxTQUFTQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtJQWdlekVBLG1CQUFDQTtBQUFEQSxDQWxnQkEsQUFrZ0JDQSxJQUFBO0FBRUQsQUFBc0IsaUJBQWIsWUFBWSxDQUFDIiwiZmlsZSI6ImNvcmUvcGljay9TaGFkZXJQaWNrZXIuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL3JvYmJhdGVtYW4vV2Vic3Rvcm1Qcm9qZWN0cy9hd2F5anMtcmVuZGVyZXJnbC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVidWdcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi91dGlscy9EZWJ1Z1wiKTtcbmltcG9ydCBCaXRtYXBEYXRhXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvYmFzZS9CaXRtYXBEYXRhXCIpO1xuaW1wb3J0IFRyaWFuZ2xlU3ViR2VvbWV0cnlcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL2Jhc2UvVHJpYW5nbGVTdWJHZW9tZXRyeVwiKTtcbmltcG9ydCBTY2VuZVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvbnRhaW5lcnMvU2NlbmVcIik7XG5pbXBvcnQgVmlld1x0XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29udGFpbmVycy9WaWV3XCIpO1xuaW1wb3J0IEJveFx0XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9nZW9tL0JveFwiKTtcbmltcG9ydCBNYXRyaXgzRFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvZ2VvbS9NYXRyaXgzRFwiKTtcbmltcG9ydCBNYXRyaXgzRFV0aWxzXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9jb3JlL2dlb20vTWF0cml4M0RVdGlsc1wiKTtcbmltcG9ydCBQb2ludFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvZ2VvbS9Qb2ludFwiKTtcbmltcG9ydCBSZWN0YW5nbGVcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9nZW9tL1JlY3RhbmdsZVwiKTtcbmltcG9ydCBWZWN0b3IzRFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvZ2VvbS9WZWN0b3IzRFwiKTtcbmltcG9ydCBJUGlja2VyXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9waWNrL0lQaWNrZXJcIik7XG5pbXBvcnQgUGlja2luZ0NvbGxpc2lvblZPXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvY29yZS9waWNrL1BpY2tpbmdDb2xsaXNpb25WT1wiKTtcbmltcG9ydCBFbnRpdHlDb2xsZWN0b3JcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2NvcmUvdHJhdmVyc2UvRW50aXR5Q29sbGVjdG9yXCIpO1xuaW1wb3J0IENhbWVyYVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2VudGl0aWVzL0NhbWVyYVwiKTtcbmltcG9ydCBJRW50aXR5XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZW50aXRpZXMvSUVudGl0eVwiKTtcbmltcG9ydCBNYXRlcmlhbEJhc2VcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvbWF0ZXJpYWxzL01hdGVyaWFsQmFzZVwiKTtcbmltcG9ydCBCeXRlQXJyYXlcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdXRpbHMvQnl0ZUFycmF5XCIpO1xuXG5pbXBvcnQgQUdBTE1pbmlBc3NlbWJsZXJcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9hZ2xzbC9hc3NlbWJsZXIvQUdBTE1pbmlBc3NlbWJsZXJcIik7XG5pbXBvcnQgU3RhZ2VcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL2Jhc2UvU3RhZ2VcIik7XG5pbXBvcnQgUmVuZGVyYWJsZUJhc2VcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvcG9vbC9SZW5kZXJhYmxlQmFzZVwiKTtcbmltcG9ydCBEZWZhdWx0UmVuZGVyZXJcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvcmVuZGVyL0RlZmF1bHRSZW5kZXJlclwiKTtcbmltcG9ydCBDb250ZXh0R0xCbGVuZEZhY3Rvclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvc3RhZ2VnbC9Db250ZXh0R0xCbGVuZEZhY3RvclwiKTtcbmltcG9ydCBDb250ZXh0R0xDbGVhck1hc2tcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL3N0YWdlZ2wvQ29udGV4dEdMQ2xlYXJNYXNrXCIpO1xuaW1wb3J0IENvbnRleHRHTENvbXBhcmVNb2RlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9zdGFnZWdsL0NvbnRleHRHTENvbXBhcmVNb2RlXCIpO1xuaW1wb3J0IENvbnRleHRHTFByb2dyYW1UeXBlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9zdGFnZWdsL0NvbnRleHRHTFByb2dyYW1UeXBlXCIpO1xuaW1wb3J0IENvbnRleHRHTFRyaWFuZ2xlRmFjZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9jb3JlL3N0YWdlZ2wvQ29udGV4dEdMVHJpYW5nbGVGYWNlXCIpO1xuaW1wb3J0IElDb250ZXh0U3RhZ2VHTFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9zdGFnZWdsL0lDb250ZXh0U3RhZ2VHTFwiKTtcbmltcG9ydCBJUHJvZ3JhbVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2NvcmUvc3RhZ2VnbC9JUHJvZ3JhbVwiKTtcbmltcG9ydCBJVGV4dHVyZUJhc2VcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvY29yZS9zdGFnZWdsL0lUZXh0dXJlQmFzZVwiKTtcblxuLyoqXG4gKiBQaWNrcyBhIDNkIG9iamVjdCBmcm9tIGEgdmlldyBvciBzY2VuZSBieSBwZXJmb3JtaW5nIGEgc2VwYXJhdGUgcmVuZGVyIHBhc3Mgb24gdGhlIHNjZW5lIGFyb3VuZCB0aGUgYXJlYSBiZWluZyBwaWNrZWQgdXNpbmcga2V5IGNvbG9yIHZhbHVlcyxcbiAqIHRoZW4gcmVhZGluZyBiYWNrIHRoZSBjb2xvciB2YWx1ZSBvZiB0aGUgcGl4ZWwgaW4gdGhlIHJlbmRlciByZXByZXNlbnRpbmcgdGhlIHBpY2tpbmcgcmF5LiBSZXF1aXJlcyBtdWx0aXBsZSBwYXNzZXMgYW5kIHJlYWRiYWNrcyBmb3IgcmV0cml2aW5nIGRldGFpbHNcbiAqIG9uIGFuIGVudGl0eSB0aGF0IGhhcyBpdHMgc2hhZGVyUGlja2luZ0RldGFpbHMgcHJvcGVydHkgc2V0IHRvIHRydWUuXG4gKlxuICogQSByZWFkLWJhY2sgb3BlcmF0aW9uIGZyb20gYW55IEdQVSBpcyBub3QgYSB2ZXJ5IGVmZmljaWVudCBwcm9jZXNzLCBhbmQgdGhlIGFtb3VudCBvZiBwcm9jZXNzaW5nIHVzZWQgY2FuIHZhcnkgc2lnbmlmaWNhbnRseSBiZXR3ZWVuIGRpZmZlcmVudCBoYXJkd2FyZS5cbiAqXG4gKiBAc2VlIGF3YXkuZW50aXRpZXMuRW50aXR5I3NoYWRlclBpY2tpbmdEZXRhaWxzXG4gKlxuICogQGNsYXNzIGF3YXkucGljay5TaGFkZXJQaWNrZXJcbiAqL1xuY2xhc3MgU2hhZGVyUGlja2VyIGltcGxlbWVudHMgSVBpY2tlclxue1xuXHRwcml2YXRlIF9vcGFxdWVSZW5kZXJhYmxlSGVhZDpSZW5kZXJhYmxlQmFzZTtcblx0cHJpdmF0ZSBfYmxlbmRlZFJlbmRlcmFibGVIZWFkOlJlbmRlcmFibGVCYXNlO1xuXG5cdHByaXZhdGUgX3N0YWdlOlN0YWdlO1xuXHRwcml2YXRlIF9jb250ZXh0OklDb250ZXh0U3RhZ2VHTDtcblx0cHJpdmF0ZSBfb25seU1vdXNlRW5hYmxlZDpib29sZWFuID0gdHJ1ZTtcblxuXHRwcml2YXRlIF9vYmplY3RQcm9ncmFtOklQcm9ncmFtO1xuXHRwcml2YXRlIF90cmlhbmdsZVByb2dyYW06SVByb2dyYW07XG5cdHByaXZhdGUgX2JpdG1hcERhdGE6Qml0bWFwRGF0YTtcblx0cHJpdmF0ZSBfdmlld3BvcnREYXRhOkFycmF5PG51bWJlcj47XG5cdHByaXZhdGUgX2JvdW5kT2Zmc2V0U2NhbGU6QXJyYXk8bnVtYmVyPjtcblx0cHJpdmF0ZSBfaWQ6QXJyYXk8bnVtYmVyPjtcblxuXHRwcml2YXRlIF9pbnRlcmFjdGl2ZXM6QXJyYXk8UmVuZGVyYWJsZUJhc2U+ID0gbmV3IEFycmF5PFJlbmRlcmFibGVCYXNlPigpO1xuXHRwcml2YXRlIF9pbnRlcmFjdGl2ZUlkOm51bWJlcjtcblx0cHJpdmF0ZSBfaGl0Q29sb3I6bnVtYmVyO1xuXHRwcml2YXRlIF9wcm9qWDpudW1iZXI7XG5cdHByaXZhdGUgX3Byb2pZOm51bWJlcjtcblxuXHRwcml2YXRlIF9oaXRSZW5kZXJhYmxlOlJlbmRlcmFibGVCYXNlO1xuXHRwcml2YXRlIF9oaXRFbnRpdHk6SUVudGl0eTtcblx0cHJpdmF0ZSBfbG9jYWxIaXRQb3NpdGlvbjpWZWN0b3IzRCA9IG5ldyBWZWN0b3IzRCgpO1xuXHRwcml2YXRlIF9oaXRVVjpQb2ludCA9IG5ldyBQb2ludCgpO1xuXHRwcml2YXRlIF9mYWNlSW5kZXg6bnVtYmVyO1xuXHRwcml2YXRlIF9zdWJHZW9tZXRyeUluZGV4Om51bWJlcjtcblxuXHRwcml2YXRlIF9sb2NhbEhpdE5vcm1hbDpWZWN0b3IzRCA9IG5ldyBWZWN0b3IzRCgpO1xuXG5cdHByaXZhdGUgX3JheVBvczpWZWN0b3IzRCA9IG5ldyBWZWN0b3IzRCgpO1xuXHRwcml2YXRlIF9yYXlEaXI6VmVjdG9yM0QgPSBuZXcgVmVjdG9yM0QoKTtcblx0cHJpdmF0ZSBfcG90ZW50aWFsRm91bmQ6Ym9vbGVhbjtcblx0cHJpdmF0ZSBzdGF0aWMgTU9VU0VfU0NJU1NPUl9SRUNUOlJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cblx0cHJpdmF0ZSBfc2hhZGVyUGlja2luZ0RldGFpbHM6Ym9vbGVhbjtcblxuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdHB1YmxpYyBnZXQgb25seU1vdXNlRW5hYmxlZCgpOmJvb2xlYW5cblx0e1xuXHRcdHJldHVybiB0aGlzLl9vbmx5TW91c2VFbmFibGVkO1xuXHR9XG5cblx0cHVibGljIHNldCBvbmx5TW91c2VFbmFibGVkKHZhbHVlOmJvb2xlYW4pXG5cdHtcblx0XHR0aGlzLl9vbmx5TW91c2VFbmFibGVkID0gdmFsdWU7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyA8Y29kZT5TaGFkZXJQaWNrZXI8L2NvZGU+IG9iamVjdC5cblx0ICpcblx0ICogQHBhcmFtIHNoYWRlclBpY2tpbmdEZXRhaWxzIERldGVybWluZXMgd2hldGhlciB0aGUgcGlja2VyIGluY2x1ZGVzIGEgc2Vjb25kIHBhc3MgdG8gY2FsY3VsYXRlIGV4dHJhXG5cdCAqIHByb3BlcnRpZXMgc3VjaCBhcyB1diBhbmQgbm9ybWFsIGNvb3JkaW5hdGVzLlxuXHQgKi9cblx0Y29uc3RydWN0b3Ioc2hhZGVyUGlja2luZ0RldGFpbHM6Ym9vbGVhbiA9IGZhbHNlKVxuXHR7XG5cdFx0dGhpcy5fc2hhZGVyUGlja2luZ0RldGFpbHMgPSBzaGFkZXJQaWNraW5nRGV0YWlscztcblxuXHRcdHRoaXMuX2lkID0gbmV3IEFycmF5PG51bWJlcj4oNCk7XG5cdFx0dGhpcy5fdmlld3BvcnREYXRhID0gbmV3IEFycmF5PG51bWJlcj4oNCk7IC8vIGZpcnN0IDIgY29udGFpbiBzY2FsZSwgbGFzdCAyIHRyYW5zbGF0aW9uXG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZSA9IG5ldyBBcnJheTxudW1iZXI+KDgpOyAvLyBmaXJzdCAyIGNvbnRhaW4gc2NhbGUsIGxhc3QgMiB0cmFuc2xhdGlvblxuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGVbM10gPSAwO1xuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGVbN10gPSAxO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRwdWJsaWMgZ2V0Vmlld0NvbGxpc2lvbih4Om51bWJlciwgeTpudW1iZXIsIHZpZXc6Vmlldyk6UGlja2luZ0NvbGxpc2lvblZPXG5cdHtcblx0XHR2YXIgY29sbGVjdG9yOkVudGl0eUNvbGxlY3RvciA9IDxFbnRpdHlDb2xsZWN0b3I+IHZpZXcuaUVudGl0eUNvbGxlY3RvcjtcblxuXHRcdHRoaXMuX3N0YWdlID0gKDxEZWZhdWx0UmVuZGVyZXI+IHZpZXcucmVuZGVyZXIpLnN0YWdlO1xuXG5cdFx0aWYgKCF0aGlzLl9zdGFnZSlcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0dGhpcy5fY29udGV4dCA9IDxJQ29udGV4dFN0YWdlR0w+IHRoaXMuX3N0YWdlLmNvbnRleHQ7XG5cblx0XHR0aGlzLl92aWV3cG9ydERhdGFbMF0gPSB2aWV3LndpZHRoO1xuXHRcdHRoaXMuX3ZpZXdwb3J0RGF0YVsxXSA9IHZpZXcuaGVpZ2h0O1xuXHRcdHRoaXMuX3ZpZXdwb3J0RGF0YVsyXSA9IC0odGhpcy5fcHJvalggPSAyKngvdmlldy53aWR0aCAtIDEpO1xuXHRcdHRoaXMuX3ZpZXdwb3J0RGF0YVszXSA9IHRoaXMuX3Byb2pZID0gMip5L3ZpZXcuaGVpZ2h0IC0gMTtcblxuXHRcdC8vIF9wb3RlbnRpYWxGb3VuZCB3aWxsIGJlIHNldCB0byB0cnVlIGlmIGFueSBvYmplY3QgaXMgYWN0dWFsbHkgcmVuZGVyZWRcblx0XHR0aGlzLl9wb3RlbnRpYWxGb3VuZCA9IGZhbHNlO1xuXG5cdFx0Ly9yZXNldCBoZWFkIHZhbHVlc1xuXHRcdHRoaXMuX2JsZW5kZWRSZW5kZXJhYmxlSGVhZCA9IG51bGw7XG5cdFx0dGhpcy5fb3BhcXVlUmVuZGVyYWJsZUhlYWQgPSBudWxsO1xuXG5cdFx0dGhpcy5wRHJhdyhjb2xsZWN0b3IsIG51bGwpO1xuXG5cdFx0Ly8gY2xlYXIgYnVmZmVyc1xuXHRcdHRoaXMuX2NvbnRleHQuc2V0VmVydGV4QnVmZmVyQXQoMCwgbnVsbCk7XG5cblx0XHRpZiAoIXRoaXMuX2NvbnRleHQgfHwgIXRoaXMuX3BvdGVudGlhbEZvdW5kKVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRpZiAoIXRoaXMuX2JpdG1hcERhdGEpXG5cdFx0XHR0aGlzLl9iaXRtYXBEYXRhID0gbmV3IEJpdG1hcERhdGEoMSwgMSwgZmFsc2UsIDApO1xuXG5cdFx0dGhpcy5fY29udGV4dC5kcmF3VG9CaXRtYXBEYXRhKHRoaXMuX2JpdG1hcERhdGEpO1xuXHRcdHRoaXMuX2hpdENvbG9yID0gdGhpcy5fYml0bWFwRGF0YS5nZXRQaXhlbCgwLCAwKTtcblxuXHRcdGlmICghdGhpcy5faGl0Q29sb3IpIHtcblx0XHRcdHRoaXMuX2NvbnRleHQucHJlc2VudCgpO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0dGhpcy5faGl0UmVuZGVyYWJsZSA9IHRoaXMuX2ludGVyYWN0aXZlc1t0aGlzLl9oaXRDb2xvciAtIDFdO1xuXHRcdHRoaXMuX2hpdEVudGl0eSA9IHRoaXMuX2hpdFJlbmRlcmFibGUuc291cmNlRW50aXR5O1xuXG5cdFx0aWYgKHRoaXMuX29ubHlNb3VzZUVuYWJsZWQgJiYgIXRoaXMuX2hpdEVudGl0eS5faUlzTW91c2VFbmFibGVkKCkpXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdHZhciBfY29sbGlzaW9uVk86UGlja2luZ0NvbGxpc2lvblZPID0gdGhpcy5faGl0RW50aXR5Ll9pUGlja2luZ0NvbGxpc2lvblZPO1xuXHRcdGlmICh0aGlzLl9zaGFkZXJQaWNraW5nRGV0YWlscykge1xuXHRcdFx0dGhpcy5nZXRIaXREZXRhaWxzKHZpZXcuY2FtZXJhKTtcblx0XHRcdF9jb2xsaXNpb25WTy5sb2NhbFBvc2l0aW9uID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbjtcblx0XHRcdF9jb2xsaXNpb25WTy5sb2NhbE5vcm1hbCA9IHRoaXMuX2xvY2FsSGl0Tm9ybWFsO1xuXHRcdFx0X2NvbGxpc2lvblZPLnV2ID0gdGhpcy5faGl0VVY7XG5cdFx0XHRfY29sbGlzaW9uVk8uaW5kZXggPSB0aGlzLl9mYWNlSW5kZXg7XG5cdFx0XHQvL19jb2xsaXNpb25WTy5zdWJHZW9tZXRyeUluZGV4ID0gdGhpcy5fc3ViR2VvbWV0cnlJbmRleDtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRfY29sbGlzaW9uVk8ubG9jYWxQb3NpdGlvbiA9IG51bGw7XG5cdFx0XHRfY29sbGlzaW9uVk8ubG9jYWxOb3JtYWwgPSBudWxsO1xuXHRcdFx0X2NvbGxpc2lvblZPLnV2ID0gbnVsbDtcblx0XHRcdF9jb2xsaXNpb25WTy5pbmRleCA9IDA7XG5cdFx0XHQvL19jb2xsaXNpb25WTy5zdWJHZW9tZXRyeUluZGV4ID0gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gX2NvbGxpc2lvblZPO1xuXHR9XG5cblx0Ly8qL1xuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdHB1YmxpYyBnZXRTY2VuZUNvbGxpc2lvbihwb3NpdGlvbjpWZWN0b3IzRCwgZGlyZWN0aW9uOlZlY3RvcjNELCBzY2VuZTpTY2VuZSk6UGlja2luZ0NvbGxpc2lvblZPXG5cdHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0cHVibGljIHBEcmF3KGVudGl0eUNvbGxlY3RvcjpFbnRpdHlDb2xsZWN0b3IsIHRhcmdldDpJVGV4dHVyZUJhc2UpXG5cdHtcblxuXHRcdHZhciBjYW1lcmE6Q2FtZXJhID0gZW50aXR5Q29sbGVjdG9yLmNhbWVyYTtcblxuXHRcdHRoaXMuX2NvbnRleHQuY2xlYXIoMCwgMCwgMCwgMSk7XG5cdFx0dGhpcy5fc3RhZ2Uuc2Npc3NvclJlY3QgPSBTaGFkZXJQaWNrZXIuTU9VU0VfU0NJU1NPUl9SRUNUO1xuXG5cdFx0dGhpcy5faW50ZXJhY3RpdmVzLmxlbmd0aCA9IHRoaXMuX2ludGVyYWN0aXZlSWQgPSAwO1xuXG5cdFx0aWYgKCF0aGlzLl9vYmplY3RQcm9ncmFtKVxuXHRcdFx0dGhpcy5pbml0T2JqZWN0UHJvZ3JhbSgpO1xuXG5cdFx0dGhpcy5fY29udGV4dC5zZXRCbGVuZEZhY3RvcnMoQ29udGV4dEdMQmxlbmRGYWN0b3IuT05FLCBDb250ZXh0R0xCbGVuZEZhY3Rvci5aRVJPKTtcblx0XHR0aGlzLl9jb250ZXh0LnNldERlcHRoVGVzdCh0cnVlLCBDb250ZXh0R0xDb21wYXJlTW9kZS5MRVNTKTtcblx0XHR0aGlzLl9jb250ZXh0LnNldFByb2dyYW0odGhpcy5fb2JqZWN0UHJvZ3JhbSk7XG5cdFx0dGhpcy5fY29udGV4dC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbUFycmF5KENvbnRleHRHTFByb2dyYW1UeXBlLlZFUlRFWCwgNCwgdGhpcy5fdmlld3BvcnREYXRhLCAxKTtcblx0XHQvL3RoaXMuZHJhd1JlbmRlcmFibGVzKGVudGl0eUNvbGxlY3Rvci5vcGFxdWVSZW5kZXJhYmxlSGVhZCwgY2FtZXJhKTtcblx0XHQvL3RoaXMuZHJhd1JlbmRlcmFibGVzKGVudGl0eUNvbGxlY3Rvci5ibGVuZGVkUmVuZGVyYWJsZUhlYWQsIGNhbWVyYSk7XG5cdFx0Ly9UT0RPOiByZWltcGxlbWVudCBTaGFkZXJQaWNrZXIgaW5oZXJpdGluZyBmcm9tIFJlbmRlcmVyQmFzZVxuXHR9XG5cblx0LyoqXG5cdCAqIERyYXcgYSBsaXN0IG9mIHJlbmRlcmFibGVzLlxuXHQgKiBAcGFyYW0gcmVuZGVyYWJsZXMgVGhlIHJlbmRlcmFibGVzIHRvIGRyYXcuXG5cdCAqIEBwYXJhbSBjYW1lcmEgVGhlIGNhbWVyYSBmb3Igd2hpY2ggdG8gcmVuZGVyLlxuXHQgKi9cblx0cHJpdmF0ZSBkcmF3UmVuZGVyYWJsZXMocmVuZGVyYWJsZTpSZW5kZXJhYmxlQmFzZSwgY2FtZXJhOkNhbWVyYSlcblx0e1xuXHRcdHZhciBtYXRyaXg6TWF0cml4M0QgPSBNYXRyaXgzRFV0aWxzLkNBTENVTEFUSU9OX01BVFJJWDtcblx0XHR2YXIgdmlld1Byb2plY3Rpb246TWF0cml4M0QgPSBjYW1lcmEudmlld1Byb2plY3Rpb247XG5cblx0XHR3aGlsZSAocmVuZGVyYWJsZSkge1xuXHRcdFx0Ly8gaXQncyBwb3NzaWJsZSB0aGF0IHRoZSByZW5kZXJhYmxlIHdhcyBhbHJlYWR5IHJlbW92ZWQgZnJvbSB0aGUgc2NlbmVcblx0XHRcdGlmICghcmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuc2NlbmUgfHwgIXJlbmRlcmFibGUuc291cmNlRW50aXR5Ll9pSXNNb3VzZUVuYWJsZWQoKSkge1xuXHRcdFx0XHRyZW5kZXJhYmxlID0gcmVuZGVyYWJsZS5uZXh0O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fcG90ZW50aWFsRm91bmQgPSB0cnVlO1xuXG5cdFx0XHR0aGlzLl9jb250ZXh0LnNldEN1bGxpbmcoKDxNYXRlcmlhbEJhc2U+IHJlbmRlcmFibGUubWF0ZXJpYWxPd25lci5tYXRlcmlhbCkuYm90aFNpZGVzPyBDb250ZXh0R0xUcmlhbmdsZUZhY2UuTk9ORSA6IENvbnRleHRHTFRyaWFuZ2xlRmFjZS5CQUNLLCBjYW1lcmEucHJvamVjdGlvbi5jb29yZGluYXRlU3lzdGVtKTtcblxuXHRcdFx0dGhpcy5faW50ZXJhY3RpdmVzW3RoaXMuX2ludGVyYWN0aXZlSWQrK10gPSByZW5kZXJhYmxlO1xuXHRcdFx0Ly8gY29sb3IgY29kZSBzbyB0aGF0IHJlYWRpbmcgZnJvbSBiaXRtYXBkYXRhIHdpbGwgY29udGFpbiB0aGUgY29ycmVjdCB2YWx1ZVxuXHRcdFx0dGhpcy5faWRbMV0gPSAodGhpcy5faW50ZXJhY3RpdmVJZCA+PiA4KS8yNTU7IC8vIG9uIGdyZWVuIGNoYW5uZWxcblx0XHRcdHRoaXMuX2lkWzJdID0gKHRoaXMuX2ludGVyYWN0aXZlSWQgJiAweGZmKS8yNTU7IC8vIG9uIGJsdWUgY2hhbm5lbFxuXG5cdFx0XHRtYXRyaXguY29weUZyb20ocmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuZ2V0UmVuZGVyU2NlbmVUcmFuc2Zvcm0oY2FtZXJhKSk7XG5cdFx0XHRtYXRyaXguYXBwZW5kKHZpZXdQcm9qZWN0aW9uKTtcblx0XHRcdHRoaXMuX2NvbnRleHQuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21NYXRyaXgoQ29udGV4dEdMUHJvZ3JhbVR5cGUuVkVSVEVYLCAwLCBtYXRyaXgsIHRydWUpO1xuXHRcdFx0dGhpcy5fY29udGV4dC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbUFycmF5KENvbnRleHRHTFByb2dyYW1UeXBlLkZSQUdNRU5ULCAwLCB0aGlzLl9pZCwgMSk7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmFjdGl2YXRlQnVmZmVyKDAsIHJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0RBVEEpLCByZW5kZXJhYmxlLmdldFZlcnRleE9mZnNldChUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0RBVEEpLCBUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0ZPUk1BVCk7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmRyYXdUcmlhbmdsZXModGhpcy5fY29udGV4dC5nZXRJbmRleEJ1ZmZlcihyZW5kZXJhYmxlLmdldEluZGV4RGF0YSgpKSwgMCwgcmVuZGVyYWJsZS5udW1UcmlhbmdsZXMpO1xuXG5cdFx0XHRyZW5kZXJhYmxlID0gcmVuZGVyYWJsZS5uZXh0O1xuXHRcdH1cblxuXHR9XG5cblx0cHJpdmF0ZSB1cGRhdGVSYXkoY2FtZXJhOkNhbWVyYSlcblx0e1xuXHRcdHRoaXMuX3JheVBvcyA9IGNhbWVyYS5zY2VuZVBvc2l0aW9uO1xuXG5cdFx0dGhpcy5fcmF5RGlyID0gY2FtZXJhLmdldFJheSh0aGlzLl9wcm9qWCwgdGhpcy5fcHJvalksIDEpO1xuXHRcdHRoaXMuX3JheURpci5ub3JtYWxpemUoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBQcm9ncmFtIHRoYXQgY29sb3ItY29kZXMgb2JqZWN0cy5cblx0ICovXG5cdHByaXZhdGUgaW5pdE9iamVjdFByb2dyYW0oKVxuXHR7XG5cdFx0dmFyIHZlcnRleENvZGU6c3RyaW5nO1xuXHRcdHZhciBmcmFnbWVudENvZGU6c3RyaW5nO1xuXG5cdFx0dGhpcy5fb2JqZWN0UHJvZ3JhbSA9IHRoaXMuX2NvbnRleHQuY3JlYXRlUHJvZ3JhbSgpO1xuXG5cdFx0dmVydGV4Q29kZSA9IFwibTQ0IHZ0MCwgdmEwLCB2YzBcdFx0XHRcXG5cIiArIFwibXVsIHZ0MS54eSwgdnQwLncsIHZjNC56d1x0XFxuXCIgKyBcImFkZCB2dDAueHksIHZ0MC54eSwgdnQxLnh5XHRcXG5cIiArIFwibXVsIHZ0MC54eSwgdnQwLnh5LCB2YzQueHlcdFxcblwiICsgXCJtb3Ygb3AsIHZ0MFx0XFxuXCI7XG5cdFx0ZnJhZ21lbnRDb2RlID0gXCJtb3Ygb2MsIGZjMFwiOyAvLyB3cml0ZSBpZGVudGlmaWVyXG5cblx0XHREZWJ1Zy50aHJvd1BJUignU2hhZGVyUGlja2VyJywgJ2luaXRUcmlhbmdsZVByb2dyYW0nLCAnRGVwZW5kZW5jeTogaW5pdE9iamVjdFByb2dyYW0nKVxuXHRcdC8vX29iamVjdFByb2dyYW0udXBsb2FkKG5ldyBBR0FMTWluaUFzc2VtYmxlcigpLmFzc2VtYmxlKENvbnRleHRHTFByb2dyYW1UeXBlLlZFUlRFWCwgdmVydGV4Q29kZSksbmV3IEFHQUxNaW5pQXNzZW1ibGVyKCkuYXNzZW1ibGUoQ29udGV4dEdMUHJvZ3JhbVR5cGUuRlJBR01FTlQsIGZyYWdtZW50Q29kZSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIFByb2dyYW0gdGhhdCByZW5kZXJzIHBvc2l0aW9ucy5cblx0ICovXG5cblx0cHJpdmF0ZSBpbml0VHJpYW5nbGVQcm9ncmFtKClcblx0e1xuXHRcdHZhciB2ZXJ0ZXhDb2RlOnN0cmluZztcblx0XHR2YXIgZnJhZ21lbnRDb2RlOnN0cmluZztcblxuXHRcdHRoaXMuX3RyaWFuZ2xlUHJvZ3JhbSA9IHRoaXMuX2NvbnRleHQuY3JlYXRlUHJvZ3JhbSgpO1xuXG5cdFx0Ly8gdG9kbzogYWRkIGFuaW1hdGlvbiBjb2RlXG5cdFx0dmVydGV4Q29kZSA9IFwiYWRkIHZ0MCwgdmEwLCB2YzUgXHRcdFx0XFxuXCIgKyBcIm11bCB2dDAsIHZ0MCwgdmM2IFx0XHRcdFxcblwiICsgXCJtb3YgdjAsIHZ0MFx0XHRcdFx0XFxuXCIgKyBcIm00NCB2dDAsIHZhMCwgdmMwXHRcdFx0XFxuXCIgKyBcIm11bCB2dDEueHksIHZ0MC53LCB2YzQuendcdFxcblwiICsgXCJhZGQgdnQwLnh5LCB2dDAueHksIHZ0MS54eVx0XFxuXCIgKyBcIm11bCB2dDAueHksIHZ0MC54eSwgdmM0Lnh5XHRcXG5cIiArIFwibW92IG9wLCB2dDBcdFxcblwiO1xuXHRcdGZyYWdtZW50Q29kZSA9IFwibW92IG9jLCB2MFwiOyAvLyB3cml0ZSBpZGVudGlmaWVyXG5cblx0XHR2YXIgdmVydGV4Qnl0ZUNvZGU6Qnl0ZUFycmF5ID0gKG5ldyBBR0FMTWluaUFzc2VtYmxlcigpLmFzc2VtYmxlKFwicGFydCB2ZXJ0ZXggMVxcblwiICsgdmVydGV4Q29kZSArIFwiZW5kcGFydFwiKSlbJ3ZlcnRleCddLmRhdGE7XG5cdFx0dmFyIGZyYWdtZW50Qnl0ZUNvZGU6Qnl0ZUFycmF5ID0gKG5ldyBBR0FMTWluaUFzc2VtYmxlcigpLmFzc2VtYmxlKFwicGFydCBmcmFnbWVudCAxXFxuXCIgKyBmcmFnbWVudENvZGUgKyBcImVuZHBhcnRcIikpWydmcmFnbWVudCddLmRhdGE7XG5cdFx0dGhpcy5fdHJpYW5nbGVQcm9ncmFtLnVwbG9hZCh2ZXJ0ZXhCeXRlQ29kZSwgZnJhZ21lbnRCeXRlQ29kZSk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoaXIgcG9zaXRpb24sIGlmIHJlcXVpcmVkLlxuXHQgKiBAcGFyYW0gY2FtZXJhIFRoZSBjYW1lcmEgdXNlZCB0byB2aWV3IHRoZSBoaXQgb2JqZWN0LlxuXHQgKi9cblx0cHJpdmF0ZSBnZXRIaXREZXRhaWxzKGNhbWVyYTpDYW1lcmEpXG5cdHtcblx0XHR0aGlzLmdldEFwcHJveGltYXRlUG9zaXRpb24oY2FtZXJhKTtcblx0XHR0aGlzLmdldFByZWNpc2VEZXRhaWxzKGNhbWVyYSk7XG5cdH1cblxuXHQvKipcblx0ICogRmluZHMgYSBmaXJzdC1ndWVzcyBhcHByb3hpbWF0ZSBwb3NpdGlvbiBhYm91dCB0aGUgaGl0IHBvc2l0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0gY2FtZXJhIFRoZSBjYW1lcmEgdXNlZCB0byB2aWV3IHRoZSBoaXQgb2JqZWN0LlxuXHQgKi9cblx0cHJpdmF0ZSBnZXRBcHByb3hpbWF0ZVBvc2l0aW9uKGNhbWVyYTpDYW1lcmEpXG5cdHtcblx0XHR2YXIgYm91bmRzOkJveCA9IHRoaXMuX2hpdFJlbmRlcmFibGUuc291cmNlRW50aXR5LmJvdW5kcy5hYWJiO1xuXHRcdHZhciBjb2w6bnVtYmVyO1xuXHRcdHZhciBzY1g6bnVtYmVyLCBzY1k6bnVtYmVyLCBzY1o6bnVtYmVyO1xuXHRcdHZhciBvZmZzWDpudW1iZXIsIG9mZnNZOm51bWJlciwgb2Zmc1o6bnVtYmVyO1xuXHRcdHZhciBsb2NhbFZpZXdQcm9qZWN0aW9uOk1hdHJpeDNEID0gTWF0cml4M0RVdGlscy5DQUxDVUxBVElPTl9NQVRSSVg7XG5cblx0XHRsb2NhbFZpZXdQcm9qZWN0aW9uLmNvcHlGcm9tKHRoaXMuX2hpdFJlbmRlcmFibGUuc291cmNlRW50aXR5LmdldFJlbmRlclNjZW5lVHJhbnNmb3JtKGNhbWVyYSkpO1xuXHRcdGxvY2FsVmlld1Byb2plY3Rpb24uYXBwZW5kKGNhbWVyYS52aWV3UHJvamVjdGlvbik7XG5cdFx0aWYgKCF0aGlzLl90cmlhbmdsZVByb2dyYW0pIHtcblx0XHRcdHRoaXMuaW5pdFRyaWFuZ2xlUHJvZ3JhbSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGVbNF0gPSAxLyhzY1ggPSBib3VuZHMud2lkdGgpO1xuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGVbNV0gPSAxLyhzY1kgPSBib3VuZHMuaGVpZ2h0KTtcblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlWzZdID0gMS8oc2NaID0gYm91bmRzLmRlcHRoKTtcblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlWzBdID0gb2Zmc1ggPSAtYm91bmRzLng7XG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZVsxXSA9IG9mZnNZID0gLWJvdW5kcy55O1xuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGVbMl0gPSBvZmZzWiA9IC1ib3VuZHMuejtcblxuXHRcdHRoaXMuX2NvbnRleHQuc2V0UHJvZ3JhbSh0aGlzLl90cmlhbmdsZVByb2dyYW0pO1xuXHRcdHRoaXMuX2NvbnRleHQuY2xlYXIoMCwgMCwgMCwgMCwgMSwgMCwgQ29udGV4dEdMQ2xlYXJNYXNrLkRFUFRIKTtcblx0XHR0aGlzLl9jb250ZXh0LnNldFNjaXNzb3JSZWN0YW5nbGUoU2hhZGVyUGlja2VyLk1PVVNFX1NDSVNTT1JfUkVDVCk7XG5cdFx0dGhpcy5fY29udGV4dC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbU1hdHJpeChDb250ZXh0R0xQcm9ncmFtVHlwZS5WRVJURVgsIDAsIGxvY2FsVmlld1Byb2plY3Rpb24sIHRydWUpO1xuXHRcdHRoaXMuX2NvbnRleHQuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21BcnJheShDb250ZXh0R0xQcm9ncmFtVHlwZS5WRVJURVgsIDUsIHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGUsIDIpO1xuXG5cdFx0dGhpcy5fY29udGV4dC5hY3RpdmF0ZUJ1ZmZlcigwLCB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleERhdGEoVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9EQVRBKSwgdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhPZmZzZXQoVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9EQVRBKSwgVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9GT1JNQVQpO1xuXHRcdHRoaXMuX2NvbnRleHQuZHJhd1RyaWFuZ2xlcyh0aGlzLl9jb250ZXh0LmdldEluZGV4QnVmZmVyKHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0SW5kZXhEYXRhKCkpLCAwLCB0aGlzLl9oaXRSZW5kZXJhYmxlLm51bVRyaWFuZ2xlcyk7XG5cblx0XHR0aGlzLl9jb250ZXh0LmRyYXdUb0JpdG1hcERhdGEodGhpcy5fYml0bWFwRGF0YSk7XG5cblx0XHRjb2wgPSB0aGlzLl9iaXRtYXBEYXRhLmdldFBpeGVsKDAsIDApO1xuXG5cdFx0dGhpcy5fbG9jYWxIaXRQb3NpdGlvbi54ID0gKChjb2wgPj4gMTYpICYgMHhmZikqc2NYLzI1NSAtIG9mZnNYO1xuXHRcdHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueSA9ICgoY29sID4+IDgpICYgMHhmZikqc2NZLzI1NSAtIG9mZnNZO1xuXHRcdHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueiA9IChjb2wgJiAweGZmKSpzY1ovMjU1IC0gb2Zmc1o7XG5cdH1cblxuXHQvKipcblx0ICogVXNlIHRoZSBhcHByb3hpbWF0ZSBwb3NpdGlvbiBpbmZvIHRvIGZpbmQgdGhlIGZhY2UgdW5kZXIgdGhlIG1vdXNlIHBvc2l0aW9uIGZyb20gd2hpY2ggd2UgY2FuIGRlcml2ZSB0aGUgcHJlY2lzZVxuXHQgKiByYXktZmFjZSBpbnRlcnNlY3Rpb24gcG9pbnQsIHRoZW4gdXNlIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIHRvIGZpZ3VyZSBvdXQgdGhlIHV2IGNvb3JkaW5hdGVzLCBldGMuXG5cdCAqIEBwYXJhbSBjYW1lcmEgVGhlIGNhbWVyYSB1c2VkIHRvIHZpZXcgdGhlIGhpdCBvYmplY3QuXG5cdCAqL1xuXHRwcml2YXRlIGdldFByZWNpc2VEZXRhaWxzKGNhbWVyYTpDYW1lcmEpXG5cdHtcblx0XHR2YXIgbGVuOm51bWJlciA9IGluZGljZXMubGVuZ3RoO1xuXHRcdHZhciB4MTpudW1iZXIsIHkxOm51bWJlciwgejE6bnVtYmVyO1xuXHRcdHZhciB4MjpudW1iZXIsIHkyOm51bWJlciwgejI6bnVtYmVyO1xuXHRcdHZhciB4MzpudW1iZXIsIHkzOm51bWJlciwgejM6bnVtYmVyO1xuXHRcdHZhciBpOm51bWJlciA9IDAsIGo6bnVtYmVyID0gMSwgazpudW1iZXIgPSAyO1xuXHRcdHZhciB0MTpudW1iZXIsIHQyOm51bWJlciwgdDM6bnVtYmVyO1xuXHRcdHZhciB2MHg6bnVtYmVyLCB2MHk6bnVtYmVyLCB2MHo6bnVtYmVyO1xuXHRcdHZhciB2MXg6bnVtYmVyLCB2MXk6bnVtYmVyLCB2MXo6bnVtYmVyO1xuXHRcdHZhciB2Mng6bnVtYmVyLCB2Mnk6bnVtYmVyLCB2Mno6bnVtYmVyO1xuXHRcdHZhciBuaTE6bnVtYmVyLCBuaTI6bnVtYmVyLCBuaTM6bnVtYmVyO1xuXHRcdHZhciBuMTpudW1iZXIsIG4yOm51bWJlciwgbjM6bnVtYmVyLCBuTGVuZ3RoOm51bWJlcjtcblx0XHR2YXIgZG90MDA6bnVtYmVyLCBkb3QwMTpudW1iZXIsIGRvdDAyOm51bWJlciwgZG90MTE6bnVtYmVyLCBkb3QxMjpudW1iZXI7XG5cdFx0dmFyIHM6bnVtYmVyLCB0Om51bWJlciwgaW52RGVub206bnVtYmVyO1xuXHRcdHZhciB4Om51bWJlciA9IHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueCwgeTpudW1iZXIgPSB0aGlzLl9sb2NhbEhpdFBvc2l0aW9uLnksIHo6bnVtYmVyID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi56O1xuXHRcdHZhciB1Om51bWJlciwgdjpudW1iZXI7XG5cdFx0dmFyIHVpMTpudW1iZXIsIHVpMjpudW1iZXIsIHVpMzpudW1iZXI7XG5cdFx0dmFyIHMweDpudW1iZXIsIHMweTpudW1iZXIsIHMwejpudW1iZXI7XG5cdFx0dmFyIHMxeDpudW1iZXIsIHMxeTpudW1iZXIsIHMxejpudW1iZXI7XG5cdFx0dmFyIG5sOm51bWJlcjtcblx0XHR2YXIgaW5kaWNlczpBcnJheTxudW1iZXI+ID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRJbmRleERhdGEoKS5kYXRhO1xuXG5cdFx0dmFyIHBvc2l0aW9uczpBcnJheTxudW1iZXI+ID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuUE9TSVRJT05fREFUQSkuZGF0YTtcblx0XHR2YXIgcG9zaXRpb25TdHJpZGU6bnVtYmVyID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuUE9TSVRJT05fREFUQSkuZGF0YVBlclZlcnRleDtcblx0XHR2YXIgcG9zaXRpb25PZmZzZXQ6bnVtYmVyID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhPZmZzZXQoVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9EQVRBKTtcblxuXHRcdHZhciB1dnM6QXJyYXk8bnVtYmVyPiA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlVWX0RBVEEpLmRhdGE7XG5cdFx0dmFyIHV2U3RyaWRlOm51bWJlciA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlVWX0RBVEEpLmRhdGFQZXJWZXJ0ZXg7XG5cdFx0dmFyIHV2T2Zmc2V0Om51bWJlciA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4T2Zmc2V0KFRyaWFuZ2xlU3ViR2VvbWV0cnkuVVZfREFUQSk7XG5cblx0XHR2YXIgbm9ybWFsczpBcnJheTxudW1iZXI+ID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuTk9STUFMX0RBVEEpLmRhdGE7XG5cdFx0dmFyIG5vcm1hbFN0cmlkZTpudW1iZXIgPSB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleERhdGEoVHJpYW5nbGVTdWJHZW9tZXRyeS5OT1JNQUxfREFUQSkuZGF0YVBlclZlcnRleDtcblx0XHR2YXIgbm9ybWFsT2Zmc2V0Om51bWJlciA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4T2Zmc2V0KFRyaWFuZ2xlU3ViR2VvbWV0cnkuTk9STUFMX0RBVEEpO1xuXG5cdFx0dGhpcy51cGRhdGVSYXkoY2FtZXJhKTtcblxuXHRcdHdoaWxlIChpIDwgbGVuKSB7XG5cdFx0XHR0MSA9IHBvc2l0aW9uT2Zmc2V0ICsgaW5kaWNlc1tpXSpwb3NpdGlvblN0cmlkZTtcblx0XHRcdHQyID0gcG9zaXRpb25PZmZzZXQgKyBpbmRpY2VzW2pdKnBvc2l0aW9uU3RyaWRlO1xuXHRcdFx0dDMgPSBwb3NpdGlvbk9mZnNldCArIGluZGljZXNba10qcG9zaXRpb25TdHJpZGU7XG5cdFx0XHR4MSA9IHBvc2l0aW9uc1t0MV07XG5cdFx0XHR5MSA9IHBvc2l0aW9uc1t0MSArIDFdO1xuXHRcdFx0ejEgPSBwb3NpdGlvbnNbdDEgKyAyXTtcblx0XHRcdHgyID0gcG9zaXRpb25zW3QyXTtcblx0XHRcdHkyID0gcG9zaXRpb25zW3QyICsgMV07XG5cdFx0XHR6MiA9IHBvc2l0aW9uc1t0MiArIDJdO1xuXHRcdFx0eDMgPSBwb3NpdGlvbnNbdDNdO1xuXHRcdFx0eTMgPSBwb3NpdGlvbnNbdDMgKyAxXTtcblx0XHRcdHozID0gcG9zaXRpb25zW3QzICsgMl07XG5cblx0XHRcdC8vIGlmIHdpdGhpbiBib3VuZHNcblx0XHRcdGlmICghKCAgICAoeCA8IHgxICYmIHggPCB4MiAmJiB4IDwgeDMpIHx8ICh5IDwgeTEgJiYgeSA8IHkyICYmIHkgPCB5MykgfHwgKHogPCB6MSAmJiB6IDwgejIgJiYgeiA8IHozKSB8fCAoeCA+IHgxICYmIHggPiB4MiAmJiB4ID4geDMpIHx8ICh5ID4geTEgJiYgeSA+IHkyICYmIHkgPiB5MykgfHwgKHogPiB6MSAmJiB6ID4gejIgJiYgeiA+IHozKSkpIHtcblxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgYmFyeWNlbnRyaWMgY29vcmRzIGZvciBhcHByb3hpbWF0ZWQgcG9zaXRpb25cblx0XHRcdFx0djB4ID0geDMgLSB4MTtcblx0XHRcdFx0djB5ID0geTMgLSB5MTtcblx0XHRcdFx0djB6ID0gejMgLSB6MTtcblx0XHRcdFx0djF4ID0geDIgLSB4MTtcblx0XHRcdFx0djF5ID0geTIgLSB5MTtcblx0XHRcdFx0djF6ID0gejIgLSB6MTtcblx0XHRcdFx0djJ4ID0geCAtIHgxO1xuXHRcdFx0XHR2MnkgPSB5IC0geTE7XG5cdFx0XHRcdHYyeiA9IHogLSB6MTtcblx0XHRcdFx0ZG90MDAgPSB2MHgqdjB4ICsgdjB5KnYweSArIHYweip2MHo7XG5cdFx0XHRcdGRvdDAxID0gdjB4KnYxeCArIHYweSp2MXkgKyB2MHoqdjF6O1xuXHRcdFx0XHRkb3QwMiA9IHYweCp2MnggKyB2MHkqdjJ5ICsgdjB6KnYyejtcblx0XHRcdFx0ZG90MTEgPSB2MXgqdjF4ICsgdjF5KnYxeSArIHYxeip2MXo7XG5cdFx0XHRcdGRvdDEyID0gdjF4KnYyeCArIHYxeSp2MnkgKyB2MXoqdjJ6O1xuXHRcdFx0XHRpbnZEZW5vbSA9IDEvKGRvdDAwKmRvdDExIC0gZG90MDEqZG90MDEpO1xuXHRcdFx0XHRzID0gKGRvdDExKmRvdDAyIC0gZG90MDEqZG90MTIpKmludkRlbm9tO1xuXHRcdFx0XHR0ID0gKGRvdDAwKmRvdDEyIC0gZG90MDEqZG90MDIpKmludkRlbm9tO1xuXG5cdFx0XHRcdC8vIGlmIGluc2lkZSB0aGUgY3VycmVudCB0cmlhbmdsZSwgZmV0Y2ggZGV0YWlscyBoaXQgaW5mb3JtYXRpb25cblx0XHRcdFx0aWYgKHMgPj0gMCAmJiB0ID49IDAgJiYgKHMgKyB0KSA8PSAxKSB7XG5cblx0XHRcdFx0XHRuaTEgPSBub3JtYWxPZmZzZXQgKyBpbmRpY2VzW2ldKm5vcm1hbFN0cmlkZTtcblx0XHRcdFx0XHRuaTIgPSBub3JtYWxPZmZzZXQgKyBpbmRpY2VzW2pdKm5vcm1hbFN0cmlkZTtcblx0XHRcdFx0XHRuaTMgPSBub3JtYWxPZmZzZXQgKyBpbmRpY2VzW2tdKm5vcm1hbFN0cmlkZTtcblxuXHRcdFx0XHRcdG4xID0gaW5kaWNlc1tuaTFdICsgaW5kaWNlc1tuaTJdICsgaW5kaWNlc1tuaTNdO1xuXHRcdFx0XHRcdG4yID0gaW5kaWNlc1tuaTEgKyAxXSArIGluZGljZXNbbmkyICsgMV0gKyBpbmRpY2VzW25pMyArIDFdO1xuXHRcdFx0XHRcdG4zID0gaW5kaWNlc1tuaTEgKyAyXSArIGluZGljZXNbbmkyICsgMl0gKyBpbmRpY2VzW25pMyArIDJdO1xuXG5cdFx0XHRcdFx0bkxlbmd0aCA9IE1hdGguc3FydChuMSpuMSArIG4yKm4yICsgbjMqbjMpO1xuXG5cdFx0XHRcdFx0bjEgLz0gbkxlbmd0aDtcblx0XHRcdFx0XHRuMiAvPSBuTGVuZ3RoO1xuXHRcdFx0XHRcdG4zIC89IG5MZW5ndGg7XG5cblx0XHRcdFx0XHQvLyB0aGlzIGlzIGRlZiB0aGUgdHJpYW5nbGUsIG5vdyBjYWxjdWxhdGUgcHJlY2lzZSBjb29yZHNcblx0XHRcdFx0XHR0aGlzLmdldFByZWNpc2VQb3NpdGlvbih0aGlzLl9oaXRSZW5kZXJhYmxlLnNvdXJjZUVudGl0eS5pbnZlcnNlU2NlbmVUcmFuc2Zvcm0sIG4xLCBuMiwgbjMsIHgxLCB5MSwgejEpO1xuXG5cdFx0XHRcdFx0djJ4ID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi54IC0geDE7XG5cdFx0XHRcdFx0djJ5ID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi55IC0geTE7XG5cdFx0XHRcdFx0djJ6ID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi56IC0gejE7XG5cblx0XHRcdFx0XHRzMHggPSB4MiAtIHgxOyAvLyBzMCA9IHAxIC0gcDBcblx0XHRcdFx0XHRzMHkgPSB5MiAtIHkxO1xuXHRcdFx0XHRcdHMweiA9IHoyIC0gejE7XG5cdFx0XHRcdFx0czF4ID0geDMgLSB4MTsgLy8gczEgPSBwMiAtIHAwXG5cdFx0XHRcdFx0czF5ID0geTMgLSB5MTtcblx0XHRcdFx0XHRzMXogPSB6MyAtIHoxO1xuXHRcdFx0XHRcdHRoaXMuX2xvY2FsSGl0Tm9ybWFsLnggPSBzMHkqczF6IC0gczB6KnMxeTsgLy8gbiA9IHMwIHggczFcblx0XHRcdFx0XHR0aGlzLl9sb2NhbEhpdE5vcm1hbC55ID0gczB6KnMxeCAtIHMweCpzMXo7XG5cdFx0XHRcdFx0dGhpcy5fbG9jYWxIaXROb3JtYWwueiA9IHMweCpzMXkgLSBzMHkqczF4O1xuXHRcdFx0XHRcdG5sID0gMS9NYXRoLnNxcnQodGhpcy5fbG9jYWxIaXROb3JtYWwueCp0aGlzLl9sb2NhbEhpdE5vcm1hbC54ICsgdGhpcy5fbG9jYWxIaXROb3JtYWwueSp0aGlzLl9sb2NhbEhpdE5vcm1hbC55ICsgdGhpcy5fbG9jYWxIaXROb3JtYWwueip0aGlzLl9sb2NhbEhpdE5vcm1hbC56KTsgLy8gbm9ybWFsaXplIG5cblx0XHRcdFx0XHR0aGlzLl9sb2NhbEhpdE5vcm1hbC54ICo9IG5sO1xuXHRcdFx0XHRcdHRoaXMuX2xvY2FsSGl0Tm9ybWFsLnkgKj0gbmw7XG5cdFx0XHRcdFx0dGhpcy5fbG9jYWxIaXROb3JtYWwueiAqPSBubDtcblxuXHRcdFx0XHRcdGRvdDAyID0gdjB4KnYyeCArIHYweSp2MnkgKyB2MHoqdjJ6O1xuXHRcdFx0XHRcdGRvdDEyID0gdjF4KnYyeCArIHYxeSp2MnkgKyB2MXoqdjJ6O1xuXHRcdFx0XHRcdHMgPSAoZG90MTEqZG90MDIgLSBkb3QwMSpkb3QxMikqaW52RGVub207XG5cdFx0XHRcdFx0dCA9IChkb3QwMCpkb3QxMiAtIGRvdDAxKmRvdDAyKSppbnZEZW5vbTtcblxuXHRcdFx0XHRcdHVpMSA9IHV2T2Zmc2V0ICsgaW5kaWNlc1tpXSp1dlN0cmlkZVxuXHRcdFx0XHRcdHVpMiA9IHV2T2Zmc2V0ICsgaW5kaWNlc1tqXSp1dlN0cmlkZVxuXHRcdFx0XHRcdHVpMyA9IHV2T2Zmc2V0ICsgaW5kaWNlc1trXSp1dlN0cmlkZVxuXG5cdFx0XHRcdFx0dSA9IHV2c1t1aTFdO1xuXHRcdFx0XHRcdHYgPSB1dnNbdWkxICsgMV07XG5cdFx0XHRcdFx0dGhpcy5faGl0VVYueCA9IHUgKyB0Kih1dnNbdWkyXSAtIHUpICsgcyoodXZzW3VpM10gLSB1KTtcblx0XHRcdFx0XHR0aGlzLl9oaXRVVi55ID0gdiArIHQqKHV2c1t1aTIgKyAxXSAtIHYpICsgcyoodXZzW3VpMyArIDFdIC0gdik7XG5cblx0XHRcdFx0XHR0aGlzLl9mYWNlSW5kZXggPSBpO1xuXHRcdFx0XHRcdC8vVE9ETyBhZGQgYmFjayBzdWJHZW9tZXRyeUluZGV4IHZhbHVlXG5cdFx0XHRcdFx0Ly90aGlzLl9zdWJHZW9tZXRyeUluZGV4ID0gYXdheS51dGlscy5HZW9tZXRyeVV0aWxzLmdldE1lc2hTdWJHZW9tZXRyeUluZGV4KHN1Ykdlb20pO1xuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGkgKz0gMztcblx0XHRcdGogKz0gMztcblx0XHRcdGsgKz0gMztcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRmluZHMgdGhlIHByZWNpc2UgaGl0IHBvc2l0aW9uIGJ5IHVucHJvamVjdGluZyB0aGUgc2NyZWVuIGNvb3JkaW5hdGUgYmFjayB1bnRvIHRoZSBoaXQgZmFjZSdzIHBsYW5lIGFuZFxuXHQgKiBjYWxjdWxhdGluZyB0aGUgaW50ZXJzZWN0aW9uIHBvaW50LlxuXHQgKiBAcGFyYW0gY2FtZXJhIFRoZSBjYW1lcmEgdXNlZCB0byByZW5kZXIgdGhlIG9iamVjdC5cblx0ICogQHBhcmFtIGludlNjZW5lVHJhbnNmb3JtIFRoZSBpbnZlcnNlIHNjZW5lIHRyYW5zZm9ybWF0aW9uIG9mIHRoZSBoaXQgb2JqZWN0LlxuXHQgKiBAcGFyYW0gbnggVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmFjZSdzIHBsYW5lIG5vcm1hbC5cblx0ICogQHBhcmFtIG55IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGZhY2UgcGxhbmUgbm9ybWFsLlxuXHQgKiBAcGFyYW0gbnogVGhlIHotY29vcmRpbmF0ZSBvZiB0aGUgZmFjZSBwbGFuZSBub3JtYWwuXG5cdCAqIEBwYXJhbSBweCBUaGUgeC1jb29yZGluYXRlIG9mIGEgcG9pbnQgb24gdGhlIGZhY2UncyBwbGFuZSAoaWUgYSBmYWNlIHZlcnRleClcblx0ICogQHBhcmFtIHB5IFRoZSB5LWNvb3JkaW5hdGUgb2YgYSBwb2ludCBvbiB0aGUgZmFjZSdzIHBsYW5lIChpZSBhIGZhY2UgdmVydGV4KVxuXHQgKiBAcGFyYW0gcHogVGhlIHotY29vcmRpbmF0ZSBvZiBhIHBvaW50IG9uIHRoZSBmYWNlJ3MgcGxhbmUgKGllIGEgZmFjZSB2ZXJ0ZXgpXG5cdCAqL1xuXG5cdHByaXZhdGUgZ2V0UHJlY2lzZVBvc2l0aW9uKGludlNjZW5lVHJhbnNmb3JtOk1hdHJpeDNELCBueDpudW1iZXIsIG55Om51bWJlciwgbno6bnVtYmVyLCBweDpudW1iZXIsIHB5Om51bWJlciwgcHo6bnVtYmVyKVxuXHR7XG5cdFx0Ly8gY2FsY3VsYXRlIHNjcmVlbiByYXkgYW5kIGZpbmQgZXhhY3QgaW50ZXJzZWN0aW9uIHBvc2l0aW9uIHdpdGggdHJpYW5nbGVcblx0XHR2YXIgcng6bnVtYmVyLCByeTpudW1iZXIsIHJ6Om51bWJlcjtcblx0XHR2YXIgb3g6bnVtYmVyLCBveTpudW1iZXIsIG96Om51bWJlcjtcblx0XHR2YXIgdDpudW1iZXI7XG5cdFx0dmFyIHJhdzpBcnJheTxudW1iZXI+ID0gTWF0cml4M0RVdGlscy5SQVdfREFUQV9DT05UQUlORVI7XG5cdFx0dmFyIGN4Om51bWJlciA9IHRoaXMuX3JheVBvcy54LCBjeTpudW1iZXIgPSB0aGlzLl9yYXlQb3MueSwgY3o6bnVtYmVyID0gdGhpcy5fcmF5UG9zLno7XG5cblx0XHQvLyB1bnByb2plY3RlZCBwcm9qZWN0aW9uIHBvaW50LCBnaXZlcyByYXkgZGlyIGluIGNhbSBzcGFjZVxuXHRcdG94ID0gdGhpcy5fcmF5RGlyLng7XG5cdFx0b3kgPSB0aGlzLl9yYXlEaXIueTtcblx0XHRveiA9IHRoaXMuX3JheURpci56O1xuXG5cdFx0Ly8gdHJhbnNmb3JtIHJheSBkaXIgYW5kIG9yaWdpbiAoY2FtIHBvcykgdG8gb2JqZWN0IHNwYWNlXG5cdFx0Ly9pbnZTY2VuZVRyYW5zZm9ybS5jb3B5UmF3RGF0YVRvKCByYXcgICk7XG5cdFx0aW52U2NlbmVUcmFuc2Zvcm0uY29weVJhd0RhdGFUbyhyYXcpO1xuXHRcdHJ4ID0gcmF3WzBdKm94ICsgcmF3WzRdKm95ICsgcmF3WzhdKm96O1xuXHRcdHJ5ID0gcmF3WzFdKm94ICsgcmF3WzVdKm95ICsgcmF3WzldKm96O1xuXHRcdHJ6ID0gcmF3WzJdKm94ICsgcmF3WzZdKm95ICsgcmF3WzEwXSpvejtcblxuXHRcdG94ID0gcmF3WzBdKmN4ICsgcmF3WzRdKmN5ICsgcmF3WzhdKmN6ICsgcmF3WzEyXTtcblx0XHRveSA9IHJhd1sxXSpjeCArIHJhd1s1XSpjeSArIHJhd1s5XSpjeiArIHJhd1sxM107XG5cdFx0b3ogPSByYXdbMl0qY3ggKyByYXdbNl0qY3kgKyByYXdbMTBdKmN6ICsgcmF3WzE0XTtcblxuXHRcdHQgPSAoKHB4IC0gb3gpKm54ICsgKHB5IC0gb3kpKm55ICsgKHB6IC0gb3opKm56KS8ocngqbnggKyByeSpueSArIHJ6Km56KTtcblxuXHRcdHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueCA9IG94ICsgcngqdDtcblx0XHR0aGlzLl9sb2NhbEhpdFBvc2l0aW9uLnkgPSBveSArIHJ5KnQ7XG5cdFx0dGhpcy5fbG9jYWxIaXRQb3NpdGlvbi56ID0gb3ogKyByeip0O1xuXHR9XG5cblx0cHVibGljIGRpc3Bvc2UoKVxuXHR7XG5cdFx0dGhpcy5fYml0bWFwRGF0YS5kaXNwb3NlKCk7XG5cdFx0aWYgKHRoaXMuX3RyaWFuZ2xlUHJvZ3JhbSlcblx0XHRcdHRoaXMuX3RyaWFuZ2xlUHJvZ3JhbS5kaXNwb3NlKCk7XG5cblx0XHRpZiAodGhpcy5fb2JqZWN0UHJvZ3JhbSlcblx0XHRcdHRoaXMuX29iamVjdFByb2dyYW0uZGlzcG9zZSgpO1xuXG5cdFx0dGhpcy5fdHJpYW5nbGVQcm9ncmFtID0gbnVsbDtcblx0XHR0aGlzLl9vYmplY3RQcm9ncmFtID0gbnVsbDtcblx0XHR0aGlzLl9iaXRtYXBEYXRhID0gbnVsbDtcblx0XHR0aGlzLl9oaXRSZW5kZXJhYmxlID0gbnVsbDtcblx0XHR0aGlzLl9oaXRFbnRpdHkgPSBudWxsO1xuXHR9XG59XG5cbmV4cG9ydCA9IFNoYWRlclBpY2tlcjsiXX0=