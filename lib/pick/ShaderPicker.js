var Debug = require("awayjs-core/lib/utils/Debug");
var BitmapData = require("awayjs-core/lib/base/BitmapData");
var Matrix3DUtils = require("awayjs-core/lib/geom/Matrix3DUtils");
var Point = require("awayjs-core/lib/geom/Point");
var Rectangle = require("awayjs-core/lib/geom/Rectangle");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var TriangleSubGeometry = require("awayjs-display/lib/base/TriangleSubGeometry");
var AGALMiniAssembler = require("awayjs-stagegl/lib/aglsl/assembler/AGALMiniAssembler");
var ContextGLBlendFactor = require("awayjs-stagegl/lib/base/ContextGLBlendFactor");
var ContextGLClearMask = require("awayjs-stagegl/lib/base/ContextGLClearMask");
var ContextGLCompareMode = require("awayjs-stagegl/lib/base/ContextGLCompareMode");
var ContextGLProgramType = require("awayjs-stagegl/lib/base/ContextGLProgramType");
var ContextGLTriangleFace = require("awayjs-stagegl/lib/base/ContextGLTriangleFace");
/**
 * Picks a 3d object from a view or scene by performing a separate render pass on the scene around the area being picked using key color values,
 * then reading back the color value of the pixel in the render representing the picking ray. Requires multiple passes and readbacks for retriving details
 * on an entity that has its shaderPickingDetails property set to true.
 *
 * A read-back operation from any GPU is not a very efficient process, and the amount of processing used can vary significantly between different hardware.
 *
 * @see away.entities.Entity#shaderPickingDetails
 *
 * @class away.pick.ShaderPicker
 */
var ShaderPicker = (function () {
    /**
     * Creates a new <code>ShaderPicker</code> object.
     *
     * @param shaderPickingDetails Determines whether the picker includes a second pass to calculate extra
     * properties such as uv and normal coordinates.
     */
    function ShaderPicker(shaderPickingDetails) {
        if (shaderPickingDetails === void 0) { shaderPickingDetails = false; }
        this._onlyMouseEnabled = true;
        this._interactives = new Array();
        this._localHitPosition = new Vector3D();
        this._hitUV = new Point();
        this._localHitNormal = new Vector3D();
        this._rayPos = new Vector3D();
        this._rayDir = new Vector3D();
        this._shaderPickingDetails = shaderPickingDetails;
        this._id = new Array(4);
        this._viewportData = new Array(4); // first 2 contain scale, last 2 translation
        this._boundOffsetScale = new Array(8); // first 2 contain scale, last 2 translation
        this._boundOffsetScale[3] = 0;
        this._boundOffsetScale[7] = 1;
    }
    Object.defineProperty(ShaderPicker.prototype, "onlyMouseEnabled", {
        /**
         * @inheritDoc
         */
        get: function () {
            return this._onlyMouseEnabled;
        },
        set: function (value) {
            this._onlyMouseEnabled = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.getViewCollision = function (x, y, view) {
        var collector = view.iEntityCollector;
        this._stage = view.renderer.stage;
        if (!this._stage)
            return null;
        this._context = this._stage.context;
        this._viewportData[0] = view.width;
        this._viewportData[1] = view.height;
        this._viewportData[2] = -(this._projX = 2 * x / view.width - 1);
        this._viewportData[3] = this._projY = 2 * y / view.height - 1;
        // _potentialFound will be set to true if any object is actually rendered
        this._potentialFound = false;
        //reset head values
        this._blendedRenderableHead = null;
        this._opaqueRenderableHead = null;
        this.pDraw(collector, null);
        // clear buffers
        this._context.setVertexBufferAt(0, null);
        if (!this._context || !this._potentialFound)
            return null;
        if (!this._bitmapData)
            this._bitmapData = new BitmapData(1, 1, false, 0);
        this._context.drawToBitmapData(this._bitmapData);
        this._hitColor = this._bitmapData.getPixel(0, 0);
        if (!this._hitColor) {
            this._context.present();
            return null;
        }
        this._hitRenderable = this._interactives[this._hitColor - 1];
        this._hitEntity = this._hitRenderable.sourceEntity;
        if (this._onlyMouseEnabled && !this._hitEntity._iIsMouseEnabled())
            return null;
        var _collisionVO = this._hitEntity._iPickingCollisionVO;
        if (this._shaderPickingDetails) {
            this.getHitDetails(view.camera);
            _collisionVO.localPosition = this._localHitPosition;
            _collisionVO.localNormal = this._localHitNormal;
            _collisionVO.uv = this._hitUV;
            _collisionVO.index = this._faceIndex;
        }
        else {
            _collisionVO.localPosition = null;
            _collisionVO.localNormal = null;
            _collisionVO.uv = null;
            _collisionVO.index = 0;
        }
        return _collisionVO;
    };
    //*/
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.getSceneCollision = function (position, direction, scene) {
        return null;
    };
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.pDraw = function (entityCollector, target) {
        var camera = entityCollector.camera;
        this._context.clear(0, 0, 0, 1);
        this._stage.scissorRect = ShaderPicker.MOUSE_SCISSOR_RECT;
        this._interactives.length = this._interactiveId = 0;
        if (!this._objectProgram)
            this.initObjectProgram();
        this._context.setBlendFactors(ContextGLBlendFactor.ONE, ContextGLBlendFactor.ZERO);
        this._context.setDepthTest(true, ContextGLCompareMode.LESS);
        this._context.setProgram(this._objectProgram);
        this._context.setProgramConstantsFromArray(ContextGLProgramType.VERTEX, 4, this._viewportData, 1);
        //this.drawRenderables(entityCollector.opaqueRenderableHead, camera);
        //this.drawRenderables(entityCollector.blendedRenderableHead, camera);
        //TODO: reimplement ShaderPicker inheriting from RendererBase
    };
    /**
     * Draw a list of renderables.
     * @param renderables The renderables to draw.
     * @param camera The camera for which to render.
     */
    ShaderPicker.prototype.drawRenderables = function (renderable, camera) {
        var matrix = Matrix3DUtils.CALCULATION_MATRIX;
        var viewProjection = camera.viewProjection;
        while (renderable) {
            // it's possible that the renderable was already removed from the scene
            if (!renderable.sourceEntity.scene || !renderable.sourceEntity._iIsMouseEnabled()) {
                renderable = renderable.next;
                continue;
            }
            this._potentialFound = true;
            this._context.setCulling(renderable.materialOwner.material.bothSides ? ContextGLTriangleFace.NONE : ContextGLTriangleFace.BACK, camera.projection.coordinateSystem);
            this._interactives[this._interactiveId++] = renderable;
            // color code so that reading from bitmapdata will contain the correct value
            this._id[1] = (this._interactiveId >> 8) / 255; // on green channel
            this._id[2] = (this._interactiveId & 0xff) / 255; // on blue channel
            matrix.copyFrom(renderable.sourceEntity.getRenderSceneTransform(camera));
            matrix.append(viewProjection);
            this._context.setProgramConstantsFromMatrix(ContextGLProgramType.VERTEX, 0, matrix, true);
            this._context.setProgramConstantsFromArray(ContextGLProgramType.FRAGMENT, 0, this._id, 1);
            this._stage.activateBuffer(0, renderable.getVertexData(TriangleSubGeometry.POSITION_DATA), renderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA), TriangleSubGeometry.POSITION_FORMAT);
            this._context.drawTriangles(this._stage.getIndexBuffer(renderable.getIndexData()), 0, renderable.numTriangles);
            renderable = renderable.next;
        }
    };
    ShaderPicker.prototype.updateRay = function (camera) {
        this._rayPos = camera.scenePosition;
        this._rayDir = camera.getRay(this._projX, this._projY, 1);
        this._rayDir.normalize();
    };
    /**
     * Creates the Program that color-codes objects.
     */
    ShaderPicker.prototype.initObjectProgram = function () {
        var vertexCode;
        var fragmentCode;
        this._objectProgram = this._context.createProgram();
        vertexCode = "m44 vt0, va0, vc0			\n" + "mul vt1.xy, vt0.w, vc4.zw	\n" + "add vt0.xy, vt0.xy, vt1.xy	\n" + "mul vt0.xy, vt0.xy, vc4.xy	\n" + "mov op, vt0	\n";
        fragmentCode = "mov oc, fc0"; // write identifier
        Debug.throwPIR('ShaderPicker', 'initTriangleProgram', 'Dependency: initObjectProgram');
        //_objectProgram.upload(new AGALMiniAssembler().assemble(ContextGLProgramType.VERTEX, vertexCode),new AGALMiniAssembler().assemble(ContextGLProgramType.FRAGMENT, fragmentCode));
    };
    /**
     * Creates the Program that renders positions.
     */
    ShaderPicker.prototype.initTriangleProgram = function () {
        var vertexCode;
        var fragmentCode;
        this._triangleProgram = this._context.createProgram();
        // todo: add animation code
        vertexCode = "add vt0, va0, vc5 			\n" + "mul vt0, vt0, vc6 			\n" + "mov v0, vt0				\n" + "m44 vt0, va0, vc0			\n" + "mul vt1.xy, vt0.w, vc4.zw	\n" + "add vt0.xy, vt0.xy, vt1.xy	\n" + "mul vt0.xy, vt0.xy, vc4.xy	\n" + "mov op, vt0	\n";
        fragmentCode = "mov oc, v0"; // write identifier
        var vertexByteCode = (new AGALMiniAssembler().assemble("part vertex 1\n" + vertexCode + "endpart"))['vertex'].data;
        var fragmentByteCode = (new AGALMiniAssembler().assemble("part fragment 1\n" + fragmentCode + "endpart"))['fragment'].data;
        this._triangleProgram.upload(vertexByteCode, fragmentByteCode);
    };
    /**
     * Gets more detailed information about the hir position, if required.
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getHitDetails = function (camera) {
        this.getApproximatePosition(camera);
        this.getPreciseDetails(camera);
    };
    /**
     * Finds a first-guess approximate position about the hit position.
     *
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getApproximatePosition = function (camera) {
        var bounds = this._hitRenderable.sourceEntity.bounds.aabb;
        var col;
        var scX, scY, scZ;
        var offsX, offsY, offsZ;
        var localViewProjection = Matrix3DUtils.CALCULATION_MATRIX;
        localViewProjection.copyFrom(this._hitRenderable.sourceEntity.getRenderSceneTransform(camera));
        localViewProjection.append(camera.viewProjection);
        if (!this._triangleProgram) {
            this.initTriangleProgram();
        }
        this._boundOffsetScale[4] = 1 / (scX = bounds.width);
        this._boundOffsetScale[5] = 1 / (scY = bounds.height);
        this._boundOffsetScale[6] = 1 / (scZ = bounds.depth);
        this._boundOffsetScale[0] = offsX = -bounds.x;
        this._boundOffsetScale[1] = offsY = -bounds.y;
        this._boundOffsetScale[2] = offsZ = -bounds.z;
        this._context.setProgram(this._triangleProgram);
        this._context.clear(0, 0, 0, 0, 1, 0, ContextGLClearMask.DEPTH);
        this._context.setScissorRectangle(ShaderPicker.MOUSE_SCISSOR_RECT);
        this._context.setProgramConstantsFromMatrix(ContextGLProgramType.VERTEX, 0, localViewProjection, true);
        this._context.setProgramConstantsFromArray(ContextGLProgramType.VERTEX, 5, this._boundOffsetScale, 2);
        this._stage.activateBuffer(0, this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA), this._hitRenderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA), TriangleSubGeometry.POSITION_FORMAT);
        this._context.drawTriangles(this._stage.getIndexBuffer(this._hitRenderable.getIndexData()), 0, this._hitRenderable.numTriangles);
        this._context.drawToBitmapData(this._bitmapData);
        col = this._bitmapData.getPixel(0, 0);
        this._localHitPosition.x = ((col >> 16) & 0xff) * scX / 255 - offsX;
        this._localHitPosition.y = ((col >> 8) & 0xff) * scY / 255 - offsY;
        this._localHitPosition.z = (col & 0xff) * scZ / 255 - offsZ;
    };
    /**
     * Use the approximate position info to find the face under the mouse position from which we can derive the precise
     * ray-face intersection point, then use barycentric coordinates to figure out the uv coordinates, etc.
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getPreciseDetails = function (camera) {
        var len = indices.length;
        var x1, y1, z1;
        var x2, y2, z2;
        var x3, y3, z3;
        var i = 0, j = 1, k = 2;
        var t1, t2, t3;
        var v0x, v0y, v0z;
        var v1x, v1y, v1z;
        var v2x, v2y, v2z;
        var ni1, ni2, ni3;
        var n1, n2, n3, nLength;
        var dot00, dot01, dot02, dot11, dot12;
        var s, t, invDenom;
        var x = this._localHitPosition.x, y = this._localHitPosition.y, z = this._localHitPosition.z;
        var u, v;
        var ui1, ui2, ui3;
        var s0x, s0y, s0z;
        var s1x, s1y, s1z;
        var nl;
        var indices = this._hitRenderable.getIndexData().data;
        var positions = this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA).data;
        var positionStride = this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA).dataPerVertex;
        var positionOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA);
        var uvs = this._hitRenderable.getVertexData(TriangleSubGeometry.UV_DATA).data;
        var uvStride = this._hitRenderable.getVertexData(TriangleSubGeometry.UV_DATA).dataPerVertex;
        var uvOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.UV_DATA);
        var normals = this._hitRenderable.getVertexData(TriangleSubGeometry.NORMAL_DATA).data;
        var normalStride = this._hitRenderable.getVertexData(TriangleSubGeometry.NORMAL_DATA).dataPerVertex;
        var normalOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.NORMAL_DATA);
        this.updateRay(camera);
        while (i < len) {
            t1 = positionOffset + indices[i] * positionStride;
            t2 = positionOffset + indices[j] * positionStride;
            t3 = positionOffset + indices[k] * positionStride;
            x1 = positions[t1];
            y1 = positions[t1 + 1];
            z1 = positions[t1 + 2];
            x2 = positions[t2];
            y2 = positions[t2 + 1];
            z2 = positions[t2 + 2];
            x3 = positions[t3];
            y3 = positions[t3 + 1];
            z3 = positions[t3 + 2];
            // if within bounds
            if (!((x < x1 && x < x2 && x < x3) || (y < y1 && y < y2 && y < y3) || (z < z1 && z < z2 && z < z3) || (x > x1 && x > x2 && x > x3) || (y > y1 && y > y2 && y > y3) || (z > z1 && z > z2 && z > z3))) {
                // calculate barycentric coords for approximated position
                v0x = x3 - x1;
                v0y = y3 - y1;
                v0z = z3 - z1;
                v1x = x2 - x1;
                v1y = y2 - y1;
                v1z = z2 - z1;
                v2x = x - x1;
                v2y = y - y1;
                v2z = z - z1;
                dot00 = v0x * v0x + v0y * v0y + v0z * v0z;
                dot01 = v0x * v1x + v0y * v1y + v0z * v1z;
                dot02 = v0x * v2x + v0y * v2y + v0z * v2z;
                dot11 = v1x * v1x + v1y * v1y + v1z * v1z;
                dot12 = v1x * v2x + v1y * v2y + v1z * v2z;
                invDenom = 1 / (dot00 * dot11 - dot01 * dot01);
                s = (dot11 * dot02 - dot01 * dot12) * invDenom;
                t = (dot00 * dot12 - dot01 * dot02) * invDenom;
                // if inside the current triangle, fetch details hit information
                if (s >= 0 && t >= 0 && (s + t) <= 1) {
                    ni1 = normalOffset + indices[i] * normalStride;
                    ni2 = normalOffset + indices[j] * normalStride;
                    ni3 = normalOffset + indices[k] * normalStride;
                    n1 = indices[ni1] + indices[ni2] + indices[ni3];
                    n2 = indices[ni1 + 1] + indices[ni2 + 1] + indices[ni3 + 1];
                    n3 = indices[ni1 + 2] + indices[ni2 + 2] + indices[ni3 + 2];
                    nLength = Math.sqrt(n1 * n1 + n2 * n2 + n3 * n3);
                    n1 /= nLength;
                    n2 /= nLength;
                    n3 /= nLength;
                    // this is def the triangle, now calculate precise coords
                    this.getPrecisePosition(this._hitRenderable.sourceEntity.inverseSceneTransform, n1, n2, n3, x1, y1, z1);
                    v2x = this._localHitPosition.x - x1;
                    v2y = this._localHitPosition.y - y1;
                    v2z = this._localHitPosition.z - z1;
                    s0x = x2 - x1; // s0 = p1 - p0
                    s0y = y2 - y1;
                    s0z = z2 - z1;
                    s1x = x3 - x1; // s1 = p2 - p0
                    s1y = y3 - y1;
                    s1z = z3 - z1;
                    this._localHitNormal.x = s0y * s1z - s0z * s1y; // n = s0 x s1
                    this._localHitNormal.y = s0z * s1x - s0x * s1z;
                    this._localHitNormal.z = s0x * s1y - s0y * s1x;
                    nl = 1 / Math.sqrt(this._localHitNormal.x * this._localHitNormal.x + this._localHitNormal.y * this._localHitNormal.y + this._localHitNormal.z * this._localHitNormal.z); // normalize n
                    this._localHitNormal.x *= nl;
                    this._localHitNormal.y *= nl;
                    this._localHitNormal.z *= nl;
                    dot02 = v0x * v2x + v0y * v2y + v0z * v2z;
                    dot12 = v1x * v2x + v1y * v2y + v1z * v2z;
                    s = (dot11 * dot02 - dot01 * dot12) * invDenom;
                    t = (dot00 * dot12 - dot01 * dot02) * invDenom;
                    ui1 = uvOffset + indices[i] * uvStride;
                    ui2 = uvOffset + indices[j] * uvStride;
                    ui3 = uvOffset + indices[k] * uvStride;
                    u = uvs[ui1];
                    v = uvs[ui1 + 1];
                    this._hitUV.x = u + t * (uvs[ui2] - u) + s * (uvs[ui3] - u);
                    this._hitUV.y = v + t * (uvs[ui2 + 1] - v) + s * (uvs[ui3 + 1] - v);
                    this._faceIndex = i;
                    //TODO add back subGeometryIndex value
                    //this._subGeometryIndex = away.utils.GeometryUtils.getMeshSubGeometryIndex(subGeom);
                    return;
                }
            }
            i += 3;
            j += 3;
            k += 3;
        }
    };
    /**
     * Finds the precise hit position by unprojecting the screen coordinate back unto the hit face's plane and
     * calculating the intersection point.
     * @param camera The camera used to render the object.
     * @param invSceneTransform The inverse scene transformation of the hit object.
     * @param nx The x-coordinate of the face's plane normal.
     * @param ny The y-coordinate of the face plane normal.
     * @param nz The z-coordinate of the face plane normal.
     * @param px The x-coordinate of a point on the face's plane (ie a face vertex)
     * @param py The y-coordinate of a point on the face's plane (ie a face vertex)
     * @param pz The z-coordinate of a point on the face's plane (ie a face vertex)
     */
    ShaderPicker.prototype.getPrecisePosition = function (invSceneTransform, nx, ny, nz, px, py, pz) {
        // calculate screen ray and find exact intersection position with triangle
        var rx, ry, rz;
        var ox, oy, oz;
        var t;
        var raw = Matrix3DUtils.RAW_DATA_CONTAINER;
        var cx = this._rayPos.x, cy = this._rayPos.y, cz = this._rayPos.z;
        // unprojected projection point, gives ray dir in cam space
        ox = this._rayDir.x;
        oy = this._rayDir.y;
        oz = this._rayDir.z;
        // transform ray dir and origin (cam pos) to object space
        //invSceneTransform.copyRawDataTo( raw  );
        invSceneTransform.copyRawDataTo(raw);
        rx = raw[0] * ox + raw[4] * oy + raw[8] * oz;
        ry = raw[1] * ox + raw[5] * oy + raw[9] * oz;
        rz = raw[2] * ox + raw[6] * oy + raw[10] * oz;
        ox = raw[0] * cx + raw[4] * cy + raw[8] * cz + raw[12];
        oy = raw[1] * cx + raw[5] * cy + raw[9] * cz + raw[13];
        oz = raw[2] * cx + raw[6] * cy + raw[10] * cz + raw[14];
        t = ((px - ox) * nx + (py - oy) * ny + (pz - oz) * nz) / (rx * nx + ry * ny + rz * nz);
        this._localHitPosition.x = ox + rx * t;
        this._localHitPosition.y = oy + ry * t;
        this._localHitPosition.z = oz + rz * t;
    };
    ShaderPicker.prototype.dispose = function () {
        this._bitmapData.dispose();
        if (this._triangleProgram)
            this._triangleProgram.dispose();
        if (this._objectProgram)
            this._objectProgram.dispose();
        this._triangleProgram = null;
        this._objectProgram = null;
        this._bitmapData = null;
        this._hitRenderable = null;
        this._hitEntity = null;
    };
    ShaderPicker.MOUSE_SCISSOR_RECT = new Rectangle(0, 0, 1, 1);
    return ShaderPicker;
})();
module.exports = ShaderPicker;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9waWNrL3NoYWRlcnBpY2tlci50cyJdLCJuYW1lcyI6WyJTaGFkZXJQaWNrZXIiLCJTaGFkZXJQaWNrZXIuY29uc3RydWN0b3IiLCJTaGFkZXJQaWNrZXIub25seU1vdXNlRW5hYmxlZCIsIlNoYWRlclBpY2tlci5nZXRWaWV3Q29sbGlzaW9uIiwiU2hhZGVyUGlja2VyLmdldFNjZW5lQ29sbGlzaW9uIiwiU2hhZGVyUGlja2VyLnBEcmF3IiwiU2hhZGVyUGlja2VyLmRyYXdSZW5kZXJhYmxlcyIsIlNoYWRlclBpY2tlci51cGRhdGVSYXkiLCJTaGFkZXJQaWNrZXIuaW5pdE9iamVjdFByb2dyYW0iLCJTaGFkZXJQaWNrZXIuaW5pdFRyaWFuZ2xlUHJvZ3JhbSIsIlNoYWRlclBpY2tlci5nZXRIaXREZXRhaWxzIiwiU2hhZGVyUGlja2VyLmdldEFwcHJveGltYXRlUG9zaXRpb24iLCJTaGFkZXJQaWNrZXIuZ2V0UHJlY2lzZURldGFpbHMiLCJTaGFkZXJQaWNrZXIuZ2V0UHJlY2lzZVBvc2l0aW9uIiwiU2hhZGVyUGlja2VyLmRpc3Bvc2UiXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sS0FBSyxXQUFpQiw2QkFBNkIsQ0FBQyxDQUFDO0FBQzVELElBQU8sVUFBVSxXQUFnQixpQ0FBaUMsQ0FBQyxDQUFDO0FBR3BFLElBQU8sYUFBYSxXQUFlLG9DQUFvQyxDQUFDLENBQUM7QUFDekUsSUFBTyxLQUFLLFdBQWlCLDRCQUE0QixDQUFDLENBQUM7QUFDM0QsSUFBTyxTQUFTLFdBQWdCLGdDQUFnQyxDQUFDLENBQUM7QUFDbEUsSUFBTyxRQUFRLFdBQWlCLCtCQUErQixDQUFDLENBQUM7QUFHakUsSUFBTyxtQkFBbUIsV0FBYyw2Q0FBNkMsQ0FBQyxDQUFDO0FBVXZGLElBQU8saUJBQWlCLFdBQWMsc0RBQXNELENBQUMsQ0FBQztBQUU5RixJQUFPLG9CQUFvQixXQUFjLDhDQUE4QyxDQUFDLENBQUM7QUFDekYsSUFBTyxrQkFBa0IsV0FBYyw0Q0FBNEMsQ0FBQyxDQUFDO0FBQ3JGLElBQU8sb0JBQW9CLFdBQWMsOENBQThDLENBQUMsQ0FBQztBQUN6RixJQUFPLG9CQUFvQixXQUFjLDhDQUE4QyxDQUFDLENBQUM7QUFDekYsSUFBTyxxQkFBcUIsV0FBYSwrQ0FBK0MsQ0FBQyxDQUFDO0FBUTFGLEFBV0E7Ozs7Ozs7Ozs7R0FERztJQUNHLFlBQVk7SUFtRGpCQTs7Ozs7T0FLR0E7SUFDSEEsU0F6REtBLFlBQVlBLENBeURMQSxvQkFBb0NBO1FBQXBDQyxvQ0FBb0NBLEdBQXBDQSw0QkFBb0NBO1FBbER4Q0Esc0JBQWlCQSxHQUFXQSxJQUFJQSxDQUFDQTtRQVNqQ0Esa0JBQWFBLEdBQXlCQSxJQUFJQSxLQUFLQSxFQUFrQkEsQ0FBQ0E7UUFRbEVBLHNCQUFpQkEsR0FBWUEsSUFBSUEsUUFBUUEsRUFBRUEsQ0FBQ0E7UUFDNUNBLFdBQU1BLEdBQVNBLElBQUlBLEtBQUtBLEVBQUVBLENBQUNBO1FBSTNCQSxvQkFBZUEsR0FBWUEsSUFBSUEsUUFBUUEsRUFBRUEsQ0FBQ0E7UUFFMUNBLFlBQU9BLEdBQVlBLElBQUlBLFFBQVFBLEVBQUVBLENBQUNBO1FBQ2xDQSxZQUFPQSxHQUFZQSxJQUFJQSxRQUFRQSxFQUFFQSxDQUFDQTtRQTJCekNBLElBQUlBLENBQUNBLHFCQUFxQkEsR0FBR0Esb0JBQW9CQSxDQUFDQTtRQUVsREEsSUFBSUEsQ0FBQ0EsR0FBR0EsR0FBR0EsSUFBSUEsS0FBS0EsQ0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDaENBLElBQUlBLENBQUNBLGFBQWFBLEdBQUdBLElBQUlBLEtBQUtBLENBQVNBLENBQUNBLENBQUNBLEVBQUVBLDRDQUE0Q0E7UUFDdkZBLElBQUlBLENBQUNBLGlCQUFpQkEsR0FBR0EsSUFBSUEsS0FBS0EsQ0FBU0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsNENBQTRDQTtRQUMzRkEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUM5QkEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUMvQkEsQ0FBQ0E7SUF6QkRELHNCQUFXQSwwQ0FBZ0JBO1FBSDNCQTs7V0FFR0E7YUFDSEE7WUFFQ0UsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQTtRQUMvQkEsQ0FBQ0E7YUFFREYsVUFBNEJBLEtBQWFBO1lBRXhDRSxJQUFJQSxDQUFDQSxpQkFBaUJBLEdBQUdBLEtBQUtBLENBQUNBO1FBQ2hDQSxDQUFDQTs7O09BTEFGO0lBd0JEQTs7T0FFR0E7SUFDSUEsdUNBQWdCQSxHQUF2QkEsVUFBd0JBLENBQVFBLEVBQUVBLENBQVFBLEVBQUVBLElBQVNBO1FBRXBERyxJQUFJQSxTQUFTQSxHQUFxQ0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQTtRQUV4RUEsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBc0JBLElBQUlBLENBQUNBLFFBQVNBLENBQUNBLEtBQUtBLENBQUNBO1FBRXREQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQTtZQUNoQkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFFYkEsSUFBSUEsQ0FBQ0EsUUFBUUEsR0FBZ0JBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLE9BQU9BLENBQUNBO1FBRWpEQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQTtRQUNuQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDcENBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEdBQUNBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1FBQzVEQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUUxREEsQUFDQUEseUVBRHlFQTtRQUN6RUEsSUFBSUEsQ0FBQ0EsZUFBZUEsR0FBR0EsS0FBS0EsQ0FBQ0E7UUFFN0JBLEFBQ0FBLG1CQURtQkE7UUFDbkJBLElBQUlBLENBQUNBLHNCQUFzQkEsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDbkNBLElBQUlBLENBQUNBLHFCQUFxQkEsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFFbENBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLFNBQVNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO1FBRTVCQSxBQUNBQSxnQkFEZ0JBO1FBQ2hCQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO1FBRXpDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQTtZQUMzQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFFYkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0E7WUFDckJBLElBQUlBLENBQUNBLFdBQVdBLEdBQUdBLElBQUlBLFVBQVVBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLEtBQUtBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBRW5EQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxnQkFBZ0JBLENBQUNBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBO1FBQ2pEQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUVqREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDckJBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1lBQ3hCQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNiQSxDQUFDQTtRQUVEQSxJQUFJQSxDQUFDQSxjQUFjQSxHQUFHQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUM3REEsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsWUFBWUEsQ0FBQ0E7UUFFbkRBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGlCQUFpQkEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxDQUFDQTtZQUNqRUEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFFYkEsSUFBSUEsWUFBWUEsR0FBc0JBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLG9CQUFvQkEsQ0FBQ0E7UUFDM0VBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLHFCQUFxQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDaENBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1lBQ2hDQSxZQUFZQSxDQUFDQSxhQUFhQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBO1lBQ3BEQSxZQUFZQSxDQUFDQSxXQUFXQSxHQUFHQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQTtZQUNoREEsWUFBWUEsQ0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7WUFDOUJBLFlBQVlBLENBQUNBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBO1FBR3RDQSxDQUFDQTtRQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUNQQSxZQUFZQSxDQUFDQSxhQUFhQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUNsQ0EsWUFBWUEsQ0FBQ0EsV0FBV0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDaENBLFlBQVlBLENBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBO1lBQ3ZCQSxZQUFZQSxDQUFDQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUV4QkEsQ0FBQ0E7UUFFREEsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0E7SUFDckJBLENBQUNBO0lBRURILElBQUlBO0lBQ0pBOztPQUVHQTtJQUNJQSx3Q0FBaUJBLEdBQXhCQSxVQUF5QkEsUUFBaUJBLEVBQUVBLFNBQWtCQSxFQUFFQSxLQUFXQTtRQUUxRUksTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7SUFDYkEsQ0FBQ0E7SUFFREo7O09BRUdBO0lBQ0lBLDRCQUFLQSxHQUFaQSxVQUFhQSxlQUErQkEsRUFBRUEsTUFBbUJBO1FBR2hFSyxJQUFJQSxNQUFNQSxHQUFVQSxlQUFlQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUUzQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDaENBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLFdBQVdBLEdBQUdBLFlBQVlBLENBQUNBLGtCQUFrQkEsQ0FBQ0E7UUFFMURBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLGNBQWNBLEdBQUdBLENBQUNBLENBQUNBO1FBRXBEQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQTtZQUN4QkEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQTtRQUUxQkEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsZUFBZUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxHQUFHQSxFQUFFQSxvQkFBb0JBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ25GQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxZQUFZQSxDQUFDQSxJQUFJQSxFQUFFQSxvQkFBb0JBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQzVEQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQTtRQUM5Q0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsNEJBQTRCQSxDQUFDQSxvQkFBb0JBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLGFBQWFBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1FBQ2xHQSxxRUFBcUVBO1FBQ3JFQSxzRUFBc0VBO1FBQ3RFQSw2REFBNkRBO0lBQzlEQSxDQUFDQTtJQUVETDs7OztPQUlHQTtJQUNLQSxzQ0FBZUEsR0FBdkJBLFVBQXdCQSxVQUF5QkEsRUFBRUEsTUFBYUE7UUFFL0RNLElBQUlBLE1BQU1BLEdBQVlBLGFBQWFBLENBQUNBLGtCQUFrQkEsQ0FBQ0E7UUFDdkRBLElBQUlBLGNBQWNBLEdBQVlBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBO1FBRXBEQSxPQUFPQSxVQUFVQSxFQUFFQSxDQUFDQTtZQUNuQkEsQUFDQUEsdUVBRHVFQTtZQUN2RUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsS0FBS0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDbkZBLFVBQVVBLEdBQUdBLFVBQVVBLENBQUNBLElBQUlBLENBQUNBO2dCQUM3QkEsUUFBUUEsQ0FBQ0E7WUFDVkEsQ0FBQ0E7WUFFREEsSUFBSUEsQ0FBQ0EsZUFBZUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFFNUJBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLFVBQVVBLENBQWlCQSxVQUFVQSxDQUFDQSxhQUFhQSxDQUFDQSxRQUFTQSxDQUFDQSxTQUFTQSxHQUFFQSxxQkFBcUJBLENBQUNBLElBQUlBLEdBQUdBLHFCQUFxQkEsQ0FBQ0EsSUFBSUEsRUFBRUEsTUFBTUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQTtZQUVwTEEsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsRUFBRUEsQ0FBQ0EsR0FBR0EsVUFBVUEsQ0FBQ0E7WUFDdkRBLEFBQ0FBLDRFQUQ0RUE7WUFDNUVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLElBQUlBLENBQUNBLENBQUNBLEdBQUNBLEdBQUdBLEVBQUVBLG1CQUFtQkE7WUFDakVBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLEdBQUdBLElBQUlBLENBQUNBLEdBQUNBLEdBQUdBLEVBQUVBLGtCQUFrQkE7WUFFbEVBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLFVBQVVBLENBQUNBLFlBQVlBLENBQUNBLHVCQUF1QkEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDekVBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQUNBO1lBQzlCQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSw2QkFBNkJBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsTUFBTUEsRUFBRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0E7WUFDMUZBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLDRCQUE0QkEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUMxRkEsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsVUFBVUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxhQUFhQSxDQUFDQSxFQUFFQSxVQUFVQSxDQUFDQSxlQUFlQSxDQUFDQSxtQkFBbUJBLENBQUNBLGFBQWFBLENBQUNBLEVBQUVBLG1CQUFtQkEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0E7WUFDL0xBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLFVBQVVBLENBQUNBLFlBQVlBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLFVBQVVBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO1lBRS9HQSxVQUFVQSxHQUFHQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUM5QkEsQ0FBQ0E7SUFFRkEsQ0FBQ0E7SUFFT04sZ0NBQVNBLEdBQWpCQSxVQUFrQkEsTUFBYUE7UUFFOUJPLElBQUlBLENBQUNBLE9BQU9BLEdBQUdBLE1BQU1BLENBQUNBLGFBQWFBLENBQUNBO1FBRXBDQSxJQUFJQSxDQUFDQSxPQUFPQSxHQUFHQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMxREEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7SUFDMUJBLENBQUNBO0lBRURQOztPQUVHQTtJQUNLQSx3Q0FBaUJBLEdBQXpCQTtRQUVDUSxJQUFJQSxVQUFpQkEsQ0FBQ0E7UUFDdEJBLElBQUlBLFlBQW1CQSxDQUFDQTtRQUV4QkEsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsYUFBYUEsRUFBRUEsQ0FBQ0E7UUFFcERBLFVBQVVBLEdBQUdBLHdCQUF3QkEsR0FBR0EsOEJBQThCQSxHQUFHQSwrQkFBK0JBLEdBQUdBLCtCQUErQkEsR0FBR0EsZ0JBQWdCQSxDQUFDQTtRQUM5SkEsWUFBWUEsR0FBR0EsYUFBYUEsRUFBRUEsbUJBQW1CQTtRQUVqREEsS0FBS0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsY0FBY0EsRUFBRUEscUJBQXFCQSxFQUFFQSwrQkFBK0JBLENBQUNBLENBQUFBO1FBQ3RGQSxpTEFBaUxBO0lBQ2xMQSxDQUFDQTtJQUVEUjs7T0FFR0E7SUFFS0EsMENBQW1CQSxHQUEzQkE7UUFFQ1MsSUFBSUEsVUFBaUJBLENBQUNBO1FBQ3RCQSxJQUFJQSxZQUFtQkEsQ0FBQ0E7UUFFeEJBLElBQUlBLENBQUNBLGdCQUFnQkEsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsYUFBYUEsRUFBRUEsQ0FBQ0E7UUFFdERBLEFBQ0FBLDJCQUQyQkE7UUFDM0JBLFVBQVVBLEdBQUdBLHlCQUF5QkEsR0FBR0EseUJBQXlCQSxHQUFHQSxtQkFBbUJBLEdBQUdBLHdCQUF3QkEsR0FBR0EsOEJBQThCQSxHQUFHQSwrQkFBK0JBLEdBQUdBLCtCQUErQkEsR0FBR0EsZ0JBQWdCQSxDQUFDQTtRQUM1T0EsWUFBWUEsR0FBR0EsWUFBWUEsRUFBRUEsbUJBQW1CQTtRQUVoREEsSUFBSUEsY0FBY0EsR0FBYUEsQ0FBQ0EsSUFBSUEsaUJBQWlCQSxFQUFFQSxDQUFDQSxRQUFRQSxDQUFDQSxpQkFBaUJBLEdBQUdBLFVBQVVBLEdBQUdBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLElBQUlBLENBQUNBO1FBQzdIQSxJQUFJQSxnQkFBZ0JBLEdBQWFBLENBQUNBLElBQUlBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsbUJBQW1CQSxHQUFHQSxZQUFZQSxHQUFHQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNySUEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxFQUFFQSxnQkFBZ0JBLENBQUNBLENBQUNBO0lBQ2hFQSxDQUFDQTtJQUVEVDs7O09BR0dBO0lBQ0tBLG9DQUFhQSxHQUFyQkEsVUFBc0JBLE1BQWFBO1FBRWxDVSxJQUFJQSxDQUFDQSxzQkFBc0JBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1FBQ3BDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO0lBQ2hDQSxDQUFDQTtJQUVEVjs7OztPQUlHQTtJQUNLQSw2Q0FBc0JBLEdBQTlCQSxVQUErQkEsTUFBYUE7UUFFM0NXLElBQUlBLE1BQU1BLEdBQU9BLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLFlBQVlBLENBQUNBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBO1FBQzlEQSxJQUFJQSxHQUFVQSxDQUFDQTtRQUNmQSxJQUFJQSxHQUFVQSxFQUFFQSxHQUFVQSxFQUFFQSxHQUFVQSxDQUFDQTtRQUN2Q0EsSUFBSUEsS0FBWUEsRUFBRUEsS0FBWUEsRUFBRUEsS0FBWUEsQ0FBQ0E7UUFDN0NBLElBQUlBLG1CQUFtQkEsR0FBWUEsYUFBYUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQTtRQUVwRUEsbUJBQW1CQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxZQUFZQSxDQUFDQSx1QkFBdUJBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1FBQy9GQSxtQkFBbUJBLENBQUNBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQUNBO1FBQ2xEQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBLENBQUNBO1lBQzVCQSxJQUFJQSxDQUFDQSxtQkFBbUJBLEVBQUVBLENBQUNBO1FBQzVCQSxDQUFDQTtRQUVEQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLEdBQUdBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1FBQ25EQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLEdBQUdBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1FBQ3BEQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLEdBQUdBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1FBQ25EQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1FBQzlDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1FBQzlDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEtBQUtBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1FBRTlDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBO1FBQ2hEQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxrQkFBa0JBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1FBQ2hFQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxtQkFBbUJBLENBQUNBLFlBQVlBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsQ0FBQ0E7UUFDbkVBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLDZCQUE2QkEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxtQkFBbUJBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO1FBQ3ZHQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSw0QkFBNEJBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUV0R0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxhQUFhQSxDQUFDQSxFQUFFQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxlQUFlQSxDQUFDQSxtQkFBbUJBLENBQUNBLGFBQWFBLENBQUNBLEVBQUVBLG1CQUFtQkEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0E7UUFDak5BLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLFlBQVlBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO1FBRWpJQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxnQkFBZ0JBLENBQUNBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBO1FBRWpEQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUV0Q0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxHQUFDQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxLQUFLQSxDQUFDQTtRQUNoRUEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxHQUFDQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxLQUFLQSxDQUFDQTtRQUMvREEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSxHQUFDQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxLQUFLQSxDQUFDQTtJQUN6REEsQ0FBQ0E7SUFFRFg7Ozs7T0FJR0E7SUFDS0Esd0NBQWlCQSxHQUF6QkEsVUFBMEJBLE1BQWFBO1FBRXRDWSxJQUFJQSxHQUFHQSxHQUFVQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUNoQ0EsSUFBSUEsRUFBU0EsRUFBRUEsRUFBU0EsRUFBRUEsRUFBU0EsQ0FBQ0E7UUFDcENBLElBQUlBLEVBQVNBLEVBQUVBLEVBQVNBLEVBQUVBLEVBQVNBLENBQUNBO1FBQ3BDQSxJQUFJQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxDQUFDQTtRQUNwQ0EsSUFBSUEsQ0FBQ0EsR0FBVUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBVUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBVUEsQ0FBQ0EsQ0FBQ0E7UUFDN0NBLElBQUlBLEVBQVNBLEVBQUVBLEVBQVNBLEVBQUVBLEVBQVNBLENBQUNBO1FBQ3BDQSxJQUFJQSxHQUFVQSxFQUFFQSxHQUFVQSxFQUFFQSxHQUFVQSxDQUFDQTtRQUN2Q0EsSUFBSUEsR0FBVUEsRUFBRUEsR0FBVUEsRUFBRUEsR0FBVUEsQ0FBQ0E7UUFDdkNBLElBQUlBLEdBQVVBLEVBQUVBLEdBQVVBLEVBQUVBLEdBQVVBLENBQUNBO1FBQ3ZDQSxJQUFJQSxHQUFVQSxFQUFFQSxHQUFVQSxFQUFFQSxHQUFVQSxDQUFDQTtRQUN2Q0EsSUFBSUEsRUFBU0EsRUFBRUEsRUFBU0EsRUFBRUEsRUFBU0EsRUFBRUEsT0FBY0EsQ0FBQ0E7UUFDcERBLElBQUlBLEtBQVlBLEVBQUVBLEtBQVlBLEVBQUVBLEtBQVlBLEVBQUVBLEtBQVlBLEVBQUVBLEtBQVlBLENBQUNBO1FBQ3pFQSxJQUFJQSxDQUFRQSxFQUFFQSxDQUFRQSxFQUFFQSxRQUFlQSxDQUFDQTtRQUN4Q0EsSUFBSUEsQ0FBQ0EsR0FBVUEsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFVQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQVVBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDbEhBLElBQUlBLENBQVFBLEVBQUVBLENBQVFBLENBQUNBO1FBQ3ZCQSxJQUFJQSxHQUFVQSxFQUFFQSxHQUFVQSxFQUFFQSxHQUFVQSxDQUFDQTtRQUN2Q0EsSUFBSUEsR0FBVUEsRUFBRUEsR0FBVUEsRUFBRUEsR0FBVUEsQ0FBQ0E7UUFDdkNBLElBQUlBLEdBQVVBLEVBQUVBLEdBQVVBLEVBQUVBLEdBQVVBLENBQUNBO1FBQ3ZDQSxJQUFJQSxFQUFTQSxDQUFDQTtRQUNkQSxJQUFJQSxPQUFPQSxHQUFpQkEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsWUFBWUEsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFFcEVBLElBQUlBLFNBQVNBLEdBQWlCQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxhQUFhQSxDQUFDQSxtQkFBbUJBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLElBQUlBLENBQUNBO1FBQ3hHQSxJQUFJQSxjQUFjQSxHQUFVQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxhQUFhQSxDQUFDQSxtQkFBbUJBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLGFBQWFBLENBQUNBO1FBQy9HQSxJQUFJQSxjQUFjQSxHQUFVQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxlQUFlQSxDQUFDQSxtQkFBbUJBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBO1FBRW5HQSxJQUFJQSxHQUFHQSxHQUFpQkEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUM1RkEsSUFBSUEsUUFBUUEsR0FBVUEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxhQUFhQSxDQUFDQTtRQUNuR0EsSUFBSUEsUUFBUUEsR0FBVUEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtRQUV2RkEsSUFBSUEsT0FBT0EsR0FBaUJBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLGFBQWFBLENBQUNBLG1CQUFtQkEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDcEdBLElBQUlBLFlBQVlBLEdBQVVBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLGFBQWFBLENBQUNBLG1CQUFtQkEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0EsYUFBYUEsQ0FBQ0E7UUFDM0dBLElBQUlBLFlBQVlBLEdBQVVBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLGVBQWVBLENBQUNBLG1CQUFtQkEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0E7UUFFL0ZBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1FBRXZCQSxPQUFPQSxDQUFDQSxHQUFHQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUNoQkEsRUFBRUEsR0FBR0EsY0FBY0EsR0FBR0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsY0FBY0EsQ0FBQ0E7WUFDaERBLEVBQUVBLEdBQUdBLGNBQWNBLEdBQUdBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLGNBQWNBLENBQUNBO1lBQ2hEQSxFQUFFQSxHQUFHQSxjQUFjQSxHQUFHQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxjQUFjQSxDQUFDQTtZQUNoREEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDbkJBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1lBQ3ZCQSxFQUFFQSxHQUFHQSxTQUFTQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN2QkEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDbkJBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1lBQ3ZCQSxFQUFFQSxHQUFHQSxTQUFTQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN2QkEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDbkJBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1lBQ3ZCQSxFQUFFQSxHQUFHQSxTQUFTQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUV2QkEsQUFDQUEsbUJBRG1CQTtZQUNuQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBS0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBRXpNQSxBQUNBQSx5REFEeURBO2dCQUN6REEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2RBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDZEEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2RBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDZEEsR0FBR0EsR0FBR0EsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2JBLEdBQUdBLEdBQUdBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNiQSxHQUFHQSxHQUFHQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDYkEsS0FBS0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsQ0FBQ0E7Z0JBQ3BDQSxLQUFLQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtnQkFDcENBLEtBQUtBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLENBQUNBO2dCQUNwQ0EsS0FBS0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsQ0FBQ0E7Z0JBQ3BDQSxLQUFLQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFH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QUVBLEdBQUdBLEVBQUVBLENBQUNBO29CQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxFQUFFQSxlQUFlQTtvQkFDOUJBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO29CQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtvQkFDZEEsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsRUFBRUEsY0FBY0E7b0JBQzFEQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtvQkFDM0NBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLENBQUNBO29CQUMzQ0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsY0FBY0E7b0JBQy9LQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQSxJQUFJQSxFQUFFQSxDQUFDQTtvQkFDN0JBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBO29CQUM3QkEsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0E7b0JBRTdCQSxLQUFLQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtvQkFDcENBLEtBQUtBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLENBQUNBO29CQUNwQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsR0FBQ0EsS0FBS0EsR0FBR0EsS0FBS0EsR0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBQ0EsUUFBUUEsQ0FBQ0E7b0JBQ3pDQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFDQSxLQUFLQSxHQUFHQSxLQUFLQSxHQUFDQSxLQUFLQSxDQUFDQSxHQUFDQSxRQUFRQSxDQUFDQTtvQkFFekNBLEdBQUdBLEdBQUdBLFFBQVFBLEdBQUdBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLFFBQVFBLENBQUFBO29CQUNwQ0EsR0FBR0EsR0FBR0EsUUFBUUEsR0FBR0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsUUFBUUEsQ0FBQUE7b0JBQ3BDQSxHQUFHQSxHQUFHQSxRQUFRQSxHQUFHQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxRQUFRQSxDQUFBQTtvQkFFcENBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO29CQUNiQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDakJBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO29CQUN4REEsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBRWhFQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxDQUFDQSxDQUFDQTtvQkFDcEJBLEFBR0FBLHNDQUhzQ0E7b0JBQ3RDQSxxRkFBcUZBO29CQUVyRkEsTUFBTUEsQ0FBQ0E7Z0JBQ1JBLENBQUNBO1lBQ0ZBLENBQUNBO1lBRURBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ1BBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ1BBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ1JBLENBQUNBO0lBQ0ZBLENBQUNBO0lBRURaOzs7Ozs7Ozs7OztPQVdHQTtJQUVLQSx5Q0FBa0JBLEdBQTFCQSxVQUEyQkEsaUJBQTBCQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQTtRQUV0SGEsQUFDQUEsMEVBRDBFQTtZQUN0RUEsRUFBU0EsRUFBRUEsRUFBU0EsRUFBRUEsRUFBU0EsQ0FBQ0E7UUFDcENBLElBQUlBLEVBQVNBLEVBQUVBLEVBQVNBLEVBQUVBLEVBQVNBLENBQUNBO1FBQ3BDQSxJQUFJQSxDQUFRQSxDQUFDQTtRQUNiQSxJQUFJQSxHQUFHQSxHQUFpQkEsYUFBYUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQTtRQUN6REEsSUFBSUEsRUFBRUEsR0FBVUEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFdkZBLEFBQ0FBLDJEQUQyREE7UUFDM0RBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBO1FBQ3BCQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNwQkEsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFcEJBLEFBRUFBLHlEQUZ5REE7UUFDekRBLDBDQUEwQ0E7UUFDMUNBLGlCQUFpQkEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDckNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBO1FBQ3ZDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxDQUFDQTtRQUN2Q0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFFeENBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBQ2pEQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUNqREEsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFFbERBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBRXpFQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLENBQUNBLENBQUNBO1FBQ3JDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLENBQUNBLENBQUNBO1FBQ3JDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLENBQUNBLENBQUNBO0lBQ3RDQSxDQUFDQTtJQUVNYiw4QkFBT0EsR0FBZEE7UUFFQ2MsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDM0JBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0E7WUFDekJBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFFakNBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBO1lBQ3ZCQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUUvQkEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM3QkEsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDM0JBLElBQUlBLENBQUNBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBO1FBQ3hCQSxJQUFJQSxDQUFDQSxjQUFjQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUMzQkEsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDeEJBLENBQUNBO0lBL2RjZCwrQkFBa0JBLEdBQWFBLElBQUlBLFNBQVNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO0lBZ2V6RUEsbUJBQUNBO0FBQURBLENBbGdCQSxBQWtnQkNBLElBQUE7QUFFRCxBQUFzQixpQkFBYixZQUFZLENBQUMiLCJmaWxlIjoicGljay9TaGFkZXJQaWNrZXIuanMiLCJzb3VyY2VSb290IjoiLi4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERlYnVnXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdXRpbHMvRGVidWdcIik7XG5pbXBvcnQgQml0bWFwRGF0YVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9iYXNlL0JpdG1hcERhdGFcIik7XG5pbXBvcnQgQm94XHRcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL0JveFwiKTtcbmltcG9ydCBNYXRyaXgzRFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vTWF0cml4M0RcIik7XG5pbXBvcnQgTWF0cml4M0RVdGlsc1x0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9NYXRyaXgzRFV0aWxzXCIpO1xuaW1wb3J0IFBvaW50XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9Qb2ludFwiKTtcbmltcG9ydCBSZWN0YW5nbGVcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9SZWN0YW5nbGVcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL1ZlY3RvcjNEXCIpO1xuaW1wb3J0IEJ5dGVBcnJheVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi91dGlscy9CeXRlQXJyYXlcIik7XG5cbmltcG9ydCBUcmlhbmdsZVN1Ykdlb21ldHJ5XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9UcmlhbmdsZVN1Ykdlb21ldHJ5XCIpO1xuaW1wb3J0IFNjZW5lXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udGFpbmVycy9TY2VuZVwiKTtcbmltcG9ydCBWaWV3XHRcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9jb250YWluZXJzL1ZpZXdcIik7XG5pbXBvcnQgSVBpY2tlclx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3BpY2svSVBpY2tlclwiKTtcbmltcG9ydCBQaWNraW5nQ29sbGlzaW9uVk9cdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9waWNrL1BpY2tpbmdDb2xsaXNpb25WT1wiKTtcbmltcG9ydCBFbnRpdHlDb2xsZWN0b3JcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3RyYXZlcnNlL0VudGl0eUNvbGxlY3RvclwiKTtcbmltcG9ydCBDYW1lcmFcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9DYW1lcmFcIik7XG5pbXBvcnQgSUVudGl0eVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL0lFbnRpdHlcIik7XG5pbXBvcnQgTWF0ZXJpYWxCYXNlXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9NYXRlcmlhbEJhc2VcIik7XG5cbmltcG9ydCBBR0FMTWluaUFzc2VtYmxlclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2FnbHNsL2Fzc2VtYmxlci9BR0FMTWluaUFzc2VtYmxlclwiKTtcbmltcG9ydCBTdGFnZVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvU3RhZ2VcIik7XG5pbXBvcnQgQ29udGV4dEdMQmxlbmRGYWN0b3JcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0NvbnRleHRHTEJsZW5kRmFjdG9yXCIpO1xuaW1wb3J0IENvbnRleHRHTENsZWFyTWFza1x0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMQ2xlYXJNYXNrXCIpO1xuaW1wb3J0IENvbnRleHRHTENvbXBhcmVNb2RlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xDb21wYXJlTW9kZVwiKTtcbmltcG9ydCBDb250ZXh0R0xQcm9ncmFtVHlwZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMUHJvZ3JhbVR5cGVcIik7XG5pbXBvcnQgQ29udGV4dEdMVHJpYW5nbGVGYWNlXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMVHJpYW5nbGVGYWNlXCIpO1xuaW1wb3J0IElDb250ZXh0R0xcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9JQ29udGV4dEdMXCIpO1xuaW1wb3J0IElQcm9ncmFtXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9JUHJvZ3JhbVwiKTtcbmltcG9ydCBJVGV4dHVyZUJhc2VcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9JVGV4dHVyZUJhc2VcIik7XG5cbmltcG9ydCBSZW5kZXJhYmxlQmFzZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9SZW5kZXJhYmxlQmFzZVwiKTtcbmltcG9ydCBEZWZhdWx0UmVuZGVyZXJcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL3JlbmRlci9EZWZhdWx0UmVuZGVyZXJcIik7XG5cbi8qKlxuICogUGlja3MgYSAzZCBvYmplY3QgZnJvbSBhIHZpZXcgb3Igc2NlbmUgYnkgcGVyZm9ybWluZyBhIHNlcGFyYXRlIHJlbmRlciBwYXNzIG9uIHRoZSBzY2VuZSBhcm91bmQgdGhlIGFyZWEgYmVpbmcgcGlja2VkIHVzaW5nIGtleSBjb2xvciB2YWx1ZXMsXG4gKiB0aGVuIHJlYWRpbmcgYmFjayB0aGUgY29sb3IgdmFsdWUgb2YgdGhlIHBpeGVsIGluIHRoZSByZW5kZXIgcmVwcmVzZW50aW5nIHRoZSBwaWNraW5nIHJheS4gUmVxdWlyZXMgbXVsdGlwbGUgcGFzc2VzIGFuZCByZWFkYmFja3MgZm9yIHJldHJpdmluZyBkZXRhaWxzXG4gKiBvbiBhbiBlbnRpdHkgdGhhdCBoYXMgaXRzIHNoYWRlclBpY2tpbmdEZXRhaWxzIHByb3BlcnR5IHNldCB0byB0cnVlLlxuICpcbiAqIEEgcmVhZC1iYWNrIG9wZXJhdGlvbiBmcm9tIGFueSBHUFUgaXMgbm90IGEgdmVyeSBlZmZpY2llbnQgcHJvY2VzcywgYW5kIHRoZSBhbW91bnQgb2YgcHJvY2Vzc2luZyB1c2VkIGNhbiB2YXJ5IHNpZ25pZmljYW50bHkgYmV0d2VlbiBkaWZmZXJlbnQgaGFyZHdhcmUuXG4gKlxuICogQHNlZSBhd2F5LmVudGl0aWVzLkVudGl0eSNzaGFkZXJQaWNraW5nRGV0YWlsc1xuICpcbiAqIEBjbGFzcyBhd2F5LnBpY2suU2hhZGVyUGlja2VyXG4gKi9cbmNsYXNzIFNoYWRlclBpY2tlciBpbXBsZW1lbnRzIElQaWNrZXJcbntcblx0cHJpdmF0ZSBfb3BhcXVlUmVuZGVyYWJsZUhlYWQ6UmVuZGVyYWJsZUJhc2U7XG5cdHByaXZhdGUgX2JsZW5kZWRSZW5kZXJhYmxlSGVhZDpSZW5kZXJhYmxlQmFzZTtcblxuXHRwcml2YXRlIF9zdGFnZTpTdGFnZTtcblx0cHJpdmF0ZSBfY29udGV4dDpJQ29udGV4dEdMO1xuXHRwcml2YXRlIF9vbmx5TW91c2VFbmFibGVkOmJvb2xlYW4gPSB0cnVlO1xuXG5cdHByaXZhdGUgX29iamVjdFByb2dyYW06SVByb2dyYW07XG5cdHByaXZhdGUgX3RyaWFuZ2xlUHJvZ3JhbTpJUHJvZ3JhbTtcblx0cHJpdmF0ZSBfYml0bWFwRGF0YTpCaXRtYXBEYXRhO1xuXHRwcml2YXRlIF92aWV3cG9ydERhdGE6QXJyYXk8bnVtYmVyPjtcblx0cHJpdmF0ZSBfYm91bmRPZmZzZXRTY2FsZTpBcnJheTxudW1iZXI+O1xuXHRwcml2YXRlIF9pZDpBcnJheTxudW1iZXI+O1xuXG5cdHByaXZhdGUgX2ludGVyYWN0aXZlczpBcnJheTxSZW5kZXJhYmxlQmFzZT4gPSBuZXcgQXJyYXk8UmVuZGVyYWJsZUJhc2U+KCk7XG5cdHByaXZhdGUgX2ludGVyYWN0aXZlSWQ6bnVtYmVyO1xuXHRwcml2YXRlIF9oaXRDb2xvcjpudW1iZXI7XG5cdHByaXZhdGUgX3Byb2pYOm51bWJlcjtcblx0cHJpdmF0ZSBfcHJvalk6bnVtYmVyO1xuXG5cdHByaXZhdGUgX2hpdFJlbmRlcmFibGU6UmVuZGVyYWJsZUJhc2U7XG5cdHByaXZhdGUgX2hpdEVudGl0eTpJRW50aXR5O1xuXHRwcml2YXRlIF9sb2NhbEhpdFBvc2l0aW9uOlZlY3RvcjNEID0gbmV3IFZlY3RvcjNEKCk7XG5cdHByaXZhdGUgX2hpdFVWOlBvaW50ID0gbmV3IFBvaW50KCk7XG5cdHByaXZhdGUgX2ZhY2VJbmRleDpudW1iZXI7XG5cdHByaXZhdGUgX3N1Ykdlb21ldHJ5SW5kZXg6bnVtYmVyO1xuXG5cdHByaXZhdGUgX2xvY2FsSGl0Tm9ybWFsOlZlY3RvcjNEID0gbmV3IFZlY3RvcjNEKCk7XG5cblx0cHJpdmF0ZSBfcmF5UG9zOlZlY3RvcjNEID0gbmV3IFZlY3RvcjNEKCk7XG5cdHByaXZhdGUgX3JheURpcjpWZWN0b3IzRCA9IG5ldyBWZWN0b3IzRCgpO1xuXHRwcml2YXRlIF9wb3RlbnRpYWxGb3VuZDpib29sZWFuO1xuXHRwcml2YXRlIHN0YXRpYyBNT1VTRV9TQ0lTU09SX1JFQ1Q6UmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuXHRwcml2YXRlIF9zaGFkZXJQaWNraW5nRGV0YWlsczpib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0cHVibGljIGdldCBvbmx5TW91c2VFbmFibGVkKCk6Ym9vbGVhblxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX29ubHlNb3VzZUVuYWJsZWQ7XG5cdH1cblxuXHRwdWJsaWMgc2V0IG9ubHlNb3VzZUVuYWJsZWQodmFsdWU6Ym9vbGVhbilcblx0e1xuXHRcdHRoaXMuX29ubHlNb3VzZUVuYWJsZWQgPSB2YWx1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IDxjb2RlPlNoYWRlclBpY2tlcjwvY29kZT4gb2JqZWN0LlxuXHQgKlxuXHQgKiBAcGFyYW0gc2hhZGVyUGlja2luZ0RldGFpbHMgRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwaWNrZXIgaW5jbHVkZXMgYSBzZWNvbmQgcGFzcyB0byBjYWxjdWxhdGUgZXh0cmFcblx0ICogcHJvcGVydGllcyBzdWNoIGFzIHV2IGFuZCBub3JtYWwgY29vcmRpbmF0ZXMuXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihzaGFkZXJQaWNraW5nRGV0YWlsczpib29sZWFuID0gZmFsc2UpXG5cdHtcblx0XHR0aGlzLl9zaGFkZXJQaWNraW5nRGV0YWlscyA9IHNoYWRlclBpY2tpbmdEZXRhaWxzO1xuXG5cdFx0dGhpcy5faWQgPSBuZXcgQXJyYXk8bnVtYmVyPig0KTtcblx0XHR0aGlzLl92aWV3cG9ydERhdGEgPSBuZXcgQXJyYXk8bnVtYmVyPig0KTsgLy8gZmlyc3QgMiBjb250YWluIHNjYWxlLCBsYXN0IDIgdHJhbnNsYXRpb25cblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlID0gbmV3IEFycmF5PG51bWJlcj4oOCk7IC8vIGZpcnN0IDIgY29udGFpbiBzY2FsZSwgbGFzdCAyIHRyYW5zbGF0aW9uXG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZVszXSA9IDA7XG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZVs3XSA9IDE7XG5cdH1cblxuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdHB1YmxpYyBnZXRWaWV3Q29sbGlzaW9uKHg6bnVtYmVyLCB5Om51bWJlciwgdmlldzpWaWV3KTpQaWNraW5nQ29sbGlzaW9uVk9cblx0e1xuXHRcdHZhciBjb2xsZWN0b3I6RW50aXR5Q29sbGVjdG9yID0gPEVudGl0eUNvbGxlY3Rvcj4gdmlldy5pRW50aXR5Q29sbGVjdG9yO1xuXG5cdFx0dGhpcy5fc3RhZ2UgPSAoPERlZmF1bHRSZW5kZXJlcj4gdmlldy5yZW5kZXJlcikuc3RhZ2U7XG5cblx0XHRpZiAoIXRoaXMuX3N0YWdlKVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR0aGlzLl9jb250ZXh0ID0gPElDb250ZXh0R0w+IHRoaXMuX3N0YWdlLmNvbnRleHQ7XG5cblx0XHR0aGlzLl92aWV3cG9ydERhdGFbMF0gPSB2aWV3LndpZHRoO1xuXHRcdHRoaXMuX3ZpZXdwb3J0RGF0YVsxXSA9IHZpZXcuaGVpZ2h0O1xuXHRcdHRoaXMuX3ZpZXdwb3J0RGF0YVsyXSA9IC0odGhpcy5fcHJvalggPSAyKngvdmlldy53aWR0aCAtIDEpO1xuXHRcdHRoaXMuX3ZpZXdwb3J0RGF0YVszXSA9IHRoaXMuX3Byb2pZID0gMip5L3ZpZXcuaGVpZ2h0IC0gMTtcblxuXHRcdC8vIF9wb3RlbnRpYWxGb3VuZCB3aWxsIGJlIHNldCB0byB0cnVlIGlmIGFueSBvYmplY3QgaXMgYWN0dWFsbHkgcmVuZGVyZWRcblx0XHR0aGlzLl9wb3RlbnRpYWxGb3VuZCA9IGZhbHNlO1xuXG5cdFx0Ly9yZXNldCBoZWFkIHZhbHVlc1xuXHRcdHRoaXMuX2JsZW5kZWRSZW5kZXJhYmxlSGVhZCA9IG51bGw7XG5cdFx0dGhpcy5fb3BhcXVlUmVuZGVyYWJsZUhlYWQgPSBudWxsO1xuXG5cdFx0dGhpcy5wRHJhdyhjb2xsZWN0b3IsIG51bGwpO1xuXG5cdFx0Ly8gY2xlYXIgYnVmZmVyc1xuXHRcdHRoaXMuX2NvbnRleHQuc2V0VmVydGV4QnVmZmVyQXQoMCwgbnVsbCk7XG5cblx0XHRpZiAoIXRoaXMuX2NvbnRleHQgfHwgIXRoaXMuX3BvdGVudGlhbEZvdW5kKVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRpZiAoIXRoaXMuX2JpdG1hcERhdGEpXG5cdFx0XHR0aGlzLl9iaXRtYXBEYXRhID0gbmV3IEJpdG1hcERhdGEoMSwgMSwgZmFsc2UsIDApO1xuXG5cdFx0dGhpcy5fY29udGV4dC5kcmF3VG9CaXRtYXBEYXRhKHRoaXMuX2JpdG1hcERhdGEpO1xuXHRcdHRoaXMuX2hpdENvbG9yID0gdGhpcy5fYml0bWFwRGF0YS5nZXRQaXhlbCgwLCAwKTtcblxuXHRcdGlmICghdGhpcy5faGl0Q29sb3IpIHtcblx0XHRcdHRoaXMuX2NvbnRleHQucHJlc2VudCgpO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0dGhpcy5faGl0UmVuZGVyYWJsZSA9IHRoaXMuX2ludGVyYWN0aXZlc1t0aGlzLl9oaXRDb2xvciAtIDFdO1xuXHRcdHRoaXMuX2hpdEVudGl0eSA9IHRoaXMuX2hpdFJlbmRlcmFibGUuc291cmNlRW50aXR5O1xuXG5cdFx0aWYgKHRoaXMuX29ubHlNb3VzZUVuYWJsZWQgJiYgIXRoaXMuX2hpdEVudGl0eS5faUlzTW91c2VFbmFibGVkKCkpXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdHZhciBfY29sbGlzaW9uVk86UGlja2luZ0NvbGxpc2lvblZPID0gdGhpcy5faGl0RW50aXR5Ll9pUGlja2luZ0NvbGxpc2lvblZPO1xuXHRcdGlmICh0aGlzLl9zaGFkZXJQaWNraW5nRGV0YWlscykge1xuXHRcdFx0dGhpcy5nZXRIaXREZXRhaWxzKHZpZXcuY2FtZXJhKTtcblx0XHRcdF9jb2xsaXNpb25WTy5sb2NhbFBvc2l0aW9uID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbjtcblx0XHRcdF9jb2xsaXNpb25WTy5sb2NhbE5vcm1hbCA9IHRoaXMuX2xvY2FsSGl0Tm9ybWFsO1xuXHRcdFx0X2NvbGxpc2lvblZPLnV2ID0gdGhpcy5faGl0VVY7XG5cdFx0XHRfY29sbGlzaW9uVk8uaW5kZXggPSB0aGlzLl9mYWNlSW5kZXg7XG5cdFx0XHQvL19jb2xsaXNpb25WTy5zdWJHZW9tZXRyeUluZGV4ID0gdGhpcy5fc3ViR2VvbWV0cnlJbmRleDtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRfY29sbGlzaW9uVk8ubG9jYWxQb3NpdGlvbiA9IG51bGw7XG5cdFx0XHRfY29sbGlzaW9uVk8ubG9jYWxOb3JtYWwgPSBudWxsO1xuXHRcdFx0X2NvbGxpc2lvblZPLnV2ID0gbnVsbDtcblx0XHRcdF9jb2xsaXNpb25WTy5pbmRleCA9IDA7XG5cdFx0XHQvL19jb2xsaXNpb25WTy5zdWJHZW9tZXRyeUluZGV4ID0gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gX2NvbGxpc2lvblZPO1xuXHR9XG5cblx0Ly8qL1xuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdHB1YmxpYyBnZXRTY2VuZUNvbGxpc2lvbihwb3NpdGlvbjpWZWN0b3IzRCwgZGlyZWN0aW9uOlZlY3RvcjNELCBzY2VuZTpTY2VuZSk6UGlja2luZ0NvbGxpc2lvblZPXG5cdHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0cHVibGljIHBEcmF3KGVudGl0eUNvbGxlY3RvcjpFbnRpdHlDb2xsZWN0b3IsIHRhcmdldDpJVGV4dHVyZUJhc2UpXG5cdHtcblxuXHRcdHZhciBjYW1lcmE6Q2FtZXJhID0gZW50aXR5Q29sbGVjdG9yLmNhbWVyYTtcblxuXHRcdHRoaXMuX2NvbnRleHQuY2xlYXIoMCwgMCwgMCwgMSk7XG5cdFx0dGhpcy5fc3RhZ2Uuc2Npc3NvclJlY3QgPSBTaGFkZXJQaWNrZXIuTU9VU0VfU0NJU1NPUl9SRUNUO1xuXG5cdFx0dGhpcy5faW50ZXJhY3RpdmVzLmxlbmd0aCA9IHRoaXMuX2ludGVyYWN0aXZlSWQgPSAwO1xuXG5cdFx0aWYgKCF0aGlzLl9vYmplY3RQcm9ncmFtKVxuXHRcdFx0dGhpcy5pbml0T2JqZWN0UHJvZ3JhbSgpO1xuXG5cdFx0dGhpcy5fY29udGV4dC5zZXRCbGVuZEZhY3RvcnMoQ29udGV4dEdMQmxlbmRGYWN0b3IuT05FLCBDb250ZXh0R0xCbGVuZEZhY3Rvci5aRVJPKTtcblx0XHR0aGlzLl9jb250ZXh0LnNldERlcHRoVGVzdCh0cnVlLCBDb250ZXh0R0xDb21wYXJlTW9kZS5MRVNTKTtcblx0XHR0aGlzLl9jb250ZXh0LnNldFByb2dyYW0odGhpcy5fb2JqZWN0UHJvZ3JhbSk7XG5cdFx0dGhpcy5fY29udGV4dC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbUFycmF5KENvbnRleHRHTFByb2dyYW1UeXBlLlZFUlRFWCwgNCwgdGhpcy5fdmlld3BvcnREYXRhLCAxKTtcblx0XHQvL3RoaXMuZHJhd1JlbmRlcmFibGVzKGVudGl0eUNvbGxlY3Rvci5vcGFxdWVSZW5kZXJhYmxlSGVhZCwgY2FtZXJhKTtcblx0XHQvL3RoaXMuZHJhd1JlbmRlcmFibGVzKGVudGl0eUNvbGxlY3Rvci5ibGVuZGVkUmVuZGVyYWJsZUhlYWQsIGNhbWVyYSk7XG5cdFx0Ly9UT0RPOiByZWltcGxlbWVudCBTaGFkZXJQaWNrZXIgaW5oZXJpdGluZyBmcm9tIFJlbmRlcmVyQmFzZVxuXHR9XG5cblx0LyoqXG5cdCAqIERyYXcgYSBsaXN0IG9mIHJlbmRlcmFibGVzLlxuXHQgKiBAcGFyYW0gcmVuZGVyYWJsZXMgVGhlIHJlbmRlcmFibGVzIHRvIGRyYXcuXG5cdCAqIEBwYXJhbSBjYW1lcmEgVGhlIGNhbWVyYSBmb3Igd2hpY2ggdG8gcmVuZGVyLlxuXHQgKi9cblx0cHJpdmF0ZSBkcmF3UmVuZGVyYWJsZXMocmVuZGVyYWJsZTpSZW5kZXJhYmxlQmFzZSwgY2FtZXJhOkNhbWVyYSlcblx0e1xuXHRcdHZhciBtYXRyaXg6TWF0cml4M0QgPSBNYXRyaXgzRFV0aWxzLkNBTENVTEFUSU9OX01BVFJJWDtcblx0XHR2YXIgdmlld1Byb2plY3Rpb246TWF0cml4M0QgPSBjYW1lcmEudmlld1Byb2plY3Rpb247XG5cblx0XHR3aGlsZSAocmVuZGVyYWJsZSkge1xuXHRcdFx0Ly8gaXQncyBwb3NzaWJsZSB0aGF0IHRoZSByZW5kZXJhYmxlIHdhcyBhbHJlYWR5IHJlbW92ZWQgZnJvbSB0aGUgc2NlbmVcblx0XHRcdGlmICghcmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuc2NlbmUgfHwgIXJlbmRlcmFibGUuc291cmNlRW50aXR5Ll9pSXNNb3VzZUVuYWJsZWQoKSkge1xuXHRcdFx0XHRyZW5kZXJhYmxlID0gcmVuZGVyYWJsZS5uZXh0O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fcG90ZW50aWFsRm91bmQgPSB0cnVlO1xuXG5cdFx0XHR0aGlzLl9jb250ZXh0LnNldEN1bGxpbmcoKDxNYXRlcmlhbEJhc2U+IHJlbmRlcmFibGUubWF0ZXJpYWxPd25lci5tYXRlcmlhbCkuYm90aFNpZGVzPyBDb250ZXh0R0xUcmlhbmdsZUZhY2UuTk9ORSA6IENvbnRleHRHTFRyaWFuZ2xlRmFjZS5CQUNLLCBjYW1lcmEucHJvamVjdGlvbi5jb29yZGluYXRlU3lzdGVtKTtcblxuXHRcdFx0dGhpcy5faW50ZXJhY3RpdmVzW3RoaXMuX2ludGVyYWN0aXZlSWQrK10gPSByZW5kZXJhYmxlO1xuXHRcdFx0Ly8gY29sb3IgY29kZSBzbyB0aGF0IHJlYWRpbmcgZnJvbSBiaXRtYXBkYXRhIHdpbGwgY29udGFpbiB0aGUgY29ycmVjdCB2YWx1ZVxuXHRcdFx0dGhpcy5faWRbMV0gPSAodGhpcy5faW50ZXJhY3RpdmVJZCA+PiA4KS8yNTU7IC8vIG9uIGdyZWVuIGNoYW5uZWxcblx0XHRcdHRoaXMuX2lkWzJdID0gKHRoaXMuX2ludGVyYWN0aXZlSWQgJiAweGZmKS8yNTU7IC8vIG9uIGJsdWUgY2hhbm5lbFxuXG5cdFx0XHRtYXRyaXguY29weUZyb20ocmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuZ2V0UmVuZGVyU2NlbmVUcmFuc2Zvcm0oY2FtZXJhKSk7XG5cdFx0XHRtYXRyaXguYXBwZW5kKHZpZXdQcm9qZWN0aW9uKTtcblx0XHRcdHRoaXMuX2NvbnRleHQuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21NYXRyaXgoQ29udGV4dEdMUHJvZ3JhbVR5cGUuVkVSVEVYLCAwLCBtYXRyaXgsIHRydWUpO1xuXHRcdFx0dGhpcy5fY29udGV4dC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbUFycmF5KENvbnRleHRHTFByb2dyYW1UeXBlLkZSQUdNRU5ULCAwLCB0aGlzLl9pZCwgMSk7XG5cdFx0XHR0aGlzLl9zdGFnZS5hY3RpdmF0ZUJ1ZmZlcigwLCByZW5kZXJhYmxlLmdldFZlcnRleERhdGEoVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9EQVRBKSwgcmVuZGVyYWJsZS5nZXRWZXJ0ZXhPZmZzZXQoVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9EQVRBKSwgVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9GT1JNQVQpO1xuXHRcdFx0dGhpcy5fY29udGV4dC5kcmF3VHJpYW5nbGVzKHRoaXMuX3N0YWdlLmdldEluZGV4QnVmZmVyKHJlbmRlcmFibGUuZ2V0SW5kZXhEYXRhKCkpLCAwLCByZW5kZXJhYmxlLm51bVRyaWFuZ2xlcyk7XG5cblx0XHRcdHJlbmRlcmFibGUgPSByZW5kZXJhYmxlLm5leHQ7XG5cdFx0fVxuXG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZVJheShjYW1lcmE6Q2FtZXJhKVxuXHR7XG5cdFx0dGhpcy5fcmF5UG9zID0gY2FtZXJhLnNjZW5lUG9zaXRpb247XG5cblx0XHR0aGlzLl9yYXlEaXIgPSBjYW1lcmEuZ2V0UmF5KHRoaXMuX3Byb2pYLCB0aGlzLl9wcm9qWSwgMSk7XG5cdFx0dGhpcy5fcmF5RGlyLm5vcm1hbGl6ZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIFByb2dyYW0gdGhhdCBjb2xvci1jb2RlcyBvYmplY3RzLlxuXHQgKi9cblx0cHJpdmF0ZSBpbml0T2JqZWN0UHJvZ3JhbSgpXG5cdHtcblx0XHR2YXIgdmVydGV4Q29kZTpzdHJpbmc7XG5cdFx0dmFyIGZyYWdtZW50Q29kZTpzdHJpbmc7XG5cblx0XHR0aGlzLl9vYmplY3RQcm9ncmFtID0gdGhpcy5fY29udGV4dC5jcmVhdGVQcm9ncmFtKCk7XG5cblx0XHR2ZXJ0ZXhDb2RlID0gXCJtNDQgdnQwLCB2YTAsIHZjMFx0XHRcdFxcblwiICsgXCJtdWwgdnQxLnh5LCB2dDAudywgdmM0Lnp3XHRcXG5cIiArIFwiYWRkIHZ0MC54eSwgdnQwLnh5LCB2dDEueHlcdFxcblwiICsgXCJtdWwgdnQwLnh5LCB2dDAueHksIHZjNC54eVx0XFxuXCIgKyBcIm1vdiBvcCwgdnQwXHRcXG5cIjtcblx0XHRmcmFnbWVudENvZGUgPSBcIm1vdiBvYywgZmMwXCI7IC8vIHdyaXRlIGlkZW50aWZpZXJcblxuXHRcdERlYnVnLnRocm93UElSKCdTaGFkZXJQaWNrZXInLCAnaW5pdFRyaWFuZ2xlUHJvZ3JhbScsICdEZXBlbmRlbmN5OiBpbml0T2JqZWN0UHJvZ3JhbScpXG5cdFx0Ly9fb2JqZWN0UHJvZ3JhbS51cGxvYWQobmV3IEFHQUxNaW5pQXNzZW1ibGVyKCkuYXNzZW1ibGUoQ29udGV4dEdMUHJvZ3JhbVR5cGUuVkVSVEVYLCB2ZXJ0ZXhDb2RlKSxuZXcgQUdBTE1pbmlBc3NlbWJsZXIoKS5hc3NlbWJsZShDb250ZXh0R0xQcm9ncmFtVHlwZS5GUkFHTUVOVCwgZnJhZ21lbnRDb2RlKSk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyB0aGUgUHJvZ3JhbSB0aGF0IHJlbmRlcnMgcG9zaXRpb25zLlxuXHQgKi9cblxuXHRwcml2YXRlIGluaXRUcmlhbmdsZVByb2dyYW0oKVxuXHR7XG5cdFx0dmFyIHZlcnRleENvZGU6c3RyaW5nO1xuXHRcdHZhciBmcmFnbWVudENvZGU6c3RyaW5nO1xuXG5cdFx0dGhpcy5fdHJpYW5nbGVQcm9ncmFtID0gdGhpcy5fY29udGV4dC5jcmVhdGVQcm9ncmFtKCk7XG5cblx0XHQvLyB0b2RvOiBhZGQgYW5pbWF0aW9uIGNvZGVcblx0XHR2ZXJ0ZXhDb2RlID0gXCJhZGQgdnQwLCB2YTAsIHZjNSBcdFx0XHRcXG5cIiArIFwibXVsIHZ0MCwgdnQwLCB2YzYgXHRcdFx0XFxuXCIgKyBcIm1vdiB2MCwgdnQwXHRcdFx0XHRcXG5cIiArIFwibTQ0IHZ0MCwgdmEwLCB2YzBcdFx0XHRcXG5cIiArIFwibXVsIHZ0MS54eSwgdnQwLncsIHZjNC56d1x0XFxuXCIgKyBcImFkZCB2dDAueHksIHZ0MC54eSwgdnQxLnh5XHRcXG5cIiArIFwibXVsIHZ0MC54eSwgdnQwLnh5LCB2YzQueHlcdFxcblwiICsgXCJtb3Ygb3AsIHZ0MFx0XFxuXCI7XG5cdFx0ZnJhZ21lbnRDb2RlID0gXCJtb3Ygb2MsIHYwXCI7IC8vIHdyaXRlIGlkZW50aWZpZXJcblxuXHRcdHZhciB2ZXJ0ZXhCeXRlQ29kZTpCeXRlQXJyYXkgPSAobmV3IEFHQUxNaW5pQXNzZW1ibGVyKCkuYXNzZW1ibGUoXCJwYXJ0IHZlcnRleCAxXFxuXCIgKyB2ZXJ0ZXhDb2RlICsgXCJlbmRwYXJ0XCIpKVsndmVydGV4J10uZGF0YTtcblx0XHR2YXIgZnJhZ21lbnRCeXRlQ29kZTpCeXRlQXJyYXkgPSAobmV3IEFHQUxNaW5pQXNzZW1ibGVyKCkuYXNzZW1ibGUoXCJwYXJ0IGZyYWdtZW50IDFcXG5cIiArIGZyYWdtZW50Q29kZSArIFwiZW5kcGFydFwiKSlbJ2ZyYWdtZW50J10uZGF0YTtcblx0XHR0aGlzLl90cmlhbmdsZVByb2dyYW0udXBsb2FkKHZlcnRleEJ5dGVDb2RlLCBmcmFnbWVudEJ5dGVDb2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpciBwb3NpdGlvbiwgaWYgcmVxdWlyZWQuXG5cdCAqIEBwYXJhbSBjYW1lcmEgVGhlIGNhbWVyYSB1c2VkIHRvIHZpZXcgdGhlIGhpdCBvYmplY3QuXG5cdCAqL1xuXHRwcml2YXRlIGdldEhpdERldGFpbHMoY2FtZXJhOkNhbWVyYSlcblx0e1xuXHRcdHRoaXMuZ2V0QXBwcm94aW1hdGVQb3NpdGlvbihjYW1lcmEpO1xuXHRcdHRoaXMuZ2V0UHJlY2lzZURldGFpbHMoY2FtZXJhKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGaW5kcyBhIGZpcnN0LWd1ZXNzIGFwcHJveGltYXRlIHBvc2l0aW9uIGFib3V0IHRoZSBoaXQgcG9zaXRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSBjYW1lcmEgVGhlIGNhbWVyYSB1c2VkIHRvIHZpZXcgdGhlIGhpdCBvYmplY3QuXG5cdCAqL1xuXHRwcml2YXRlIGdldEFwcHJveGltYXRlUG9zaXRpb24oY2FtZXJhOkNhbWVyYSlcblx0e1xuXHRcdHZhciBib3VuZHM6Qm94ID0gdGhpcy5faGl0UmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuYm91bmRzLmFhYmI7XG5cdFx0dmFyIGNvbDpudW1iZXI7XG5cdFx0dmFyIHNjWDpudW1iZXIsIHNjWTpudW1iZXIsIHNjWjpudW1iZXI7XG5cdFx0dmFyIG9mZnNYOm51bWJlciwgb2Zmc1k6bnVtYmVyLCBvZmZzWjpudW1iZXI7XG5cdFx0dmFyIGxvY2FsVmlld1Byb2plY3Rpb246TWF0cml4M0QgPSBNYXRyaXgzRFV0aWxzLkNBTENVTEFUSU9OX01BVFJJWDtcblxuXHRcdGxvY2FsVmlld1Byb2plY3Rpb24uY29weUZyb20odGhpcy5faGl0UmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuZ2V0UmVuZGVyU2NlbmVUcmFuc2Zvcm0oY2FtZXJhKSk7XG5cdFx0bG9jYWxWaWV3UHJvamVjdGlvbi5hcHBlbmQoY2FtZXJhLnZpZXdQcm9qZWN0aW9uKTtcblx0XHRpZiAoIXRoaXMuX3RyaWFuZ2xlUHJvZ3JhbSkge1xuXHRcdFx0dGhpcy5pbml0VHJpYW5nbGVQcm9ncmFtKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZVs0XSA9IDEvKHNjWCA9IGJvdW5kcy53aWR0aCk7XG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZVs1XSA9IDEvKHNjWSA9IGJvdW5kcy5oZWlnaHQpO1xuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGVbNl0gPSAxLyhzY1ogPSBib3VuZHMuZGVwdGgpO1xuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGVbMF0gPSBvZmZzWCA9IC1ib3VuZHMueDtcblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlWzFdID0gb2Zmc1kgPSAtYm91bmRzLnk7XG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZVsyXSA9IG9mZnNaID0gLWJvdW5kcy56O1xuXG5cdFx0dGhpcy5fY29udGV4dC5zZXRQcm9ncmFtKHRoaXMuX3RyaWFuZ2xlUHJvZ3JhbSk7XG5cdFx0dGhpcy5fY29udGV4dC5jbGVhcigwLCAwLCAwLCAwLCAxLCAwLCBDb250ZXh0R0xDbGVhck1hc2suREVQVEgpO1xuXHRcdHRoaXMuX2NvbnRleHQuc2V0U2Npc3NvclJlY3RhbmdsZShTaGFkZXJQaWNrZXIuTU9VU0VfU0NJU1NPUl9SRUNUKTtcblx0XHR0aGlzLl9jb250ZXh0LnNldFByb2dyYW1Db25zdGFudHNGcm9tTWF0cml4KENvbnRleHRHTFByb2dyYW1UeXBlLlZFUlRFWCwgMCwgbG9jYWxWaWV3UHJvamVjdGlvbiwgdHJ1ZSk7XG5cdFx0dGhpcy5fY29udGV4dC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbUFycmF5KENvbnRleHRHTFByb2dyYW1UeXBlLlZFUlRFWCwgNSwgdGhpcy5fYm91bmRPZmZzZXRTY2FsZSwgMik7XG5cblx0XHR0aGlzLl9zdGFnZS5hY3RpdmF0ZUJ1ZmZlcigwLCB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleERhdGEoVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9EQVRBKSwgdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhPZmZzZXQoVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9EQVRBKSwgVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9GT1JNQVQpO1xuXHRcdHRoaXMuX2NvbnRleHQuZHJhd1RyaWFuZ2xlcyh0aGlzLl9zdGFnZS5nZXRJbmRleEJ1ZmZlcih0aGlzLl9oaXRSZW5kZXJhYmxlLmdldEluZGV4RGF0YSgpKSwgMCwgdGhpcy5faGl0UmVuZGVyYWJsZS5udW1UcmlhbmdsZXMpO1xuXG5cdFx0dGhpcy5fY29udGV4dC5kcmF3VG9CaXRtYXBEYXRhKHRoaXMuX2JpdG1hcERhdGEpO1xuXG5cdFx0Y29sID0gdGhpcy5fYml0bWFwRGF0YS5nZXRQaXhlbCgwLCAwKTtcblxuXHRcdHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueCA9ICgoY29sID4+IDE2KSAmIDB4ZmYpKnNjWC8yNTUgLSBvZmZzWDtcblx0XHR0aGlzLl9sb2NhbEhpdFBvc2l0aW9uLnkgPSAoKGNvbCA+PiA4KSAmIDB4ZmYpKnNjWS8yNTUgLSBvZmZzWTtcblx0XHR0aGlzLl9sb2NhbEhpdFBvc2l0aW9uLnogPSAoY29sICYgMHhmZikqc2NaLzI1NSAtIG9mZnNaO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVzZSB0aGUgYXBwcm94aW1hdGUgcG9zaXRpb24gaW5mbyB0byBmaW5kIHRoZSBmYWNlIHVuZGVyIHRoZSBtb3VzZSBwb3NpdGlvbiBmcm9tIHdoaWNoIHdlIGNhbiBkZXJpdmUgdGhlIHByZWNpc2Vcblx0ICogcmF5LWZhY2UgaW50ZXJzZWN0aW9uIHBvaW50LCB0aGVuIHVzZSBiYXJ5Y2VudHJpYyBjb29yZGluYXRlcyB0byBmaWd1cmUgb3V0IHRoZSB1diBjb29yZGluYXRlcywgZXRjLlxuXHQgKiBAcGFyYW0gY2FtZXJhIFRoZSBjYW1lcmEgdXNlZCB0byB2aWV3IHRoZSBoaXQgb2JqZWN0LlxuXHQgKi9cblx0cHJpdmF0ZSBnZXRQcmVjaXNlRGV0YWlscyhjYW1lcmE6Q2FtZXJhKVxuXHR7XG5cdFx0dmFyIGxlbjpudW1iZXIgPSBpbmRpY2VzLmxlbmd0aDtcblx0XHR2YXIgeDE6bnVtYmVyLCB5MTpudW1iZXIsIHoxOm51bWJlcjtcblx0XHR2YXIgeDI6bnVtYmVyLCB5MjpudW1iZXIsIHoyOm51bWJlcjtcblx0XHR2YXIgeDM6bnVtYmVyLCB5MzpudW1iZXIsIHozOm51bWJlcjtcblx0XHR2YXIgaTpudW1iZXIgPSAwLCBqOm51bWJlciA9IDEsIGs6bnVtYmVyID0gMjtcblx0XHR2YXIgdDE6bnVtYmVyLCB0MjpudW1iZXIsIHQzOm51bWJlcjtcblx0XHR2YXIgdjB4Om51bWJlciwgdjB5Om51bWJlciwgdjB6Om51bWJlcjtcblx0XHR2YXIgdjF4Om51bWJlciwgdjF5Om51bWJlciwgdjF6Om51bWJlcjtcblx0XHR2YXIgdjJ4Om51bWJlciwgdjJ5Om51bWJlciwgdjJ6Om51bWJlcjtcblx0XHR2YXIgbmkxOm51bWJlciwgbmkyOm51bWJlciwgbmkzOm51bWJlcjtcblx0XHR2YXIgbjE6bnVtYmVyLCBuMjpudW1iZXIsIG4zOm51bWJlciwgbkxlbmd0aDpudW1iZXI7XG5cdFx0dmFyIGRvdDAwOm51bWJlciwgZG90MDE6bnVtYmVyLCBkb3QwMjpudW1iZXIsIGRvdDExOm51bWJlciwgZG90MTI6bnVtYmVyO1xuXHRcdHZhciBzOm51bWJlciwgdDpudW1iZXIsIGludkRlbm9tOm51bWJlcjtcblx0XHR2YXIgeDpudW1iZXIgPSB0aGlzLl9sb2NhbEhpdFBvc2l0aW9uLngsIHk6bnVtYmVyID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi55LCB6Om51bWJlciA9IHRoaXMuX2xvY2FsSGl0UG9zaXRpb24uejtcblx0XHR2YXIgdTpudW1iZXIsIHY6bnVtYmVyO1xuXHRcdHZhciB1aTE6bnVtYmVyLCB1aTI6bnVtYmVyLCB1aTM6bnVtYmVyO1xuXHRcdHZhciBzMHg6bnVtYmVyLCBzMHk6bnVtYmVyLCBzMHo6bnVtYmVyO1xuXHRcdHZhciBzMXg6bnVtYmVyLCBzMXk6bnVtYmVyLCBzMXo6bnVtYmVyO1xuXHRcdHZhciBubDpudW1iZXI7XG5cdFx0dmFyIGluZGljZXM6QXJyYXk8bnVtYmVyPiA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0SW5kZXhEYXRhKCkuZGF0YTtcblxuXHRcdHZhciBwb3NpdGlvbnM6QXJyYXk8bnVtYmVyPiA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0RBVEEpLmRhdGE7XG5cdFx0dmFyIHBvc2l0aW9uU3RyaWRlOm51bWJlciA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0RBVEEpLmRhdGFQZXJWZXJ0ZXg7XG5cdFx0dmFyIHBvc2l0aW9uT2Zmc2V0Om51bWJlciA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4T2Zmc2V0KFRyaWFuZ2xlU3ViR2VvbWV0cnkuUE9TSVRJT05fREFUQSk7XG5cblx0XHR2YXIgdXZzOkFycmF5PG51bWJlcj4gPSB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleERhdGEoVHJpYW5nbGVTdWJHZW9tZXRyeS5VVl9EQVRBKS5kYXRhO1xuXHRcdHZhciB1dlN0cmlkZTpudW1iZXIgPSB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleERhdGEoVHJpYW5nbGVTdWJHZW9tZXRyeS5VVl9EQVRBKS5kYXRhUGVyVmVydGV4O1xuXHRcdHZhciB1dk9mZnNldDpudW1iZXIgPSB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleE9mZnNldChUcmlhbmdsZVN1Ykdlb21ldHJ5LlVWX0RBVEEpO1xuXG5cdFx0dmFyIG5vcm1hbHM6QXJyYXk8bnVtYmVyPiA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5Lk5PUk1BTF9EQVRBKS5kYXRhO1xuXHRcdHZhciBub3JtYWxTdHJpZGU6bnVtYmVyID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuTk9STUFMX0RBVEEpLmRhdGFQZXJWZXJ0ZXg7XG5cdFx0dmFyIG5vcm1hbE9mZnNldDpudW1iZXIgPSB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleE9mZnNldChUcmlhbmdsZVN1Ykdlb21ldHJ5Lk5PUk1BTF9EQVRBKTtcblxuXHRcdHRoaXMudXBkYXRlUmF5KGNhbWVyYSk7XG5cblx0XHR3aGlsZSAoaSA8IGxlbikge1xuXHRcdFx0dDEgPSBwb3NpdGlvbk9mZnNldCArIGluZGljZXNbaV0qcG9zaXRpb25TdHJpZGU7XG5cdFx0XHR0MiA9IHBvc2l0aW9uT2Zmc2V0ICsgaW5kaWNlc1tqXSpwb3NpdGlvblN0cmlkZTtcblx0XHRcdHQzID0gcG9zaXRpb25PZmZzZXQgKyBpbmRpY2VzW2tdKnBvc2l0aW9uU3RyaWRlO1xuXHRcdFx0eDEgPSBwb3NpdGlvbnNbdDFdO1xuXHRcdFx0eTEgPSBwb3NpdGlvbnNbdDEgKyAxXTtcblx0XHRcdHoxID0gcG9zaXRpb25zW3QxICsgMl07XG5cdFx0XHR4MiA9IHBvc2l0aW9uc1t0Ml07XG5cdFx0XHR5MiA9IHBvc2l0aW9uc1t0MiArIDFdO1xuXHRcdFx0ejIgPSBwb3NpdGlvbnNbdDIgKyAyXTtcblx0XHRcdHgzID0gcG9zaXRpb25zW3QzXTtcblx0XHRcdHkzID0gcG9zaXRpb25zW3QzICsgMV07XG5cdFx0XHR6MyA9IHBvc2l0aW9uc1t0MyArIDJdO1xuXG5cdFx0XHQvLyBpZiB3aXRoaW4gYm91bmRzXG5cdFx0XHRpZiAoISggICAgKHggPCB4MSAmJiB4IDwgeDIgJiYgeCA8IHgzKSB8fCAoeSA8IHkxICYmIHkgPCB5MiAmJiB5IDwgeTMpIHx8ICh6IDwgejEgJiYgeiA8IHoyICYmIHogPCB6MykgfHwgKHggPiB4MSAmJiB4ID4geDIgJiYgeCA+IHgzKSB8fCAoeSA+IHkxICYmIHkgPiB5MiAmJiB5ID4geTMpIHx8ICh6ID4gejEgJiYgeiA+IHoyICYmIHogPiB6MykpKSB7XG5cblx0XHRcdFx0Ly8gY2FsY3VsYXRlIGJhcnljZW50cmljIGNvb3JkcyBmb3IgYXBwcm94aW1hdGVkIHBvc2l0aW9uXG5cdFx0XHRcdHYweCA9IHgzIC0geDE7XG5cdFx0XHRcdHYweSA9IHkzIC0geTE7XG5cdFx0XHRcdHYweiA9IHozIC0gejE7XG5cdFx0XHRcdHYxeCA9IHgyIC0geDE7XG5cdFx0XHRcdHYxeSA9IHkyIC0geTE7XG5cdFx0XHRcdHYxeiA9IHoyIC0gejE7XG5cdFx0XHRcdHYyeCA9IHggLSB4MTtcblx0XHRcdFx0djJ5ID0geSAtIHkxO1xuXHRcdFx0XHR2MnogPSB6IC0gejE7XG5cdFx0XHRcdGRvdDAwID0gdjB4KnYweCArIHYweSp2MHkgKyB2MHoqdjB6O1xuXHRcdFx0XHRkb3QwMSA9IHYweCp2MXggKyB2MHkqdjF5ICsgdjB6KnYxejtcblx0XHRcdFx0ZG90MDIgPSB2MHgqdjJ4ICsgdjB5KnYyeSArIHYweip2Mno7XG5cdFx0XHRcdGRvdDExID0gdjF4KnYxeCArIHYxeSp2MXkgKyB2MXoqdjF6O1xuXHRcdFx0XHRkb3QxMiA9IHYxeCp2MnggKyB2MXkqdjJ5ICsgdjF6KnYyejtcblx0XHRcdFx0aW52RGVub20gPSAxLyhkb3QwMCpkb3QxMSAtIGRvdDAxKmRvdDAxKTtcblx0XHRcdFx0cyA9IChkb3QxMSpkb3QwMiAtIGRvdDAxKmRvdDEyKSppbnZEZW5vbTtcblx0XHRcdFx0dCA9IChkb3QwMCpkb3QxMiAtIGRvdDAxKmRvdDAyKSppbnZEZW5vbTtcblxuXHRcdFx0XHQvLyBpZiBpbnNpZGUgdGhlIGN1cnJlbnQgdHJpYW5nbGUsIGZldGNoIGRldGFpbHMgaGl0IGluZm9ybWF0aW9uXG5cdFx0XHRcdGlmIChzID49IDAgJiYgdCA+PSAwICYmIChzICsgdCkgPD0gMSkge1xuXG5cdFx0XHRcdFx0bmkxID0gbm9ybWFsT2Zmc2V0ICsgaW5kaWNlc1tpXSpub3JtYWxTdHJpZGU7XG5cdFx0XHRcdFx0bmkyID0gbm9ybWFsT2Zmc2V0ICsgaW5kaWNlc1tqXSpub3JtYWxTdHJpZGU7XG5cdFx0XHRcdFx0bmkzID0gbm9ybWFsT2Zmc2V0ICsgaW5kaWNlc1trXSpub3JtYWxTdHJpZGU7XG5cblx0XHRcdFx0XHRuMSA9IGluZGljZXNbbmkxXSArIGluZGljZXNbbmkyXSArIGluZGljZXNbbmkzXTtcblx0XHRcdFx0XHRuMiA9IGluZGljZXNbbmkxICsgMV0gKyBpbmRpY2VzW25pMiArIDFdICsgaW5kaWNlc1tuaTMgKyAxXTtcblx0XHRcdFx0XHRuMyA9IGluZGljZXNbbmkxICsgMl0gKyBpbmRpY2VzW25pMiArIDJdICsgaW5kaWNlc1tuaTMgKyAyXTtcblxuXHRcdFx0XHRcdG5MZW5ndGggPSBNYXRoLnNxcnQobjEqbjEgKyBuMipuMiArIG4zKm4zKTtcblxuXHRcdFx0XHRcdG4xIC89IG5MZW5ndGg7XG5cdFx0XHRcdFx0bjIgLz0gbkxlbmd0aDtcblx0XHRcdFx0XHRuMyAvPSBuTGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gdGhpcyBpcyBkZWYgdGhlIHRyaWFuZ2xlLCBub3cgY2FsY3VsYXRlIHByZWNpc2UgY29vcmRzXG5cdFx0XHRcdFx0dGhpcy5nZXRQcmVjaXNlUG9zaXRpb24odGhpcy5faGl0UmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuaW52ZXJzZVNjZW5lVHJhbnNmb3JtLCBuMSwgbjIsIG4zLCB4MSwgeTEsIHoxKTtcblxuXHRcdFx0XHRcdHYyeCA9IHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueCAtIHgxO1xuXHRcdFx0XHRcdHYyeSA9IHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueSAtIHkxO1xuXHRcdFx0XHRcdHYyeiA9IHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueiAtIHoxO1xuXG5cdFx0XHRcdFx0czB4ID0geDIgLSB4MTsgLy8gczAgPSBwMSAtIHAwXG5cdFx0XHRcdFx0czB5ID0geTIgLSB5MTtcblx0XHRcdFx0XHRzMHogPSB6MiAtIHoxO1xuXHRcdFx0XHRcdHMxeCA9IHgzIC0geDE7IC8vIHMxID0gcDIgLSBwMFxuXHRcdFx0XHRcdHMxeSA9IHkzIC0geTE7XG5cdFx0XHRcdFx0czF6ID0gejMgLSB6MTtcblx0XHRcdFx0XHR0aGlzLl9sb2NhbEhpdE5vcm1hbC54ID0gczB5KnMxeiAtIHMweipzMXk7IC8vIG4gPSBzMCB4IHMxXG5cdFx0XHRcdFx0dGhpcy5fbG9jYWxIaXROb3JtYWwueSA9IHMweipzMXggLSBzMHgqczF6O1xuXHRcdFx0XHRcdHRoaXMuX2xvY2FsSGl0Tm9ybWFsLnogPSBzMHgqczF5IC0gczB5KnMxeDtcblx0XHRcdFx0XHRubCA9IDEvTWF0aC5zcXJ0KHRoaXMuX2xvY2FsSGl0Tm9ybWFsLngqdGhpcy5fbG9jYWxIaXROb3JtYWwueCArIHRoaXMuX2xvY2FsSGl0Tm9ybWFsLnkqdGhpcy5fbG9jYWxIaXROb3JtYWwueSArIHRoaXMuX2xvY2FsSGl0Tm9ybWFsLnoqdGhpcy5fbG9jYWxIaXROb3JtYWwueik7IC8vIG5vcm1hbGl6ZSBuXG5cdFx0XHRcdFx0dGhpcy5fbG9jYWxIaXROb3JtYWwueCAqPSBubDtcblx0XHRcdFx0XHR0aGlzLl9sb2NhbEhpdE5vcm1hbC55ICo9IG5sO1xuXHRcdFx0XHRcdHRoaXMuX2xvY2FsSGl0Tm9ybWFsLnogKj0gbmw7XG5cblx0XHRcdFx0XHRkb3QwMiA9IHYweCp2MnggKyB2MHkqdjJ5ICsgdjB6KnYyejtcblx0XHRcdFx0XHRkb3QxMiA9IHYxeCp2MnggKyB2MXkqdjJ5ICsgdjF6KnYyejtcblx0XHRcdFx0XHRzID0gKGRvdDExKmRvdDAyIC0gZG90MDEqZG90MTIpKmludkRlbm9tO1xuXHRcdFx0XHRcdHQgPSAoZG90MDAqZG90MTIgLSBkb3QwMSpkb3QwMikqaW52RGVub207XG5cblx0XHRcdFx0XHR1aTEgPSB1dk9mZnNldCArIGluZGljZXNbaV0qdXZTdHJpZGVcblx0XHRcdFx0XHR1aTIgPSB1dk9mZnNldCArIGluZGljZXNbal0qdXZTdHJpZGVcblx0XHRcdFx0XHR1aTMgPSB1dk9mZnNldCArIGluZGljZXNba10qdXZTdHJpZGVcblxuXHRcdFx0XHRcdHUgPSB1dnNbdWkxXTtcblx0XHRcdFx0XHR2ID0gdXZzW3VpMSArIDFdO1xuXHRcdFx0XHRcdHRoaXMuX2hpdFVWLnggPSB1ICsgdCoodXZzW3VpMl0gLSB1KSArIHMqKHV2c1t1aTNdIC0gdSk7XG5cdFx0XHRcdFx0dGhpcy5faGl0VVYueSA9IHYgKyB0Kih1dnNbdWkyICsgMV0gLSB2KSArIHMqKHV2c1t1aTMgKyAxXSAtIHYpO1xuXG5cdFx0XHRcdFx0dGhpcy5fZmFjZUluZGV4ID0gaTtcblx0XHRcdFx0XHQvL1RPRE8gYWRkIGJhY2sgc3ViR2VvbWV0cnlJbmRleCB2YWx1ZVxuXHRcdFx0XHRcdC8vdGhpcy5fc3ViR2VvbWV0cnlJbmRleCA9IGF3YXkudXRpbHMuR2VvbWV0cnlVdGlscy5nZXRNZXNoU3ViR2VvbWV0cnlJbmRleChzdWJHZW9tKTtcblxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpICs9IDM7XG5cdFx0XHRqICs9IDM7XG5cdFx0XHRrICs9IDM7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEZpbmRzIHRoZSBwcmVjaXNlIGhpdCBwb3NpdGlvbiBieSB1bnByb2plY3RpbmcgdGhlIHNjcmVlbiBjb29yZGluYXRlIGJhY2sgdW50byB0aGUgaGl0IGZhY2UncyBwbGFuZSBhbmRcblx0ICogY2FsY3VsYXRpbmcgdGhlIGludGVyc2VjdGlvbiBwb2ludC5cblx0ICogQHBhcmFtIGNhbWVyYSBUaGUgY2FtZXJhIHVzZWQgdG8gcmVuZGVyIHRoZSBvYmplY3QuXG5cdCAqIEBwYXJhbSBpbnZTY2VuZVRyYW5zZm9ybSBUaGUgaW52ZXJzZSBzY2VuZSB0cmFuc2Zvcm1hdGlvbiBvZiB0aGUgaGl0IG9iamVjdC5cblx0ICogQHBhcmFtIG54IFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGZhY2UncyBwbGFuZSBub3JtYWwuXG5cdCAqIEBwYXJhbSBueSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBmYWNlIHBsYW5lIG5vcm1hbC5cblx0ICogQHBhcmFtIG56IFRoZSB6LWNvb3JkaW5hdGUgb2YgdGhlIGZhY2UgcGxhbmUgbm9ybWFsLlxuXHQgKiBAcGFyYW0gcHggVGhlIHgtY29vcmRpbmF0ZSBvZiBhIHBvaW50IG9uIHRoZSBmYWNlJ3MgcGxhbmUgKGllIGEgZmFjZSB2ZXJ0ZXgpXG5cdCAqIEBwYXJhbSBweSBUaGUgeS1jb29yZGluYXRlIG9mIGEgcG9pbnQgb24gdGhlIGZhY2UncyBwbGFuZSAoaWUgYSBmYWNlIHZlcnRleClcblx0ICogQHBhcmFtIHB6IFRoZSB6LWNvb3JkaW5hdGUgb2YgYSBwb2ludCBvbiB0aGUgZmFjZSdzIHBsYW5lIChpZSBhIGZhY2UgdmVydGV4KVxuXHQgKi9cblxuXHRwcml2YXRlIGdldFByZWNpc2VQb3NpdGlvbihpbnZTY2VuZVRyYW5zZm9ybTpNYXRyaXgzRCwgbng6bnVtYmVyLCBueTpudW1iZXIsIG56Om51bWJlciwgcHg6bnVtYmVyLCBweTpudW1iZXIsIHB6Om51bWJlcilcblx0e1xuXHRcdC8vIGNhbGN1bGF0ZSBzY3JlZW4gcmF5IGFuZCBmaW5kIGV4YWN0IGludGVyc2VjdGlvbiBwb3NpdGlvbiB3aXRoIHRyaWFuZ2xlXG5cdFx0dmFyIHJ4Om51bWJlciwgcnk6bnVtYmVyLCByejpudW1iZXI7XG5cdFx0dmFyIG94Om51bWJlciwgb3k6bnVtYmVyLCBvejpudW1iZXI7XG5cdFx0dmFyIHQ6bnVtYmVyO1xuXHRcdHZhciByYXc6QXJyYXk8bnVtYmVyPiA9IE1hdHJpeDNEVXRpbHMuUkFXX0RBVEFfQ09OVEFJTkVSO1xuXHRcdHZhciBjeDpudW1iZXIgPSB0aGlzLl9yYXlQb3MueCwgY3k6bnVtYmVyID0gdGhpcy5fcmF5UG9zLnksIGN6Om51bWJlciA9IHRoaXMuX3JheVBvcy56O1xuXG5cdFx0Ly8gdW5wcm9qZWN0ZWQgcHJvamVjdGlvbiBwb2ludCwgZ2l2ZXMgcmF5IGRpciBpbiBjYW0gc3BhY2Vcblx0XHRveCA9IHRoaXMuX3JheURpci54O1xuXHRcdG95ID0gdGhpcy5fcmF5RGlyLnk7XG5cdFx0b3ogPSB0aGlzLl9yYXlEaXIuejtcblxuXHRcdC8vIHRyYW5zZm9ybSByYXkgZGlyIGFuZCBvcmlnaW4gKGNhbSBwb3MpIHRvIG9iamVjdCBzcGFjZVxuXHRcdC8vaW52U2NlbmVUcmFuc2Zvcm0uY29weVJhd0RhdGFUbyggcmF3ICApO1xuXHRcdGludlNjZW5lVHJhbnNmb3JtLmNvcHlSYXdEYXRhVG8ocmF3KTtcblx0XHRyeCA9IHJhd1swXSpveCArIHJhd1s0XSpveSArIHJhd1s4XSpvejtcblx0XHRyeSA9IHJhd1sxXSpveCArIHJhd1s1XSpveSArIHJhd1s5XSpvejtcblx0XHRyeiA9IHJhd1syXSpveCArIHJhd1s2XSpveSArIHJhd1sxMF0qb3o7XG5cblx0XHRveCA9IHJhd1swXSpjeCArIHJhd1s0XSpjeSArIHJhd1s4XSpjeiArIHJhd1sxMl07XG5cdFx0b3kgPSByYXdbMV0qY3ggKyByYXdbNV0qY3kgKyByYXdbOV0qY3ogKyByYXdbMTNdO1xuXHRcdG96ID0gcmF3WzJdKmN4ICsgcmF3WzZdKmN5ICsgcmF3WzEwXSpjeiArIHJhd1sxNF07XG5cblx0XHR0ID0gKChweCAtIG94KSpueCArIChweSAtIG95KSpueSArIChweiAtIG96KSpueikvKHJ4Km54ICsgcnkqbnkgKyByeipueik7XG5cblx0XHR0aGlzLl9sb2NhbEhpdFBvc2l0aW9uLnggPSBveCArIHJ4KnQ7XG5cdFx0dGhpcy5fbG9jYWxIaXRQb3NpdGlvbi55ID0gb3kgKyByeSp0O1xuXHRcdHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueiA9IG96ICsgcnoqdDtcblx0fVxuXG5cdHB1YmxpYyBkaXNwb3NlKClcblx0e1xuXHRcdHRoaXMuX2JpdG1hcERhdGEuZGlzcG9zZSgpO1xuXHRcdGlmICh0aGlzLl90cmlhbmdsZVByb2dyYW0pXG5cdFx0XHR0aGlzLl90cmlhbmdsZVByb2dyYW0uZGlzcG9zZSgpO1xuXG5cdFx0aWYgKHRoaXMuX29iamVjdFByb2dyYW0pXG5cdFx0XHR0aGlzLl9vYmplY3RQcm9ncmFtLmRpc3Bvc2UoKTtcblxuXHRcdHRoaXMuX3RyaWFuZ2xlUHJvZ3JhbSA9IG51bGw7XG5cdFx0dGhpcy5fb2JqZWN0UHJvZ3JhbSA9IG51bGw7XG5cdFx0dGhpcy5fYml0bWFwRGF0YSA9IG51bGw7XG5cdFx0dGhpcy5faGl0UmVuZGVyYWJsZSA9IG51bGw7XG5cdFx0dGhpcy5faGl0RW50aXR5ID0gbnVsbDtcblx0fVxufVxuXG5leHBvcnQgPSBTaGFkZXJQaWNrZXI7Il19