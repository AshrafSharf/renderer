var Debug = require("awayjs-core/lib/utils/Debug");
var BitmapData = require("awayjs-core/lib/base/BitmapData");
var Matrix3DUtils = require("awayjs-core/lib/geom/Matrix3DUtils");
var Point = require("awayjs-core/lib/geom/Point");
var Rectangle = require("awayjs-core/lib/geom/Rectangle");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var TriangleSubGeometry = require("awayjs-display/lib/base/TriangleSubGeometry");
var AGALMiniAssembler = require("awayjs-stagegl/lib/aglsl/assembler/AGALMiniAssembler");
var ContextGLBlendFactor = require("awayjs-stagegl/lib/base/ContextGLBlendFactor");
var ContextGLClearMask = require("awayjs-stagegl/lib/base/ContextGLClearMask");
var ContextGLCompareMode = require("awayjs-stagegl/lib/base/ContextGLCompareMode");
var ContextGLProgramType = require("awayjs-stagegl/lib/base/ContextGLProgramType");
var ContextGLTriangleFace = require("awayjs-stagegl/lib/base/ContextGLTriangleFace");
/**
 * Picks a 3d object from a view or scene by performing a separate render pass on the scene around the area being picked using key color values,
 * then reading back the color value of the pixel in the render representing the picking ray. Requires multiple passes and readbacks for retriving details
 * on an entity that has its shaderPickingDetails property set to true.
 *
 * A read-back operation from any GPU is not a very efficient process, and the amount of processing used can vary significantly between different hardware.
 *
 * @see away.entities.Entity#shaderPickingDetails
 *
 * @class away.pick.ShaderPicker
 */
var ShaderPicker = (function () {
    /**
     * Creates a new <code>ShaderPicker</code> object.
     *
     * @param shaderPickingDetails Determines whether the picker includes a second pass to calculate extra
     * properties such as uv and normal coordinates.
     */
    function ShaderPicker(shaderPickingDetails) {
        if (shaderPickingDetails === void 0) { shaderPickingDetails = false; }
        this._onlyMouseEnabled = true;
        this._interactives = new Array();
        this._localHitPosition = new Vector3D();
        this._hitUV = new Point();
        this._localHitNormal = new Vector3D();
        this._rayPos = new Vector3D();
        this._rayDir = new Vector3D();
        this._shaderPickingDetails = shaderPickingDetails;
        this._id = new Array(4);
        this._viewportData = new Array(4); // first 2 contain scale, last 2 translation
        this._boundOffsetScale = new Array(8); // first 2 contain scale, last 2 translation
        this._boundOffsetScale[3] = 0;
        this._boundOffsetScale[7] = 1;
    }
    Object.defineProperty(ShaderPicker.prototype, "onlyMouseEnabled", {
        /**
         * @inheritDoc
         */
        get: function () {
            return this._onlyMouseEnabled;
        },
        set: function (value) {
            this._onlyMouseEnabled = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.getViewCollision = function (x, y, view) {
        var collector = view.iEntityCollector;
        this._stage = view.renderer.stage;
        if (!this._stage)
            return null;
        this._context = this._stage.context;
        this._viewportData[0] = view.width;
        this._viewportData[1] = view.height;
        this._viewportData[2] = -(this._projX = 2 * x / view.width - 1);
        this._viewportData[3] = this._projY = 2 * y / view.height - 1;
        // _potentialFound will be set to true if any object is actually rendered
        this._potentialFound = false;
        //reset head values
        this._blendedRenderableHead = null;
        this._opaqueRenderableHead = null;
        this.pDraw(collector, null);
        // clear buffers
        this._context.setVertexBufferAt(0, null);
        if (!this._context || !this._potentialFound)
            return null;
        if (!this._bitmapData)
            this._bitmapData = new BitmapData(1, 1, false, 0);
        this._context.drawToBitmapData(this._bitmapData);
        this._hitColor = this._bitmapData.getPixel(0, 0);
        if (!this._hitColor) {
            this._context.present();
            return null;
        }
        this._hitRenderable = this._interactives[this._hitColor - 1];
        this._hitEntity = this._hitRenderable.sourceEntity;
        if (this._onlyMouseEnabled && !this._hitEntity._iIsMouseEnabled())
            return null;
        var _collisionVO = this._hitEntity._iPickingCollisionVO;
        if (this._shaderPickingDetails) {
            this.getHitDetails(view.camera);
            _collisionVO.localPosition = this._localHitPosition;
            _collisionVO.localNormal = this._localHitNormal;
            _collisionVO.uv = this._hitUV;
            _collisionVO.index = this._faceIndex;
        }
        else {
            _collisionVO.localPosition = null;
            _collisionVO.localNormal = null;
            _collisionVO.uv = null;
            _collisionVO.index = 0;
        }
        return _collisionVO;
    };
    //*/
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.getSceneCollision = function (position, direction, scene) {
        return null;
    };
    /**
     * @inheritDoc
     */
    ShaderPicker.prototype.pDraw = function (entityCollector, target) {
        var camera = entityCollector.camera;
        this._context.clear(0, 0, 0, 1);
        this._stage.scissorRect = ShaderPicker.MOUSE_SCISSOR_RECT;
        this._interactives.length = this._interactiveId = 0;
        if (!this._objectProgram)
            this.initObjectProgram();
        this._context.setBlendFactors(ContextGLBlendFactor.ONE, ContextGLBlendFactor.ZERO);
        this._context.setDepthTest(true, ContextGLCompareMode.LESS);
        this._context.setProgram(this._objectProgram);
        this._context.setProgramConstantsFromArray(ContextGLProgramType.VERTEX, 4, this._viewportData, 1);
        //this.drawRenderables(entityCollector.opaqueRenderableHead, camera);
        //this.drawRenderables(entityCollector.blendedRenderableHead, camera);
        //TODO: reimplement ShaderPicker inheriting from RendererBase
    };
    /**
     * Draw a list of renderables.
     * @param renderables The renderables to draw.
     * @param camera The camera for which to render.
     */
    ShaderPicker.prototype.drawRenderables = function (renderable, camera) {
        var matrix = Matrix3DUtils.CALCULATION_MATRIX;
        var viewProjection = camera.viewProjection;
        while (renderable) {
            // it's possible that the renderable was already removed from the scene
            if (!renderable.sourceEntity.scene || !renderable.sourceEntity._iIsMouseEnabled()) {
                renderable = renderable.next;
                continue;
            }
            this._potentialFound = true;
            this._context.setCulling(renderable.materialOwner.material.bothSides ? ContextGLTriangleFace.NONE : ContextGLTriangleFace.BACK, camera.projection.coordinateSystem);
            this._interactives[this._interactiveId++] = renderable;
            // color code so that reading from bitmapdata will contain the correct value
            this._id[1] = (this._interactiveId >> 8) / 255; // on green channel
            this._id[2] = (this._interactiveId & 0xff) / 255; // on blue channel
            matrix.copyFrom(renderable.sourceEntity.getRenderSceneTransform(camera));
            matrix.append(viewProjection);
            this._context.setProgramConstantsFromMatrix(ContextGLProgramType.VERTEX, 0, matrix, true);
            this._context.setProgramConstantsFromArray(ContextGLProgramType.FRAGMENT, 0, this._id, 1);
            this._stage.activateBuffer(0, renderable.getVertexData(TriangleSubGeometry.POSITION_DATA), renderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA), TriangleSubGeometry.POSITION_FORMAT);
            this._context.drawTriangles(this._stage.getIndexBuffer(renderable.getIndexData()), 0, renderable.numTriangles);
            renderable = renderable.next;
        }
    };
    ShaderPicker.prototype.updateRay = function (camera) {
        this._rayPos = camera.scenePosition;
        this._rayDir = camera.getRay(this._projX, this._projY, 1);
        this._rayDir.normalize();
    };
    /**
     * Creates the Program that color-codes objects.
     */
    ShaderPicker.prototype.initObjectProgram = function () {
        var vertexCode;
        var fragmentCode;
        this._objectProgram = this._context.createProgram();
        vertexCode = "m44 vt0, va0, vc0			\n" + "mul vt1.xy, vt0.w, vc4.zw	\n" + "add vt0.xy, vt0.xy, vt1.xy	\n" + "mul vt0.xy, vt0.xy, vc4.xy	\n" + "mov op, vt0	\n";
        fragmentCode = "mov oc, fc0"; // write identifier
        Debug.throwPIR('ShaderPicker', 'initTriangleProgram', 'Dependency: initObjectProgram');
        //_objectProgram.upload(new AGALMiniAssembler().assemble(ContextGLProgramType.VERTEX, vertexCode),new AGALMiniAssembler().assemble(ContextGLProgramType.FRAGMENT, fragmentCode));
    };
    /**
     * Creates the Program that renders positions.
     */
    ShaderPicker.prototype.initTriangleProgram = function () {
        var vertexCode;
        var fragmentCode;
        this._triangleProgram = this._context.createProgram();
        // todo: add animation code
        vertexCode = "add vt0, va0, vc5 			\n" + "mul vt0, vt0, vc6 			\n" + "mov v0, vt0				\n" + "m44 vt0, va0, vc0			\n" + "mul vt1.xy, vt0.w, vc4.zw	\n" + "add vt0.xy, vt0.xy, vt1.xy	\n" + "mul vt0.xy, vt0.xy, vc4.xy	\n" + "mov op, vt0	\n";
        fragmentCode = "mov oc, v0"; // write identifier
        var vertexByteCode = (new AGALMiniAssembler().assemble("part vertex 1\n" + vertexCode + "endpart"))['vertex'].data;
        var fragmentByteCode = (new AGALMiniAssembler().assemble("part fragment 1\n" + fragmentCode + "endpart"))['fragment'].data;
        this._triangleProgram.upload(vertexByteCode, fragmentByteCode);
    };
    /**
     * Gets more detailed information about the hir position, if required.
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getHitDetails = function (camera) {
        this.getApproximatePosition(camera);
        this.getPreciseDetails(camera);
    };
    /**
     * Finds a first-guess approximate position about the hit position.
     *
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getApproximatePosition = function (camera) {
        var bounds = this._hitRenderable.sourceEntity.bounds.aabb;
        var col;
        var scX, scY, scZ;
        var offsX, offsY, offsZ;
        var localViewProjection = Matrix3DUtils.CALCULATION_MATRIX;
        localViewProjection.copyFrom(this._hitRenderable.sourceEntity.getRenderSceneTransform(camera));
        localViewProjection.append(camera.viewProjection);
        if (!this._triangleProgram) {
            this.initTriangleProgram();
        }
        this._boundOffsetScale[4] = 1 / (scX = bounds.width);
        this._boundOffsetScale[5] = 1 / (scY = bounds.height);
        this._boundOffsetScale[6] = 1 / (scZ = bounds.depth);
        this._boundOffsetScale[0] = offsX = -bounds.x;
        this._boundOffsetScale[1] = offsY = -bounds.y;
        this._boundOffsetScale[2] = offsZ = -bounds.z;
        this._context.setProgram(this._triangleProgram);
        this._context.clear(0, 0, 0, 0, 1, 0, ContextGLClearMask.DEPTH);
        this._context.setScissorRectangle(ShaderPicker.MOUSE_SCISSOR_RECT);
        this._context.setProgramConstantsFromMatrix(ContextGLProgramType.VERTEX, 0, localViewProjection, true);
        this._context.setProgramConstantsFromArray(ContextGLProgramType.VERTEX, 5, this._boundOffsetScale, 2);
        this._stage.activateBuffer(0, this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA), this._hitRenderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA), TriangleSubGeometry.POSITION_FORMAT);
        this._context.drawTriangles(this._stage.getIndexBuffer(this._hitRenderable.getIndexData()), 0, this._hitRenderable.numTriangles);
        this._context.drawToBitmapData(this._bitmapData);
        col = this._bitmapData.getPixel(0, 0);
        this._localHitPosition.x = ((col >> 16) & 0xff) * scX / 255 - offsX;
        this._localHitPosition.y = ((col >> 8) & 0xff) * scY / 255 - offsY;
        this._localHitPosition.z = (col & 0xff) * scZ / 255 - offsZ;
    };
    /**
     * Use the approximate position info to find the face under the mouse position from which we can derive the precise
     * ray-face intersection point, then use barycentric coordinates to figure out the uv coordinates, etc.
     * @param camera The camera used to view the hit object.
     */
    ShaderPicker.prototype.getPreciseDetails = function (camera) {
        var len = indices.length;
        var x1, y1, z1;
        var x2, y2, z2;
        var x3, y3, z3;
        var i = 0, j = 1, k = 2;
        var t1, t2, t3;
        var v0x, v0y, v0z;
        var v1x, v1y, v1z;
        var v2x, v2y, v2z;
        var ni1, ni2, ni3;
        var n1, n2, n3, nLength;
        var dot00, dot01, dot02, dot11, dot12;
        var s, t, invDenom;
        var x = this._localHitPosition.x, y = this._localHitPosition.y, z = this._localHitPosition.z;
        var u, v;
        var ui1, ui2, ui3;
        var s0x, s0y, s0z;
        var s1x, s1y, s1z;
        var nl;
        var indices = this._hitRenderable.getIndexData().data;
        var positions = this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA).data;
        var positionStride = this._hitRenderable.getVertexData(TriangleSubGeometry.POSITION_DATA).dataPerVertex;
        var positionOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.POSITION_DATA);
        var uvs = this._hitRenderable.getVertexData(TriangleSubGeometry.UV_DATA).data;
        var uvStride = this._hitRenderable.getVertexData(TriangleSubGeometry.UV_DATA).dataPerVertex;
        var uvOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.UV_DATA);
        var normals = this._hitRenderable.getVertexData(TriangleSubGeometry.NORMAL_DATA).data;
        var normalStride = this._hitRenderable.getVertexData(TriangleSubGeometry.NORMAL_DATA).dataPerVertex;
        var normalOffset = this._hitRenderable.getVertexOffset(TriangleSubGeometry.NORMAL_DATA);
        this.updateRay(camera);
        while (i < len) {
            t1 = positionOffset + indices[i] * positionStride;
            t2 = positionOffset + indices[j] * positionStride;
            t3 = positionOffset + indices[k] * positionStride;
            x1 = positions[t1];
            y1 = positions[t1 + 1];
            z1 = positions[t1 + 2];
            x2 = positions[t2];
            y2 = positions[t2 + 1];
            z2 = positions[t2 + 2];
            x3 = positions[t3];
            y3 = positions[t3 + 1];
            z3 = positions[t3 + 2];
            // if within bounds
            if (!((x < x1 && x < x2 && x < x3) || (y < y1 && y < y2 && y < y3) || (z < z1 && z < z2 && z < z3) || (x > x1 && x > x2 && x > x3) || (y > y1 && y > y2 && y > y3) || (z > z1 && z > z2 && z > z3))) {
                // calculate barycentric coords for approximated position
                v0x = x3 - x1;
                v0y = y3 - y1;
                v0z = z3 - z1;
                v1x = x2 - x1;
                v1y = y2 - y1;
                v1z = z2 - z1;
                v2x = x - x1;
                v2y = y - y1;
                v2z = z - z1;
                dot00 = v0x * v0x + v0y * v0y + v0z * v0z;
                dot01 = v0x * v1x + v0y * v1y + v0z * v1z;
                dot02 = v0x * v2x + v0y * v2y + v0z * v2z;
                dot11 = v1x * v1x + v1y * v1y + v1z * v1z;
                dot12 = v1x * v2x + v1y * v2y + v1z * v2z;
                invDenom = 1 / (dot00 * dot11 - dot01 * dot01);
                s = (dot11 * dot02 - dot01 * dot12) * invDenom;
                t = (dot00 * dot12 - dot01 * dot02) * invDenom;
                // if inside the current triangle, fetch details hit information
                if (s >= 0 && t >= 0 && (s + t) <= 1) {
                    ni1 = normalOffset + indices[i] * normalStride;
                    ni2 = normalOffset + indices[j] * normalStride;
                    ni3 = normalOffset + indices[k] * normalStride;
                    n1 = indices[ni1] + indices[ni2] + indices[ni3];
                    n2 = indices[ni1 + 1] + indices[ni2 + 1] + indices[ni3 + 1];
                    n3 = indices[ni1 + 2] + indices[ni2 + 2] + indices[ni3 + 2];
                    nLength = Math.sqrt(n1 * n1 + n2 * n2 + n3 * n3);
                    n1 /= nLength;
                    n2 /= nLength;
                    n3 /= nLength;
                    // this is def the triangle, now calculate precise coords
                    this.getPrecisePosition(this._hitRenderable.sourceEntity.inverseSceneTransform, n1, n2, n3, x1, y1, z1);
                    v2x = this._localHitPosition.x - x1;
                    v2y = this._localHitPosition.y - y1;
                    v2z = this._localHitPosition.z - z1;
                    s0x = x2 - x1; // s0 = p1 - p0
                    s0y = y2 - y1;
                    s0z = z2 - z1;
                    s1x = x3 - x1; // s1 = p2 - p0
                    s1y = y3 - y1;
                    s1z = z3 - z1;
                    this._localHitNormal.x = s0y * s1z - s0z * s1y; // n = s0 x s1
                    this._localHitNormal.y = s0z * s1x - s0x * s1z;
                    this._localHitNormal.z = s0x * s1y - s0y * s1x;
                    nl = 1 / Math.sqrt(this._localHitNormal.x * this._localHitNormal.x + this._localHitNormal.y * this._localHitNormal.y + this._localHitNormal.z * this._localHitNormal.z); // normalize n
                    this._localHitNormal.x *= nl;
                    this._localHitNormal.y *= nl;
                    this._localHitNormal.z *= nl;
                    dot02 = v0x * v2x + v0y * v2y + v0z * v2z;
                    dot12 = v1x * v2x + v1y * v2y + v1z * v2z;
                    s = (dot11 * dot02 - dot01 * dot12) * invDenom;
                    t = (dot00 * dot12 - dot01 * dot02) * invDenom;
                    ui1 = uvOffset + indices[i] * uvStride;
                    ui2 = uvOffset + indices[j] * uvStride;
                    ui3 = uvOffset + indices[k] * uvStride;
                    u = uvs[ui1];
                    v = uvs[ui1 + 1];
                    this._hitUV.x = u + t * (uvs[ui2] - u) + s * (uvs[ui3] - u);
                    this._hitUV.y = v + t * (uvs[ui2 + 1] - v) + s * (uvs[ui3 + 1] - v);
                    this._faceIndex = i;
                    //TODO add back subGeometryIndex value
                    //this._subGeometryIndex = away.utils.GeometryUtils.getMeshSubGeometryIndex(subGeom);
                    return;
                }
            }
            i += 3;
            j += 3;
            k += 3;
        }
    };
    /**
     * Finds the precise hit position by unprojecting the screen coordinate back unto the hit face's plane and
     * calculating the intersection point.
     * @param camera The camera used to render the object.
     * @param invSceneTransform The inverse scene transformation of the hit object.
     * @param nx The x-coordinate of the face's plane normal.
     * @param ny The y-coordinate of the face plane normal.
     * @param nz The z-coordinate of the face plane normal.
     * @param px The x-coordinate of a point on the face's plane (ie a face vertex)
     * @param py The y-coordinate of a point on the face's plane (ie a face vertex)
     * @param pz The z-coordinate of a point on the face's plane (ie a face vertex)
     */
    ShaderPicker.prototype.getPrecisePosition = function (invSceneTransform, nx, ny, nz, px, py, pz) {
        // calculate screen ray and find exact intersection position with triangle
        var rx, ry, rz;
        var ox, oy, oz;
        var t;
        var raw = Matrix3DUtils.RAW_DATA_CONTAINER;
        var cx = this._rayPos.x, cy = this._rayPos.y, cz = this._rayPos.z;
        // unprojected projection point, gives ray dir in cam space
        ox = this._rayDir.x;
        oy = this._rayDir.y;
        oz = this._rayDir.z;
        // transform ray dir and origin (cam pos) to object space
        //invSceneTransform.copyRawDataTo( raw  );
        invSceneTransform.copyRawDataTo(raw);
        rx = raw[0] * ox + raw[4] * oy + raw[8] * oz;
        ry = raw[1] * ox + raw[5] * oy + raw[9] * oz;
        rz = raw[2] * ox + raw[6] * oy + raw[10] * oz;
        ox = raw[0] * cx + raw[4] * cy + raw[8] * cz + raw[12];
        oy = raw[1] * cx + raw[5] * cy + raw[9] * cz + raw[13];
        oz = raw[2] * cx + raw[6] * cy + raw[10] * cz + raw[14];
        t = ((px - ox) * nx + (py - oy) * ny + (pz - oz) * nz) / (rx * nx + ry * ny + rz * nz);
        this._localHitPosition.x = ox + rx * t;
        this._localHitPosition.y = oy + ry * t;
        this._localHitPosition.z = oz + rz * t;
    };
    ShaderPicker.prototype.dispose = function () {
        this._bitmapData.dispose();
        if (this._triangleProgram)
            this._triangleProgram.dispose();
        if (this._objectProgram)
            this._objectProgram.dispose();
        this._triangleProgram = null;
        this._objectProgram = null;
        this._bitmapData = null;
        this._hitRenderable = null;
        this._hitEntity = null;
    };
    ShaderPicker.MOUSE_SCISSOR_RECT = new Rectangle(0, 0, 1, 1);
    return ShaderPicker;
})();
module.exports = ShaderPicker;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9waWNrL3NoYWRlcnBpY2tlci50cyJdLCJuYW1lcyI6WyJTaGFkZXJQaWNrZXIiLCJTaGFkZXJQaWNrZXIuY29uc3RydWN0b3IiLCJTaGFkZXJQaWNrZXIub25seU1vdXNlRW5hYmxlZCIsIlNoYWRlclBpY2tlci5nZXRWaWV3Q29sbGlzaW9uIiwiU2hhZGVyUGlja2VyLmdldFNjZW5lQ29sbGlzaW9uIiwiU2hhZGVyUGlja2VyLnBEcmF3IiwiU2hhZGVyUGlja2VyLmRyYXdSZW5kZXJhYmxlcyIsIlNoYWRlclBpY2tlci51cGRhdGVSYXkiLCJTaGFkZXJQaWNrZXIuaW5pdE9iamVjdFByb2dyYW0iLCJTaGFkZXJQaWNrZXIuaW5pdFRyaWFuZ2xlUHJvZ3JhbSIsIlNoYWRlclBpY2tlci5nZXRIaXREZXRhaWxzIiwiU2hhZGVyUGlja2VyLmdldEFwcHJveGltYXRlUG9zaXRpb24iLCJTaGFkZXJQaWNrZXIuZ2V0UHJlY2lzZURldGFpbHMiLCJTaGFkZXJQaWNrZXIuZ2V0UHJlY2lzZVBvc2l0aW9uIiwiU2hhZGVyUGlja2VyLmRpc3Bvc2UiXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sS0FBSyxXQUFpQiw2QkFBNkIsQ0FBQyxDQUFDO0FBQzVELElBQU8sVUFBVSxXQUFnQixpQ0FBaUMsQ0FBQyxDQUFDO0FBR3BFLElBQU8sYUFBYSxXQUFlLG9DQUFvQyxDQUFDLENBQUM7QUFDekUsSUFBTyxLQUFLLFdBQWlCLDRCQUE0QixDQUFDLENBQUM7QUFDM0QsSUFBTyxTQUFTLFdBQWdCLGdDQUFnQyxDQUFDLENBQUM7QUFDbEUsSUFBTyxRQUFRLFdBQWlCLCtCQUErQixDQUFDLENBQUM7QUFHakUsSUFBTyxtQkFBbUIsV0FBYyw2Q0FBNkMsQ0FBQyxDQUFDO0FBVXZGLElBQU8saUJBQWlCLFdBQWMsc0RBQXNELENBQUMsQ0FBQztBQUU5RixJQUFPLG9CQUFvQixXQUFjLDhDQUE4QyxDQUFDLENBQUM7QUFDekYsSUFBTyxrQkFB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QUFFQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN2QkEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDbkJBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1lBQ3ZCQSxFQUFFQSxHQUFHQSxTQUFTQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN2QkEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDbkJBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1lBQ3ZCQSxFQUFFQSxHQUFHQSxTQUFTQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUV2QkEsQUFDQUEsbUJBRG1CQTtZQUNuQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBS0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBRXpNQSxBQUNBQSx5REFEeURBO2dCQUN6REEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2RBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDZEEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2RBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDZEEsR0FBR0EsR0FBR0EsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ2JBLEdBQUdBLEdBQUdBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNiQSxHQUFHQSxHQUFHQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDYkEsS0FBS0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsQ0FBQ0E7Z0JBQ3BDQSxLQUFLQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtnQkFDcENBLEtBQUtBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLENBQUNBO2dCQUNwQ0EsS0FBS0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsQ0FBQ0E7Z0JBQ3BDQSxLQUFLQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtnQkFDcENBLFFBQVFBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEtBQUtBLEdBQUNBLEtBQUtBLEdBQUdBLEtBQUtBLEdBQUNBLEtBQUtBLENBQUNBLENBQUNBO2dCQUN6Q0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsR0FBQ0EsS0FBS0EsR0FBR0EsS0FBS0EsR0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBQ0EsUUFBUUEsQ0FBQ0E7Z0JBQ3pDQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFDQSxLQUFLQSxHQUFHQSxLQUFLQSxHQUFDQSxLQUFLQSxDQUFDQSxHQUFDQSxRQUFRQSxDQUFDQTtnQkFFekNBLEFBQ0FBLGdFQURnRUE7Z0JBQ2hFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFFdENBLEdBQUdBLEdBQUdBLFlBQVlBLEdBQUdBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLFlBQVlBLENBQUNBO29CQUM3Q0EsR0FBR0EsR0FBR0EsWUFBWUEsR0FBR0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsWUFBWUEsQ0FBQ0E7b0JBQzdDQSxHQUFHQSxHQUFHQSxZQUFZQSxHQUFHQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxZQUFZQSxDQUFDQTtvQkFFN0NBLEVBQUVBLEdBQUdBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO29CQUNoREEsRUFBRUEsR0FBR0EsT0FBT0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsT0FBT0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsT0FBT0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQzVEQSxFQUFFQSxHQUFHQSxPQUFPQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxPQUFPQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxPQUFPQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFFNURBLE9BQU9BLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBLENBQUNBO29CQUUzQ0EsRUFBRUEsSUFBSUEsT0FBT0EsQ0FBQ0E7b0JBQ2RBLEVBQUVBLElBQUlBLE9BQU9BLENBQUNBO29CQUNkQSxFQUFFQSxJQUFJQSxPQUFPQSxDQUFDQTtvQkFFZEEsQUFDQUEseURBRHlEQTtvQkFDekRBLElBQUlBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EscUJBQXFCQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxDQUFDQSxDQUFDQTtvQkFFeEdBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0E7b0JBQ3BDQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBO29CQUNwQ0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQTtvQkFFcENBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEVBQUVBLGVBQWVBO29CQUM5QkEsR0FBR0EsR0FBR0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7b0JBQ2RBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO29CQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxFQUFFQSxlQUFlQTtvQkFDOUJBLEdBQUdBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBO29CQUNkQSxHQUFHQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtvQkFDZEEsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBQ0EsR0FBR0EsRUFBRUEsY0FBY0E7b0JBQzFEQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtvQkFDM0NBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLENBQUNBO29CQUMzQ0EsRUFBRUEsR0FBR0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsY0FBY0E7b0JBQy9LQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQSxJQUFJQSxFQUFFQSxDQUFDQTtvQkFDN0JBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBO29CQUM3QkEsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0E7b0JBRTdCQSxLQUFLQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFDQSxHQUFHQSxDQUFDQTtvQkFDcENBLEtBQUtBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLEdBQUdBLEdBQUdBLEdBQUNBLEdBQUdBLENBQUNBO29CQUNwQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsR0FBQ0EsS0FBS0EsR0FBR0EsS0FBS0EsR0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBQ0EsUUFBUUEsQ0FBQ0E7b0JBQ3pDQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFDQSxLQUFLQSxHQUFHQSxLQUFLQSxHQUFDQSxLQUFLQSxDQUFDQSxHQUFDQSxRQUFRQSxDQUFDQTtvQkFFekNBLEdBQUdBLEdBQUdBLFFBQVFBLEdBQUdBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLFFBQVFBLENBQUFBO29CQUNwQ0EsR0FBR0EsR0FBR0EsUUFBUUEsR0FBR0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsUUFBUUEsQ0FBQUE7b0JBQ3BDQSxHQUFHQSxHQUFHQSxRQUFRQSxHQUFHQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxRQUFRQSxDQUFBQTtvQkFFcENBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO29CQUNiQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDakJBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO29CQUN4REEsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBRWhFQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxDQUFDQSxDQUFDQTtvQkFDcEJBLEFBR0FBLHNDQUhzQ0E7b0JBQ3RDQSxxRkFBcUZBO29CQUVyRkEsTUFBTUEsQ0FBQ0E7Z0JBQ1JBLENBQUNBO1lBQ0ZBLENBQUNBO1lBRURBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ1BBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ1BBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ1JBLENBQUNBO0lBQ0ZBLENBQUNBO0lBRURaOzs7Ozs7Ozs7OztPQVdHQTtJQUVLQSx5Q0FBa0JBLEdBQTFCQSxVQUEyQkEsaUJBQTBCQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQSxFQUFFQSxFQUFTQTtRQUV0SGEsQUFDQUEsMEVBRDBFQTtZQUN0RUEsRUFBU0EsRUFBRUEsRUFBU0EsRUFBRUEsRUFBU0EsQ0FBQ0E7UUFDcENBLElBQUlBLEVBQVNBLEVBQUVBLEVBQVNBLEVBQUVBLEVBQVNBLENBQUNBO1FBQ3BDQSxJQUFJQSxDQUFRQSxDQUFDQTtRQUNiQSxJQUFJQSxHQUFHQSxHQUFpQkEsYUFBYUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQTtRQUN6REEsSUFBSUEsRUFBRUEsR0FBVUEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsR0FBVUEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFdkZBLEFBQ0FBLDJEQUQyREE7UUFDM0RBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBO1FBQ3BCQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNwQkEsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFcEJBLEFBRUFBLHlEQUZ5REE7UUFDekRBLDBDQUEwQ0E7UUFDMUNBLGlCQUFpQkEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDckNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBO1FBQ3ZDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxDQUFDQTtRQUN2Q0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBQ0EsRUFBRUEsQ0FBQ0E7UUFFeENBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBQ2pEQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxFQUFFQSxHQUFHQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUNqREEsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBQ0EsRUFBRUEsR0FBR0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFFbERBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLEdBQUNBLEVBQUVBLEdBQUdBLENBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLEdBQUNBLEVBQUVBLENBQUNBLEdBQUNBLENBQUNBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBRXpFQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLENBQUNBLENBQUNBO1FBQ3JDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLENBQUNBLENBQUNBO1FBQ3JDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLEdBQUdBLEVBQUVBLEdBQUNBLENBQUNBLENBQUNBO0lBQ3RDQSxDQUFDQTtJQUVNYiw4QkFBT0EsR0FBZEE7UUFFQ2MsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDM0JBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0E7WUFDekJBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFFakNBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBO1lBQ3ZCQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUUvQkEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM3QkEsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDM0JBLElBQUlBLENBQUNBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBO1FBQ3hCQSxJQUFJQSxDQUFDQSxjQUFjQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUMzQkEsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDeEJBLENBQUNBO0lBL2RjZCwrQkFBa0JBLEdBQWFBLElBQUlBLFNBQVNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO0lBZ2V6RUEsbUJBQUNBO0FBQURBLENBbGdCQSxBQWtnQkNBLElBQUE7QUFFRCxBQUFzQixpQkFBYixZQUFZLENBQUMiLCJmaWxlIjoicGljay9TaGFkZXJQaWNrZXIuanMiLCJzb3VyY2VSb290IjoiLi4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERlYnVnXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdXRpbHMvRGVidWdcIik7XG5pbXBvcnQgQml0bWFwRGF0YVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9iYXNlL0JpdG1hcERhdGFcIik7XG5pbXBvcnQgQm94XHRcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL0JveFwiKTtcbmltcG9ydCBNYXRyaXgzRFx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2dlb20vTWF0cml4M0RcIik7XG5pbXBvcnQgTWF0cml4M0RVdGlsc1x0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9NYXRyaXgzRFV0aWxzXCIpO1xuaW1wb3J0IFBvaW50XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9Qb2ludFwiKTtcbmltcG9ydCBSZWN0YW5nbGVcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9SZWN0YW5nbGVcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL1ZlY3RvcjNEXCIpO1xuaW1wb3J0IEJ5dGVBcnJheVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi91dGlscy9CeXRlQXJyYXlcIik7XG5cbmltcG9ydCBUcmlhbmdsZVN1Ykdlb21ldHJ5XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9UcmlhbmdsZVN1Ykdlb21ldHJ5XCIpO1xuaW1wb3J0IFNjZW5lXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udGFpbmVycy9TY2VuZVwiKTtcbmltcG9ydCBWaWV3XHRcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9jb250YWluZXJzL1ZpZXdcIik7XG5pbXBvcnQgSVBpY2tlclx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3BpY2svSVBpY2tlclwiKTtcbmltcG9ydCBQaWNraW5nQ29sbGlzaW9uVk9cdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9waWNrL1BpY2tpbmdDb2xsaXNpb25WT1wiKTtcbmltcG9ydCBFbnRpdHlDb2xsZWN0b3JcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3RyYXZlcnNlL0VudGl0eUNvbGxlY3RvclwiKTtcbmltcG9ydCBDYW1lcmFcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9DYW1lcmFcIik7XG5pbXBvcnQgSUVudGl0eVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL0lFbnRpdHlcIik7XG5pbXBvcnQgTWF0ZXJpYWxCYXNlXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9NYXRlcmlhbEJhc2VcIik7XG5cbmltcG9ydCBBR0FMTWluaUFzc2VtYmxlclx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2FnbHNsL2Fzc2VtYmxlci9BR0FMTWluaUFzc2VtYmxlclwiKTtcbmltcG9ydCBTdGFnZVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvU3RhZ2VcIik7XG5pbXBvcnQgQ29udGV4dEdMQmxlbmRGYWN0b3JcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1zdGFnZWdsL2xpYi9iYXNlL0NvbnRleHRHTEJsZW5kRmFjdG9yXCIpO1xuaW1wb3J0IENvbnRleHRHTENsZWFyTWFza1x0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMQ2xlYXJNYXNrXCIpO1xuaW1wb3J0IENvbnRleHRHTENvbXBhcmVNb2RlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9Db250ZXh0R0xDb21wYXJlTW9kZVwiKTtcbmltcG9ydCBDb250ZXh0R0xQcm9ncmFtVHlwZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMUHJvZ3JhbVR5cGVcIik7XG5pbXBvcnQgQ29udGV4dEdMVHJpYW5nbGVGYWNlXHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXN0YWdlZ2wvbGliL2Jhc2UvQ29udGV4dEdMVHJpYW5nbGVGYWNlXCIpO1xuaW1wb3J0IElDb250ZXh0R0xcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9JQ29udGV4dEdMXCIpO1xuaW1wb3J0IElQcm9ncmFtXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9JUHJvZ3JhbVwiKTtcbmltcG9ydCBJVGV4dHVyZUJhc2VcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtc3RhZ2VnbC9saWIvYmFzZS9JVGV4dHVyZUJhc2VcIik7XG5cbmltcG9ydCBEZWZhdWx0UmVuZGVyZXJcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL0RlZmF1bHRSZW5kZXJlclwiKTtcbmltcG9ydCBSZW5kZXJhYmxlQmFzZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvcG9vbC9SZW5kZXJhYmxlQmFzZVwiKTtcblxuLyoqXG4gKiBQaWNrcyBhIDNkIG9iamVjdCBmcm9tIGEgdmlldyBvciBzY2VuZSBieSBwZXJmb3JtaW5nIGEgc2VwYXJhdGUgcmVuZGVyIHBhc3Mgb24gdGhlIHNjZW5lIGFyb3VuZCB0aGUgYXJlYSBiZWluZyBwaWNrZWQgdXNpbmcga2V5IGNvbG9yIHZhbHVlcyxcbiAqIHRoZW4gcmVhZGluZyBiYWNrIHRoZSBjb2xvciB2YWx1ZSBvZiB0aGUgcGl4ZWwgaW4gdGhlIHJlbmRlciByZXByZXNlbnRpbmcgdGhlIHBpY2tpbmcgcmF5LiBSZXF1aXJlcyBtdWx0aXBsZSBwYXNzZXMgYW5kIHJlYWRiYWNrcyBmb3IgcmV0cml2aW5nIGRldGFpbHNcbiAqIG9uIGFuIGVudGl0eSB0aGF0IGhhcyBpdHMgc2hhZGVyUGlja2luZ0RldGFpbHMgcHJvcGVydHkgc2V0IHRvIHRydWUuXG4gKlxuICogQSByZWFkLWJhY2sgb3BlcmF0aW9uIGZyb20gYW55IEdQVSBpcyBub3QgYSB2ZXJ5IGVmZmljaWVudCBwcm9jZXNzLCBhbmQgdGhlIGFtb3VudCBvZiBwcm9jZXNzaW5nIHVzZWQgY2FuIHZhcnkgc2lnbmlmaWNhbnRseSBiZXR3ZWVuIGRpZmZlcmVudCBoYXJkd2FyZS5cbiAqXG4gKiBAc2VlIGF3YXkuZW50aXRpZXMuRW50aXR5I3NoYWRlclBpY2tpbmdEZXRhaWxzXG4gKlxuICogQGNsYXNzIGF3YXkucGljay5TaGFkZXJQaWNrZXJcbiAqL1xuY2xhc3MgU2hhZGVyUGlja2VyIGltcGxlbWVudHMgSVBpY2tlclxue1xuXHRwcml2YXRlIF9vcGFxdWVSZW5kZXJhYmxlSGVhZDpSZW5kZXJhYmxlQmFzZTtcblx0cHJpdmF0ZSBfYmxlbmRlZFJlbmRlcmFibGVIZWFkOlJlbmRlcmFibGVCYXNlO1xuXG5cdHByaXZhdGUgX3N0YWdlOlN0YWdlO1xuXHRwcml2YXRlIF9jb250ZXh0OklDb250ZXh0R0w7XG5cdHByaXZhdGUgX29ubHlNb3VzZUVuYWJsZWQ6Ym9vbGVhbiA9IHRydWU7XG5cblx0cHJpdmF0ZSBfb2JqZWN0UHJvZ3JhbTpJUHJvZ3JhbTtcblx0cHJpdmF0ZSBfdHJpYW5nbGVQcm9ncmFtOklQcm9ncmFtO1xuXHRwcml2YXRlIF9iaXRtYXBEYXRhOkJpdG1hcERhdGE7XG5cdHByaXZhdGUgX3ZpZXdwb3J0RGF0YTpBcnJheTxudW1iZXI+O1xuXHRwcml2YXRlIF9ib3VuZE9mZnNldFNjYWxlOkFycmF5PG51bWJlcj47XG5cdHByaXZhdGUgX2lkOkFycmF5PG51bWJlcj47XG5cblx0cHJpdmF0ZSBfaW50ZXJhY3RpdmVzOkFycmF5PFJlbmRlcmFibGVCYXNlPiA9IG5ldyBBcnJheTxSZW5kZXJhYmxlQmFzZT4oKTtcblx0cHJpdmF0ZSBfaW50ZXJhY3RpdmVJZDpudW1iZXI7XG5cdHByaXZhdGUgX2hpdENvbG9yOm51bWJlcjtcblx0cHJpdmF0ZSBfcHJvalg6bnVtYmVyO1xuXHRwcml2YXRlIF9wcm9qWTpudW1iZXI7XG5cblx0cHJpdmF0ZSBfaGl0UmVuZGVyYWJsZTpSZW5kZXJhYmxlQmFzZTtcblx0cHJpdmF0ZSBfaGl0RW50aXR5OklFbnRpdHk7XG5cdHByaXZhdGUgX2xvY2FsSGl0UG9zaXRpb246VmVjdG9yM0QgPSBuZXcgVmVjdG9yM0QoKTtcblx0cHJpdmF0ZSBfaGl0VVY6UG9pbnQgPSBuZXcgUG9pbnQoKTtcblx0cHJpdmF0ZSBfZmFjZUluZGV4Om51bWJlcjtcblx0cHJpdmF0ZSBfc3ViR2VvbWV0cnlJbmRleDpudW1iZXI7XG5cblx0cHJpdmF0ZSBfbG9jYWxIaXROb3JtYWw6VmVjdG9yM0QgPSBuZXcgVmVjdG9yM0QoKTtcblxuXHRwcml2YXRlIF9yYXlQb3M6VmVjdG9yM0QgPSBuZXcgVmVjdG9yM0QoKTtcblx0cHJpdmF0ZSBfcmF5RGlyOlZlY3RvcjNEID0gbmV3IFZlY3RvcjNEKCk7XG5cdHByaXZhdGUgX3BvdGVudGlhbEZvdW5kOmJvb2xlYW47XG5cdHByaXZhdGUgc3RhdGljIE1PVVNFX1NDSVNTT1JfUkVDVDpSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG5cdHByaXZhdGUgX3NoYWRlclBpY2tpbmdEZXRhaWxzOmJvb2xlYW47XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRwdWJsaWMgZ2V0IG9ubHlNb3VzZUVuYWJsZWQoKTpib29sZWFuXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fb25seU1vdXNlRW5hYmxlZDtcblx0fVxuXG5cdHB1YmxpYyBzZXQgb25seU1vdXNlRW5hYmxlZCh2YWx1ZTpib29sZWFuKVxuXHR7XG5cdFx0dGhpcy5fb25seU1vdXNlRW5hYmxlZCA9IHZhbHVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcgPGNvZGU+U2hhZGVyUGlja2VyPC9jb2RlPiBvYmplY3QuXG5cdCAqXG5cdCAqIEBwYXJhbSBzaGFkZXJQaWNraW5nRGV0YWlscyBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBpY2tlciBpbmNsdWRlcyBhIHNlY29uZCBwYXNzIHRvIGNhbGN1bGF0ZSBleHRyYVxuXHQgKiBwcm9wZXJ0aWVzIHN1Y2ggYXMgdXYgYW5kIG5vcm1hbCBjb29yZGluYXRlcy5cblx0ICovXG5cdGNvbnN0cnVjdG9yKHNoYWRlclBpY2tpbmdEZXRhaWxzOmJvb2xlYW4gPSBmYWxzZSlcblx0e1xuXHRcdHRoaXMuX3NoYWRlclBpY2tpbmdEZXRhaWxzID0gc2hhZGVyUGlja2luZ0RldGFpbHM7XG5cblx0XHR0aGlzLl9pZCA9IG5ldyBBcnJheTxudW1iZXI+KDQpO1xuXHRcdHRoaXMuX3ZpZXdwb3J0RGF0YSA9IG5ldyBBcnJheTxudW1iZXI+KDQpOyAvLyBmaXJzdCAyIGNvbnRhaW4gc2NhbGUsIGxhc3QgMiB0cmFuc2xhdGlvblxuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGUgPSBuZXcgQXJyYXk8bnVtYmVyPig4KTsgLy8gZmlyc3QgMiBjb250YWluIHNjYWxlLCBsYXN0IDIgdHJhbnNsYXRpb25cblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlWzNdID0gMDtcblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlWzddID0gMTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0cHVibGljIGdldFZpZXdDb2xsaXNpb24oeDpudW1iZXIsIHk6bnVtYmVyLCB2aWV3OlZpZXcpOlBpY2tpbmdDb2xsaXNpb25WT1xuXHR7XG5cdFx0dmFyIGNvbGxlY3RvcjpFbnRpdHlDb2xsZWN0b3IgPSA8RW50aXR5Q29sbGVjdG9yPiB2aWV3LmlFbnRpdHlDb2xsZWN0b3I7XG5cblx0XHR0aGlzLl9zdGFnZSA9ICg8RGVmYXVsdFJlbmRlcmVyPiB2aWV3LnJlbmRlcmVyKS5zdGFnZTtcblxuXHRcdGlmICghdGhpcy5fc3RhZ2UpXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdHRoaXMuX2NvbnRleHQgPSA8SUNvbnRleHRHTD4gdGhpcy5fc3RhZ2UuY29udGV4dDtcblxuXHRcdHRoaXMuX3ZpZXdwb3J0RGF0YVswXSA9IHZpZXcud2lkdGg7XG5cdFx0dGhpcy5fdmlld3BvcnREYXRhWzFdID0gdmlldy5oZWlnaHQ7XG5cdFx0dGhpcy5fdmlld3BvcnREYXRhWzJdID0gLSh0aGlzLl9wcm9qWCA9IDIqeC92aWV3LndpZHRoIC0gMSk7XG5cdFx0dGhpcy5fdmlld3BvcnREYXRhWzNdID0gdGhpcy5fcHJvalkgPSAyKnkvdmlldy5oZWlnaHQgLSAxO1xuXG5cdFx0Ly8gX3BvdGVudGlhbEZvdW5kIHdpbGwgYmUgc2V0IHRvIHRydWUgaWYgYW55IG9iamVjdCBpcyBhY3R1YWxseSByZW5kZXJlZFxuXHRcdHRoaXMuX3BvdGVudGlhbEZvdW5kID0gZmFsc2U7XG5cblx0XHQvL3Jlc2V0IGhlYWQgdmFsdWVzXG5cdFx0dGhpcy5fYmxlbmRlZFJlbmRlcmFibGVIZWFkID0gbnVsbDtcblx0XHR0aGlzLl9vcGFxdWVSZW5kZXJhYmxlSGVhZCA9IG51bGw7XG5cblx0XHR0aGlzLnBEcmF3KGNvbGxlY3RvciwgbnVsbCk7XG5cblx0XHQvLyBjbGVhciBidWZmZXJzXG5cdFx0dGhpcy5fY29udGV4dC5zZXRWZXJ0ZXhCdWZmZXJBdCgwLCBudWxsKTtcblxuXHRcdGlmICghdGhpcy5fY29udGV4dCB8fCAhdGhpcy5fcG90ZW50aWFsRm91bmQpXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdGlmICghdGhpcy5fYml0bWFwRGF0YSlcblx0XHRcdHRoaXMuX2JpdG1hcERhdGEgPSBuZXcgQml0bWFwRGF0YSgxLCAxLCBmYWxzZSwgMCk7XG5cblx0XHR0aGlzLl9jb250ZXh0LmRyYXdUb0JpdG1hcERhdGEodGhpcy5fYml0bWFwRGF0YSk7XG5cdFx0dGhpcy5faGl0Q29sb3IgPSB0aGlzLl9iaXRtYXBEYXRhLmdldFBpeGVsKDAsIDApO1xuXG5cdFx0aWYgKCF0aGlzLl9oaXRDb2xvcikge1xuXHRcdFx0dGhpcy5fY29udGV4dC5wcmVzZW50KCk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHR0aGlzLl9oaXRSZW5kZXJhYmxlID0gdGhpcy5faW50ZXJhY3RpdmVzW3RoaXMuX2hpdENvbG9yIC0gMV07XG5cdFx0dGhpcy5faGl0RW50aXR5ID0gdGhpcy5faGl0UmVuZGVyYWJsZS5zb3VyY2VFbnRpdHk7XG5cblx0XHRpZiAodGhpcy5fb25seU1vdXNlRW5hYmxlZCAmJiAhdGhpcy5faGl0RW50aXR5Ll9pSXNNb3VzZUVuYWJsZWQoKSlcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0dmFyIF9jb2xsaXNpb25WTzpQaWNraW5nQ29sbGlzaW9uVk8gPSB0aGlzLl9oaXRFbnRpdHkuX2lQaWNraW5nQ29sbGlzaW9uVk87XG5cdFx0aWYgKHRoaXMuX3NoYWRlclBpY2tpbmdEZXRhaWxzKSB7XG5cdFx0XHR0aGlzLmdldEhpdERldGFpbHModmlldy5jYW1lcmEpO1xuXHRcdFx0X2NvbGxpc2lvblZPLmxvY2FsUG9zaXRpb24gPSB0aGlzLl9sb2NhbEhpdFBvc2l0aW9uO1xuXHRcdFx0X2NvbGxpc2lvblZPLmxvY2FsTm9ybWFsID0gdGhpcy5fbG9jYWxIaXROb3JtYWw7XG5cdFx0XHRfY29sbGlzaW9uVk8udXYgPSB0aGlzLl9oaXRVVjtcblx0XHRcdF9jb2xsaXNpb25WTy5pbmRleCA9IHRoaXMuX2ZhY2VJbmRleDtcblx0XHRcdC8vX2NvbGxpc2lvblZPLnN1Ykdlb21ldHJ5SW5kZXggPSB0aGlzLl9zdWJHZW9tZXRyeUluZGV4O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdF9jb2xsaXNpb25WTy5sb2NhbFBvc2l0aW9uID0gbnVsbDtcblx0XHRcdF9jb2xsaXNpb25WTy5sb2NhbE5vcm1hbCA9IG51bGw7XG5cdFx0XHRfY29sbGlzaW9uVk8udXYgPSBudWxsO1xuXHRcdFx0X2NvbGxpc2lvblZPLmluZGV4ID0gMDtcblx0XHRcdC8vX2NvbGxpc2lvblZPLnN1Ykdlb21ldHJ5SW5kZXggPSAwO1xuXHRcdH1cblxuXHRcdHJldHVybiBfY29sbGlzaW9uVk87XG5cdH1cblxuXHQvLyovXG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0cHVibGljIGdldFNjZW5lQ29sbGlzaW9uKHBvc2l0aW9uOlZlY3RvcjNELCBkaXJlY3Rpb246VmVjdG9yM0QsIHNjZW5lOlNjZW5lKTpQaWNraW5nQ29sbGlzaW9uVk9cblx0e1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRwdWJsaWMgcERyYXcoZW50aXR5Q29sbGVjdG9yOkVudGl0eUNvbGxlY3RvciwgdGFyZ2V0OklUZXh0dXJlQmFzZSlcblx0e1xuXG5cdFx0dmFyIGNhbWVyYTpDYW1lcmEgPSBlbnRpdHlDb2xsZWN0b3IuY2FtZXJhO1xuXG5cdFx0dGhpcy5fY29udGV4dC5jbGVhcigwLCAwLCAwLCAxKTtcblx0XHR0aGlzLl9zdGFnZS5zY2lzc29yUmVjdCA9IFNoYWRlclBpY2tlci5NT1VTRV9TQ0lTU09SX1JFQ1Q7XG5cblx0XHR0aGlzLl9pbnRlcmFjdGl2ZXMubGVuZ3RoID0gdGhpcy5faW50ZXJhY3RpdmVJZCA9IDA7XG5cblx0XHRpZiAoIXRoaXMuX29iamVjdFByb2dyYW0pXG5cdFx0XHR0aGlzLmluaXRPYmplY3RQcm9ncmFtKCk7XG5cblx0XHR0aGlzLl9jb250ZXh0LnNldEJsZW5kRmFjdG9ycyhDb250ZXh0R0xCbGVuZEZhY3Rvci5PTkUsIENvbnRleHRHTEJsZW5kRmFjdG9yLlpFUk8pO1xuXHRcdHRoaXMuX2NvbnRleHQuc2V0RGVwdGhUZXN0KHRydWUsIENvbnRleHRHTENvbXBhcmVNb2RlLkxFU1MpO1xuXHRcdHRoaXMuX2NvbnRleHQuc2V0UHJvZ3JhbSh0aGlzLl9vYmplY3RQcm9ncmFtKTtcblx0XHR0aGlzLl9jb250ZXh0LnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkoQ29udGV4dEdMUHJvZ3JhbVR5cGUuVkVSVEVYLCA0LCB0aGlzLl92aWV3cG9ydERhdGEsIDEpO1xuXHRcdC8vdGhpcy5kcmF3UmVuZGVyYWJsZXMoZW50aXR5Q29sbGVjdG9yLm9wYXF1ZVJlbmRlcmFibGVIZWFkLCBjYW1lcmEpO1xuXHRcdC8vdGhpcy5kcmF3UmVuZGVyYWJsZXMoZW50aXR5Q29sbGVjdG9yLmJsZW5kZWRSZW5kZXJhYmxlSGVhZCwgY2FtZXJhKTtcblx0XHQvL1RPRE86IHJlaW1wbGVtZW50IFNoYWRlclBpY2tlciBpbmhlcml0aW5nIGZyb20gUmVuZGVyZXJCYXNlXG5cdH1cblxuXHQvKipcblx0ICogRHJhdyBhIGxpc3Qgb2YgcmVuZGVyYWJsZXMuXG5cdCAqIEBwYXJhbSByZW5kZXJhYmxlcyBUaGUgcmVuZGVyYWJsZXMgdG8gZHJhdy5cblx0ICogQHBhcmFtIGNhbWVyYSBUaGUgY2FtZXJhIGZvciB3aGljaCB0byByZW5kZXIuXG5cdCAqL1xuXHRwcml2YXRlIGRyYXdSZW5kZXJhYmxlcyhyZW5kZXJhYmxlOlJlbmRlcmFibGVCYXNlLCBjYW1lcmE6Q2FtZXJhKVxuXHR7XG5cdFx0dmFyIG1hdHJpeDpNYXRyaXgzRCA9IE1hdHJpeDNEVXRpbHMuQ0FMQ1VMQVRJT05fTUFUUklYO1xuXHRcdHZhciB2aWV3UHJvamVjdGlvbjpNYXRyaXgzRCA9IGNhbWVyYS52aWV3UHJvamVjdGlvbjtcblxuXHRcdHdoaWxlIChyZW5kZXJhYmxlKSB7XG5cdFx0XHQvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHJlbmRlcmFibGUgd2FzIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHRoZSBzY2VuZVxuXHRcdFx0aWYgKCFyZW5kZXJhYmxlLnNvdXJjZUVudGl0eS5zY2VuZSB8fCAhcmVuZGVyYWJsZS5zb3VyY2VFbnRpdHkuX2lJc01vdXNlRW5hYmxlZCgpKSB7XG5cdFx0XHRcdHJlbmRlcmFibGUgPSByZW5kZXJhYmxlLm5leHQ7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wb3RlbnRpYWxGb3VuZCA9IHRydWU7XG5cblx0XHRcdHRoaXMuX2NvbnRleHQuc2V0Q3VsbGluZygoPE1hdGVyaWFsQmFzZT4gcmVuZGVyYWJsZS5tYXRlcmlhbE93bmVyLm1hdGVyaWFsKS5ib3RoU2lkZXM/IENvbnRleHRHTFRyaWFuZ2xlRmFjZS5OT05FIDogQ29udGV4dEdMVHJpYW5nbGVGYWNlLkJBQ0ssIGNhbWVyYS5wcm9qZWN0aW9uLmNvb3JkaW5hdGVTeXN0ZW0pO1xuXG5cdFx0XHR0aGlzLl9pbnRlcmFjdGl2ZXNbdGhpcy5faW50ZXJhY3RpdmVJZCsrXSA9IHJlbmRlcmFibGU7XG5cdFx0XHQvLyBjb2xvciBjb2RlIHNvIHRoYXQgcmVhZGluZyBmcm9tIGJpdG1hcGRhdGEgd2lsbCBjb250YWluIHRoZSBjb3JyZWN0IHZhbHVlXG5cdFx0XHR0aGlzLl9pZFsxXSA9ICh0aGlzLl9pbnRlcmFjdGl2ZUlkID4+IDgpLzI1NTsgLy8gb24gZ3JlZW4gY2hhbm5lbFxuXHRcdFx0dGhpcy5faWRbMl0gPSAodGhpcy5faW50ZXJhY3RpdmVJZCAmIDB4ZmYpLzI1NTsgLy8gb24gYmx1ZSBjaGFubmVsXG5cblx0XHRcdG1hdHJpeC5jb3B5RnJvbShyZW5kZXJhYmxlLnNvdXJjZUVudGl0eS5nZXRSZW5kZXJTY2VuZVRyYW5zZm9ybShjYW1lcmEpKTtcblx0XHRcdG1hdHJpeC5hcHBlbmQodmlld1Byb2plY3Rpb24pO1xuXHRcdFx0dGhpcy5fY29udGV4dC5zZXRQcm9ncmFtQ29uc3RhbnRzRnJvbU1hdHJpeChDb250ZXh0R0xQcm9ncmFtVHlwZS5WRVJURVgsIDAsIG1hdHJpeCwgdHJ1ZSk7XG5cdFx0XHR0aGlzLl9jb250ZXh0LnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkoQ29udGV4dEdMUHJvZ3JhbVR5cGUuRlJBR01FTlQsIDAsIHRoaXMuX2lkLCAxKTtcblx0XHRcdHRoaXMuX3N0YWdlLmFjdGl2YXRlQnVmZmVyKDAsIHJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0RBVEEpLCByZW5kZXJhYmxlLmdldFZlcnRleE9mZnNldChUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0RBVEEpLCBUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0ZPUk1BVCk7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmRyYXdUcmlhbmdsZXModGhpcy5fc3RhZ2UuZ2V0SW5kZXhCdWZmZXIocmVuZGVyYWJsZS5nZXRJbmRleERhdGEoKSksIDAsIHJlbmRlcmFibGUubnVtVHJpYW5nbGVzKTtcblxuXHRcdFx0cmVuZGVyYWJsZSA9IHJlbmRlcmFibGUubmV4dDtcblx0XHR9XG5cblx0fVxuXG5cdHByaXZhdGUgdXBkYXRlUmF5KGNhbWVyYTpDYW1lcmEpXG5cdHtcblx0XHR0aGlzLl9yYXlQb3MgPSBjYW1lcmEuc2NlbmVQb3NpdGlvbjtcblxuXHRcdHRoaXMuX3JheURpciA9IGNhbWVyYS5nZXRSYXkodGhpcy5fcHJvalgsIHRoaXMuX3Byb2pZLCAxKTtcblx0XHR0aGlzLl9yYXlEaXIubm9ybWFsaXplKCk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyB0aGUgUHJvZ3JhbSB0aGF0IGNvbG9yLWNvZGVzIG9iamVjdHMuXG5cdCAqL1xuXHRwcml2YXRlIGluaXRPYmplY3RQcm9ncmFtKClcblx0e1xuXHRcdHZhciB2ZXJ0ZXhDb2RlOnN0cmluZztcblx0XHR2YXIgZnJhZ21lbnRDb2RlOnN0cmluZztcblxuXHRcdHRoaXMuX29iamVjdFByb2dyYW0gPSB0aGlzLl9jb250ZXh0LmNyZWF0ZVByb2dyYW0oKTtcblxuXHRcdHZlcnRleENvZGUgPSBcIm00NCB2dDAsIHZhMCwgdmMwXHRcdFx0XFxuXCIgKyBcIm11bCB2dDEueHksIHZ0MC53LCB2YzQuendcdFxcblwiICsgXCJhZGQgdnQwLnh5LCB2dDAueHksIHZ0MS54eVx0XFxuXCIgKyBcIm11bCB2dDAueHksIHZ0MC54eSwgdmM0Lnh5XHRcXG5cIiArIFwibW92IG9wLCB2dDBcdFxcblwiO1xuXHRcdGZyYWdtZW50Q29kZSA9IFwibW92IG9jLCBmYzBcIjsgLy8gd3JpdGUgaWRlbnRpZmllclxuXG5cdFx0RGVidWcudGhyb3dQSVIoJ1NoYWRlclBpY2tlcicsICdpbml0VHJpYW5nbGVQcm9ncmFtJywgJ0RlcGVuZGVuY3k6IGluaXRPYmplY3RQcm9ncmFtJylcblx0XHQvL19vYmplY3RQcm9ncmFtLnVwbG9hZChuZXcgQUdBTE1pbmlBc3NlbWJsZXIoKS5hc3NlbWJsZShDb250ZXh0R0xQcm9ncmFtVHlwZS5WRVJURVgsIHZlcnRleENvZGUpLG5ldyBBR0FMTWluaUFzc2VtYmxlcigpLmFzc2VtYmxlKENvbnRleHRHTFByb2dyYW1UeXBlLkZSQUdNRU5ULCBmcmFnbWVudENvZGUpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBQcm9ncmFtIHRoYXQgcmVuZGVycyBwb3NpdGlvbnMuXG5cdCAqL1xuXG5cdHByaXZhdGUgaW5pdFRyaWFuZ2xlUHJvZ3JhbSgpXG5cdHtcblx0XHR2YXIgdmVydGV4Q29kZTpzdHJpbmc7XG5cdFx0dmFyIGZyYWdtZW50Q29kZTpzdHJpbmc7XG5cblx0XHR0aGlzLl90cmlhbmdsZVByb2dyYW0gPSB0aGlzLl9jb250ZXh0LmNyZWF0ZVByb2dyYW0oKTtcblxuXHRcdC8vIHRvZG86IGFkZCBhbmltYXRpb24gY29kZVxuXHRcdHZlcnRleENvZGUgPSBcImFkZCB2dDAsIHZhMCwgdmM1IFx0XHRcdFxcblwiICsgXCJtdWwgdnQwLCB2dDAsIHZjNiBcdFx0XHRcXG5cIiArIFwibW92IHYwLCB2dDBcdFx0XHRcdFxcblwiICsgXCJtNDQgdnQwLCB2YTAsIHZjMFx0XHRcdFxcblwiICsgXCJtdWwgdnQxLnh5LCB2dDAudywgdmM0Lnp3XHRcXG5cIiArIFwiYWRkIHZ0MC54eSwgdnQwLnh5LCB2dDEueHlcdFxcblwiICsgXCJtdWwgdnQwLnh5LCB2dDAueHksIHZjNC54eVx0XFxuXCIgKyBcIm1vdiBvcCwgdnQwXHRcXG5cIjtcblx0XHRmcmFnbWVudENvZGUgPSBcIm1vdiBvYywgdjBcIjsgLy8gd3JpdGUgaWRlbnRpZmllclxuXG5cdFx0dmFyIHZlcnRleEJ5dGVDb2RlOkJ5dGVBcnJheSA9IChuZXcgQUdBTE1pbmlBc3NlbWJsZXIoKS5hc3NlbWJsZShcInBhcnQgdmVydGV4IDFcXG5cIiArIHZlcnRleENvZGUgKyBcImVuZHBhcnRcIikpWyd2ZXJ0ZXgnXS5kYXRhO1xuXHRcdHZhciBmcmFnbWVudEJ5dGVDb2RlOkJ5dGVBcnJheSA9IChuZXcgQUdBTE1pbmlBc3NlbWJsZXIoKS5hc3NlbWJsZShcInBhcnQgZnJhZ21lbnQgMVxcblwiICsgZnJhZ21lbnRDb2RlICsgXCJlbmRwYXJ0XCIpKVsnZnJhZ21lbnQnXS5kYXRhO1xuXHRcdHRoaXMuX3RyaWFuZ2xlUHJvZ3JhbS51cGxvYWQodmVydGV4Qnl0ZUNvZGUsIGZyYWdtZW50Qnl0ZUNvZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGlyIHBvc2l0aW9uLCBpZiByZXF1aXJlZC5cblx0ICogQHBhcmFtIGNhbWVyYSBUaGUgY2FtZXJhIHVzZWQgdG8gdmlldyB0aGUgaGl0IG9iamVjdC5cblx0ICovXG5cdHByaXZhdGUgZ2V0SGl0RGV0YWlscyhjYW1lcmE6Q2FtZXJhKVxuXHR7XG5cdFx0dGhpcy5nZXRBcHByb3hpbWF0ZVBvc2l0aW9uKGNhbWVyYSk7XG5cdFx0dGhpcy5nZXRQcmVjaXNlRGV0YWlscyhjYW1lcmEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZpbmRzIGEgZmlyc3QtZ3Vlc3MgYXBwcm94aW1hdGUgcG9zaXRpb24gYWJvdXQgdGhlIGhpdCBwb3NpdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIGNhbWVyYSBUaGUgY2FtZXJhIHVzZWQgdG8gdmlldyB0aGUgaGl0IG9iamVjdC5cblx0ICovXG5cdHByaXZhdGUgZ2V0QXBwcm94aW1hdGVQb3NpdGlvbihjYW1lcmE6Q2FtZXJhKVxuXHR7XG5cdFx0dmFyIGJvdW5kczpCb3ggPSB0aGlzLl9oaXRSZW5kZXJhYmxlLnNvdXJjZUVudGl0eS5ib3VuZHMuYWFiYjtcblx0XHR2YXIgY29sOm51bWJlcjtcblx0XHR2YXIgc2NYOm51bWJlciwgc2NZOm51bWJlciwgc2NaOm51bWJlcjtcblx0XHR2YXIgb2Zmc1g6bnVtYmVyLCBvZmZzWTpudW1iZXIsIG9mZnNaOm51bWJlcjtcblx0XHR2YXIgbG9jYWxWaWV3UHJvamVjdGlvbjpNYXRyaXgzRCA9IE1hdHJpeDNEVXRpbHMuQ0FMQ1VMQVRJT05fTUFUUklYO1xuXG5cdFx0bG9jYWxWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLl9oaXRSZW5kZXJhYmxlLnNvdXJjZUVudGl0eS5nZXRSZW5kZXJTY2VuZVRyYW5zZm9ybShjYW1lcmEpKTtcblx0XHRsb2NhbFZpZXdQcm9qZWN0aW9uLmFwcGVuZChjYW1lcmEudmlld1Byb2plY3Rpb24pO1xuXHRcdGlmICghdGhpcy5fdHJpYW5nbGVQcm9ncmFtKSB7XG5cdFx0XHR0aGlzLmluaXRUcmlhbmdsZVByb2dyYW0oKTtcblx0XHR9XG5cblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlWzRdID0gMS8oc2NYID0gYm91bmRzLndpZHRoKTtcblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlWzVdID0gMS8oc2NZID0gYm91bmRzLmhlaWdodCk7XG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZVs2XSA9IDEvKHNjWiA9IGJvdW5kcy5kZXB0aCk7XG5cdFx0dGhpcy5fYm91bmRPZmZzZXRTY2FsZVswXSA9IG9mZnNYID0gLWJvdW5kcy54O1xuXHRcdHRoaXMuX2JvdW5kT2Zmc2V0U2NhbGVbMV0gPSBvZmZzWSA9IC1ib3VuZHMueTtcblx0XHR0aGlzLl9ib3VuZE9mZnNldFNjYWxlWzJdID0gb2Zmc1ogPSAtYm91bmRzLno7XG5cblx0XHR0aGlzLl9jb250ZXh0LnNldFByb2dyYW0odGhpcy5fdHJpYW5nbGVQcm9ncmFtKTtcblx0XHR0aGlzLl9jb250ZXh0LmNsZWFyKDAsIDAsIDAsIDAsIDEsIDAsIENvbnRleHRHTENsZWFyTWFzay5ERVBUSCk7XG5cdFx0dGhpcy5fY29udGV4dC5zZXRTY2lzc29yUmVjdGFuZ2xlKFNoYWRlclBpY2tlci5NT1VTRV9TQ0lTU09SX1JFQ1QpO1xuXHRcdHRoaXMuX2NvbnRleHQuc2V0UHJvZ3JhbUNvbnN0YW50c0Zyb21NYXRyaXgoQ29udGV4dEdMUHJvZ3JhbVR5cGUuVkVSVEVYLCAwLCBsb2NhbFZpZXdQcm9qZWN0aW9uLCB0cnVlKTtcblx0XHR0aGlzLl9jb250ZXh0LnNldFByb2dyYW1Db25zdGFudHNGcm9tQXJyYXkoQ29udGV4dEdMUHJvZ3JhbVR5cGUuVkVSVEVYLCA1LCB0aGlzLl9ib3VuZE9mZnNldFNjYWxlLCAyKTtcblxuXHRcdHRoaXMuX3N0YWdlLmFjdGl2YXRlQnVmZmVyKDAsIHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0RBVEEpLCB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleE9mZnNldChUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0RBVEEpLCBUcmlhbmdsZVN1Ykdlb21ldHJ5LlBPU0lUSU9OX0ZPUk1BVCk7XG5cdFx0dGhpcy5fY29udGV4dC5kcmF3VHJpYW5nbGVzKHRoaXMuX3N0YWdlLmdldEluZGV4QnVmZmVyKHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0SW5kZXhEYXRhKCkpLCAwLCB0aGlzLl9oaXRSZW5kZXJhYmxlLm51bVRyaWFuZ2xlcyk7XG5cblx0XHR0aGlzLl9jb250ZXh0LmRyYXdUb0JpdG1hcERhdGEodGhpcy5fYml0bWFwRGF0YSk7XG5cblx0XHRjb2wgPSB0aGlzLl9iaXRtYXBEYXRhLmdldFBpeGVsKDAsIDApO1xuXG5cdFx0dGhpcy5fbG9jYWxIaXRQb3NpdGlvbi54ID0gKChjb2wgPj4gMTYpICYgMHhmZikqc2NYLzI1NSAtIG9mZnNYO1xuXHRcdHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueSA9ICgoY29sID4+IDgpICYgMHhmZikqc2NZLzI1NSAtIG9mZnNZO1xuXHRcdHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueiA9IChjb2wgJiAweGZmKSpzY1ovMjU1IC0gb2Zmc1o7XG5cdH1cblxuXHQvKipcblx0ICogVXNlIHRoZSBhcHByb3hpbWF0ZSBwb3NpdGlvbiBpbmZvIHRvIGZpbmQgdGhlIGZhY2UgdW5kZXIgdGhlIG1vdXNlIHBvc2l0aW9uIGZyb20gd2hpY2ggd2UgY2FuIGRlcml2ZSB0aGUgcHJlY2lzZVxuXHQgKiByYXktZmFjZSBpbnRlcnNlY3Rpb24gcG9pbnQsIHRoZW4gdXNlIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIHRvIGZpZ3VyZSBvdXQgdGhlIHV2IGNvb3JkaW5hdGVzLCBldGMuXG5cdCAqIEBwYXJhbSBjYW1lcmEgVGhlIGNhbWVyYSB1c2VkIHRvIHZpZXcgdGhlIGhpdCBvYmplY3QuXG5cdCAqL1xuXHRwcml2YXRlIGdldFByZWNpc2VEZXRhaWxzKGNhbWVyYTpDYW1lcmEpXG5cdHtcblx0XHR2YXIgbGVuOm51bWJlciA9IGluZGljZXMubGVuZ3RoO1xuXHRcdHZhciB4MTpudW1iZXIsIHkxOm51bWJlciwgejE6bnVtYmVyO1xuXHRcdHZhciB4MjpudW1iZXIsIHkyOm51bWJlciwgejI6bnVtYmVyO1xuXHRcdHZhciB4MzpudW1iZXIsIHkzOm51bWJlciwgejM6bnVtYmVyO1xuXHRcdHZhciBpOm51bWJlciA9IDAsIGo6bnVtYmVyID0gMSwgazpudW1iZXIgPSAyO1xuXHRcdHZhciB0MTpudW1iZXIsIHQyOm51bWJlciwgdDM6bnVtYmVyO1xuXHRcdHZhciB2MHg6bnVtYmVyLCB2MHk6bnVtYmVyLCB2MHo6bnVtYmVyO1xuXHRcdHZhciB2MXg6bnVtYmVyLCB2MXk6bnVtYmVyLCB2MXo6bnVtYmVyO1xuXHRcdHZhciB2Mng6bnVtYmVyLCB2Mnk6bnVtYmVyLCB2Mno6bnVtYmVyO1xuXHRcdHZhciBuaTE6bnVtYmVyLCBuaTI6bnVtYmVyLCBuaTM6bnVtYmVyO1xuXHRcdHZhciBuMTpudW1iZXIsIG4yOm51bWJlciwgbjM6bnVtYmVyLCBuTGVuZ3RoOm51bWJlcjtcblx0XHR2YXIgZG90MDA6bnVtYmVyLCBkb3QwMTpudW1iZXIsIGRvdDAyOm51bWJlciwgZG90MTE6bnVtYmVyLCBkb3QxMjpudW1iZXI7XG5cdFx0dmFyIHM6bnVtYmVyLCB0Om51bWJlciwgaW52RGVub206bnVtYmVyO1xuXHRcdHZhciB4Om51bWJlciA9IHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueCwgeTpudW1iZXIgPSB0aGlzLl9sb2NhbEhpdFBvc2l0aW9uLnksIHo6bnVtYmVyID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi56O1xuXHRcdHZhciB1Om51bWJlciwgdjpudW1iZXI7XG5cdFx0dmFyIHVpMTpudW1iZXIsIHVpMjpudW1iZXIsIHVpMzpudW1iZXI7XG5cdFx0dmFyIHMweDpudW1iZXIsIHMweTpudW1iZXIsIHMwejpudW1iZXI7XG5cdFx0dmFyIHMxeDpudW1iZXIsIHMxeTpudW1iZXIsIHMxejpudW1iZXI7XG5cdFx0dmFyIG5sOm51bWJlcjtcblx0XHR2YXIgaW5kaWNlczpBcnJheTxudW1iZXI+ID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRJbmRleERhdGEoKS5kYXRhO1xuXG5cdFx0dmFyIHBvc2l0aW9uczpBcnJheTxudW1iZXI+ID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuUE9TSVRJT05fREFUQSkuZGF0YTtcblx0XHR2YXIgcG9zaXRpb25TdHJpZGU6bnVtYmVyID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuUE9TSVRJT05fREFUQSkuZGF0YVBlclZlcnRleDtcblx0XHR2YXIgcG9zaXRpb25PZmZzZXQ6bnVtYmVyID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhPZmZzZXQoVHJpYW5nbGVTdWJHZW9tZXRyeS5QT1NJVElPTl9EQVRBKTtcblxuXHRcdHZhciB1dnM6QXJyYXk8bnVtYmVyPiA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlVWX0RBVEEpLmRhdGE7XG5cdFx0dmFyIHV2U3RyaWRlOm51bWJlciA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4RGF0YShUcmlhbmdsZVN1Ykdlb21ldHJ5LlVWX0RBVEEpLmRhdGFQZXJWZXJ0ZXg7XG5cdFx0dmFyIHV2T2Zmc2V0Om51bWJlciA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4T2Zmc2V0KFRyaWFuZ2xlU3ViR2VvbWV0cnkuVVZfREFUQSk7XG5cblx0XHR2YXIgbm9ybWFsczpBcnJheTxudW1iZXI+ID0gdGhpcy5faGl0UmVuZGVyYWJsZS5nZXRWZXJ0ZXhEYXRhKFRyaWFuZ2xlU3ViR2VvbWV0cnkuTk9STUFMX0RBVEEpLmRhdGE7XG5cdFx0dmFyIG5vcm1hbFN0cmlkZTpudW1iZXIgPSB0aGlzLl9oaXRSZW5kZXJhYmxlLmdldFZlcnRleERhdGEoVHJpYW5nbGVTdWJHZW9tZXRyeS5OT1JNQUxfREFUQSkuZGF0YVBlclZlcnRleDtcblx0XHR2YXIgbm9ybWFsT2Zmc2V0Om51bWJlciA9IHRoaXMuX2hpdFJlbmRlcmFibGUuZ2V0VmVydGV4T2Zmc2V0KFRyaWFuZ2xlU3ViR2VvbWV0cnkuTk9STUFMX0RBVEEpO1xuXG5cdFx0dGhpcy51cGRhdGVSYXkoY2FtZXJhKTtcblxuXHRcdHdoaWxlIChpIDwgbGVuKSB7XG5cdFx0XHR0MSA9IHBvc2l0aW9uT2Zmc2V0ICsgaW5kaWNlc1tpXSpwb3NpdGlvblN0cmlkZTtcblx0XHRcdHQyID0gcG9zaXRpb25PZmZzZXQgKyBpbmRpY2VzW2pdKnBvc2l0aW9uU3RyaWRlO1xuXHRcdFx0dDMgPSBwb3NpdGlvbk9mZnNldCArIGluZGljZXNba10qcG9zaXRpb25TdHJpZGU7XG5cdFx0XHR4MSA9IHBvc2l0aW9uc1t0MV07XG5cdFx0XHR5MSA9IHBvc2l0aW9uc1t0MSArIDFdO1xuXHRcdFx0ejEgPSBwb3NpdGlvbnNbdDEgKyAyXTtcblx0XHRcdHgyID0gcG9zaXRpb25zW3QyXTtcblx0XHRcdHkyID0gcG9zaXRpb25zW3QyICsgMV07XG5cdFx0XHR6MiA9IHBvc2l0aW9uc1t0MiArIDJdO1xuXHRcdFx0eDMgPSBwb3NpdGlvbnNbdDNdO1xuXHRcdFx0eTMgPSBwb3NpdGlvbnNbdDMgKyAxXTtcblx0XHRcdHozID0gcG9zaXRpb25zW3QzICsgMl07XG5cblx0XHRcdC8vIGlmIHdpdGhpbiBib3VuZHNcblx0XHRcdGlmICghKCAgICAoeCA8IHgxICYmIHggPCB4MiAmJiB4IDwgeDMpIHx8ICh5IDwgeTEgJiYgeSA8IHkyICYmIHkgPCB5MykgfHwgKHogPCB6MSAmJiB6IDwgejIgJiYgeiA8IHozKSB8fCAoeCA+IHgxICYmIHggPiB4MiAmJiB4ID4geDMpIHx8ICh5ID4geTEgJiYgeSA+IHkyICYmIHkgPiB5MykgfHwgKHogPiB6MSAmJiB6ID4gejIgJiYgeiA+IHozKSkpIHtcblxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgYmFyeWNlbnRyaWMgY29vcmRzIGZvciBhcHByb3hpbWF0ZWQgcG9zaXRpb25cblx0XHRcdFx0djB4ID0geDMgLSB4MTtcblx0XHRcdFx0djB5ID0geTMgLSB5MTtcblx0XHRcdFx0djB6ID0gejMgLSB6MTtcblx0XHRcdFx0djF4ID0geDIgLSB4MTtcblx0XHRcdFx0djF5ID0geTIgLSB5MTtcblx0XHRcdFx0djF6ID0gejIgLSB6MTtcblx0XHRcdFx0djJ4ID0geCAtIHgxO1xuXHRcdFx0XHR2MnkgPSB5IC0geTE7XG5cdFx0XHRcdHYyeiA9IHogLSB6MTtcblx0XHRcdFx0ZG90MDAgPSB2MHgqdjB4ICsgdjB5KnYweSArIHYweip2MHo7XG5cdFx0XHRcdGRvdDAxID0gdjB4KnYxeCArIHYweSp2MXkgKyB2MHoqdjF6O1xuXHRcdFx0XHRkb3QwMiA9IHYweCp2MnggKyB2MHkqdjJ5ICsgdjB6KnYyejtcblx0XHRcdFx0ZG90MTEgPSB2MXgqdjF4ICsgdjF5KnYxeSArIHYxeip2MXo7XG5cdFx0XHRcdGRvdDEyID0gdjF4KnYyeCArIHYxeSp2MnkgKyB2MXoqdjJ6O1xuXHRcdFx0XHRpbnZEZW5vbSA9IDEvKGRvdDAwKmRvdDExIC0gZG90MDEqZG90MDEpO1xuXHRcdFx0XHRzID0gKGRvdDExKmRvdDAyIC0gZG90MDEqZG90MTIpKmludkRlbm9tO1xuXHRcdFx0XHR0ID0gKGRvdDAwKmRvdDEyIC0gZG90MDEqZG90MDIpKmludkRlbm9tO1xuXG5cdFx0XHRcdC8vIGlmIGluc2lkZSB0aGUgY3VycmVudCB0cmlhbmdsZSwgZmV0Y2ggZGV0YWlscyBoaXQgaW5mb3JtYXRpb25cblx0XHRcdFx0aWYgKHMgPj0gMCAmJiB0ID49IDAgJiYgKHMgKyB0KSA8PSAxKSB7XG5cblx0XHRcdFx0XHRuaTEgPSBub3JtYWxPZmZzZXQgKyBpbmRpY2VzW2ldKm5vcm1hbFN0cmlkZTtcblx0XHRcdFx0XHRuaTIgPSBub3JtYWxPZmZzZXQgKyBpbmRpY2VzW2pdKm5vcm1hbFN0cmlkZTtcblx0XHRcdFx0XHRuaTMgPSBub3JtYWxPZmZzZXQgKyBpbmRpY2VzW2tdKm5vcm1hbFN0cmlkZTtcblxuXHRcdFx0XHRcdG4xID0gaW5kaWNlc1tuaTFdICsgaW5kaWNlc1tuaTJdICsgaW5kaWNlc1tuaTNdO1xuXHRcdFx0XHRcdG4yID0gaW5kaWNlc1tuaTEgKyAxXSArIGluZGljZXNbbmkyICsgMV0gKyBpbmRpY2VzW25pMyArIDFdO1xuXHRcdFx0XHRcdG4zID0gaW5kaWNlc1tuaTEgKyAyXSArIGluZGljZXNbbmkyICsgMl0gKyBpbmRpY2VzW25pMyArIDJdO1xuXG5cdFx0XHRcdFx0bkxlbmd0aCA9IE1hdGguc3FydChuMSpuMSArIG4yKm4yICsgbjMqbjMpO1xuXG5cdFx0XHRcdFx0bjEgLz0gbkxlbmd0aDtcblx0XHRcdFx0XHRuMiAvPSBuTGVuZ3RoO1xuXHRcdFx0XHRcdG4zIC89IG5MZW5ndGg7XG5cblx0XHRcdFx0XHQvLyB0aGlzIGlzIGRlZiB0aGUgdHJpYW5nbGUsIG5vdyBjYWxjdWxhdGUgcHJlY2lzZSBjb29yZHNcblx0XHRcdFx0XHR0aGlzLmdldFByZWNpc2VQb3NpdGlvbih0aGlzLl9oaXRSZW5kZXJhYmxlLnNvdXJjZUVudGl0eS5pbnZlcnNlU2NlbmVUcmFuc2Zvcm0sIG4xLCBuMiwgbjMsIHgxLCB5MSwgejEpO1xuXG5cdFx0XHRcdFx0djJ4ID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi54IC0geDE7XG5cdFx0XHRcdFx0djJ5ID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi55IC0geTE7XG5cdFx0XHRcdFx0djJ6ID0gdGhpcy5fbG9jYWxIaXRQb3NpdGlvbi56IC0gejE7XG5cblx0XHRcdFx0XHRzMHggPSB4MiAtIHgxOyAvLyBzMCA9IHAxIC0gcDBcblx0XHRcdFx0XHRzMHkgPSB5MiAtIHkxO1xuXHRcdFx0XHRcdHMweiA9IHoyIC0gejE7XG5cdFx0XHRcdFx0czF4ID0geDMgLSB4MTsgLy8gczEgPSBwMiAtIHAwXG5cdFx0XHRcdFx0czF5ID0geTMgLSB5MTtcblx0XHRcdFx0XHRzMXogPSB6MyAtIHoxO1xuXHRcdFx0XHRcdHRoaXMuX2xvY2FsSGl0Tm9ybWFsLnggPSBzMHkqczF6IC0gczB6KnMxeTsgLy8gbiA9IHMwIHggczFcblx0XHRcdFx0XHR0aGlzLl9sb2NhbEhpdE5vcm1hbC55ID0gczB6KnMxeCAtIHMweCpzMXo7XG5cdFx0XHRcdFx0dGhpcy5fbG9jYWxIaXROb3JtYWwueiA9IHMweCpzMXkgLSBzMHkqczF4O1xuXHRcdFx0XHRcdG5sID0gMS9NYXRoLnNxcnQodGhpcy5fbG9jYWxIaXROb3JtYWwueCp0aGlzLl9sb2NhbEhpdE5vcm1hbC54ICsgdGhpcy5fbG9jYWxIaXROb3JtYWwueSp0aGlzLl9sb2NhbEhpdE5vcm1hbC55ICsgdGhpcy5fbG9jYWxIaXROb3JtYWwueip0aGlzLl9sb2NhbEhpdE5vcm1hbC56KTsgLy8gbm9ybWFsaXplIG5cblx0XHRcdFx0XHR0aGlzLl9sb2NhbEhpdE5vcm1hbC54ICo9IG5sO1xuXHRcdFx0XHRcdHRoaXMuX2xvY2FsSGl0Tm9ybWFsLnkgKj0gbmw7XG5cdFx0XHRcdFx0dGhpcy5fbG9jYWxIaXROb3JtYWwueiAqPSBubDtcblxuXHRcdFx0XHRcdGRvdDAyID0gdjB4KnYyeCArIHYweSp2MnkgKyB2MHoqdjJ6O1xuXHRcdFx0XHRcdGRvdDEyID0gdjF4KnYyeCArIHYxeSp2MnkgKyB2MXoqdjJ6O1xuXHRcdFx0XHRcdHMgPSAoZG90MTEqZG90MDIgLSBkb3QwMSpkb3QxMikqaW52RGVub207XG5cdFx0XHRcdFx0dCA9IChkb3QwMCpkb3QxMiAtIGRvdDAxKmRvdDAyKSppbnZEZW5vbTtcblxuXHRcdFx0XHRcdHVpMSA9IHV2T2Zmc2V0ICsgaW5kaWNlc1tpXSp1dlN0cmlkZVxuXHRcdFx0XHRcdHVpMiA9IHV2T2Zmc2V0ICsgaW5kaWNlc1tqXSp1dlN0cmlkZVxuXHRcdFx0XHRcdHVpMyA9IHV2T2Zmc2V0ICsgaW5kaWNlc1trXSp1dlN0cmlkZVxuXG5cdFx0XHRcdFx0dSA9IHV2c1t1aTFdO1xuXHRcdFx0XHRcdHYgPSB1dnNbdWkxICsgMV07XG5cdFx0XHRcdFx0dGhpcy5faGl0VVYueCA9IHUgKyB0Kih1dnNbdWkyXSAtIHUpICsgcyoodXZzW3VpM10gLSB1KTtcblx0XHRcdFx0XHR0aGlzLl9oaXRVVi55ID0gdiArIHQqKHV2c1t1aTIgKyAxXSAtIHYpICsgcyoodXZzW3VpMyArIDFdIC0gdik7XG5cblx0XHRcdFx0XHR0aGlzLl9mYWNlSW5kZXggPSBpO1xuXHRcdFx0XHRcdC8vVE9ETyBhZGQgYmFjayBzdWJHZW9tZXRyeUluZGV4IHZhbHVlXG5cdFx0XHRcdFx0Ly90aGlzLl9zdWJHZW9tZXRyeUluZGV4ID0gYXdheS51dGlscy5HZW9tZXRyeVV0aWxzLmdldE1lc2hTdWJHZW9tZXRyeUluZGV4KHN1Ykdlb20pO1xuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGkgKz0gMztcblx0XHRcdGogKz0gMztcblx0XHRcdGsgKz0gMztcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRmluZHMgdGhlIHByZWNpc2UgaGl0IHBvc2l0aW9uIGJ5IHVucHJvamVjdGluZyB0aGUgc2NyZWVuIGNvb3JkaW5hdGUgYmFjayB1bnRvIHRoZSBoaXQgZmFjZSdzIHBsYW5lIGFuZFxuXHQgKiBjYWxjdWxhdGluZyB0aGUgaW50ZXJzZWN0aW9uIHBvaW50LlxuXHQgKiBAcGFyYW0gY2FtZXJhIFRoZSBjYW1lcmEgdXNlZCB0byByZW5kZXIgdGhlIG9iamVjdC5cblx0ICogQHBhcmFtIGludlNjZW5lVHJhbnNmb3JtIFRoZSBpbnZlcnNlIHNjZW5lIHRyYW5zZm9ybWF0aW9uIG9mIHRoZSBoaXQgb2JqZWN0LlxuXHQgKiBAcGFyYW0gbnggVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmFjZSdzIHBsYW5lIG5vcm1hbC5cblx0ICogQHBhcmFtIG55IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGZhY2UgcGxhbmUgbm9ybWFsLlxuXHQgKiBAcGFyYW0gbnogVGhlIHotY29vcmRpbmF0ZSBvZiB0aGUgZmFjZSBwbGFuZSBub3JtYWwuXG5cdCAqIEBwYXJhbSBweCBUaGUgeC1jb29yZGluYXRlIG9mIGEgcG9pbnQgb24gdGhlIGZhY2UncyBwbGFuZSAoaWUgYSBmYWNlIHZlcnRleClcblx0ICogQHBhcmFtIHB5IFRoZSB5LWNvb3JkaW5hdGUgb2YgYSBwb2ludCBvbiB0aGUgZmFjZSdzIHBsYW5lIChpZSBhIGZhY2UgdmVydGV4KVxuXHQgKiBAcGFyYW0gcHogVGhlIHotY29vcmRpbmF0ZSBvZiBhIHBvaW50IG9uIHRoZSBmYWNlJ3MgcGxhbmUgKGllIGEgZmFjZSB2ZXJ0ZXgpXG5cdCAqL1xuXG5cdHByaXZhdGUgZ2V0UHJlY2lzZVBvc2l0aW9uKGludlNjZW5lVHJhbnNmb3JtOk1hdHJpeDNELCBueDpudW1iZXIsIG55Om51bWJlciwgbno6bnVtYmVyLCBweDpudW1iZXIsIHB5Om51bWJlciwgcHo6bnVtYmVyKVxuXHR7XG5cdFx0Ly8gY2FsY3VsYXRlIHNjcmVlbiByYXkgYW5kIGZpbmQgZXhhY3QgaW50ZXJzZWN0aW9uIHBvc2l0aW9uIHdpdGggdHJpYW5nbGVcblx0XHR2YXIgcng6bnVtYmVyLCByeTpudW1iZXIsIHJ6Om51bWJlcjtcblx0XHR2YXIgb3g6bnVtYmVyLCBveTpudW1iZXIsIG96Om51bWJlcjtcblx0XHR2YXIgdDpudW1iZXI7XG5cdFx0dmFyIHJhdzpBcnJheTxudW1iZXI+ID0gTWF0cml4M0RVdGlscy5SQVdfREFUQV9DT05UQUlORVI7XG5cdFx0dmFyIGN4Om51bWJlciA9IHRoaXMuX3JheVBvcy54LCBjeTpudW1iZXIgPSB0aGlzLl9yYXlQb3MueSwgY3o6bnVtYmVyID0gdGhpcy5fcmF5UG9zLno7XG5cblx0XHQvLyB1bnByb2plY3RlZCBwcm9qZWN0aW9uIHBvaW50LCBnaXZlcyByYXkgZGlyIGluIGNhbSBzcGFjZVxuXHRcdG94ID0gdGhpcy5fcmF5RGlyLng7XG5cdFx0b3kgPSB0aGlzLl9yYXlEaXIueTtcblx0XHRveiA9IHRoaXMuX3JheURpci56O1xuXG5cdFx0Ly8gdHJhbnNmb3JtIHJheSBkaXIgYW5kIG9yaWdpbiAoY2FtIHBvcykgdG8gb2JqZWN0IHNwYWNlXG5cdFx0Ly9pbnZTY2VuZVRyYW5zZm9ybS5jb3B5UmF3RGF0YVRvKCByYXcgICk7XG5cdFx0aW52U2NlbmVUcmFuc2Zvcm0uY29weVJhd0RhdGFUbyhyYXcpO1xuXHRcdHJ4ID0gcmF3WzBdKm94ICsgcmF3WzRdKm95ICsgcmF3WzhdKm96O1xuXHRcdHJ5ID0gcmF3WzFdKm94ICsgcmF3WzVdKm95ICsgcmF3WzldKm96O1xuXHRcdHJ6ID0gcmF3WzJdKm94ICsgcmF3WzZdKm95ICsgcmF3WzEwXSpvejtcblxuXHRcdG94ID0gcmF3WzBdKmN4ICsgcmF3WzRdKmN5ICsgcmF3WzhdKmN6ICsgcmF3WzEyXTtcblx0XHRveSA9IHJhd1sxXSpjeCArIHJhd1s1XSpjeSArIHJhd1s5XSpjeiArIHJhd1sxM107XG5cdFx0b3ogPSByYXdbMl0qY3ggKyByYXdbNl0qY3kgKyByYXdbMTBdKmN6ICsgcmF3WzE0XTtcblxuXHRcdHQgPSAoKHB4IC0gb3gpKm54ICsgKHB5IC0gb3kpKm55ICsgKHB6IC0gb3opKm56KS8ocngqbnggKyByeSpueSArIHJ6Km56KTtcblxuXHRcdHRoaXMuX2xvY2FsSGl0UG9zaXRpb24ueCA9IG94ICsgcngqdDtcblx0XHR0aGlzLl9sb2NhbEhpdFBvc2l0aW9uLnkgPSBveSArIHJ5KnQ7XG5cdFx0dGhpcy5fbG9jYWxIaXRQb3NpdGlvbi56ID0gb3ogKyByeip0O1xuXHR9XG5cblx0cHVibGljIGRpc3Bvc2UoKVxuXHR7XG5cdFx0dGhpcy5fYml0bWFwRGF0YS5kaXNwb3NlKCk7XG5cdFx0aWYgKHRoaXMuX3RyaWFuZ2xlUHJvZ3JhbSlcblx0XHRcdHRoaXMuX3RyaWFuZ2xlUHJvZ3JhbS5kaXNwb3NlKCk7XG5cblx0XHRpZiAodGhpcy5fb2JqZWN0UHJvZ3JhbSlcblx0XHRcdHRoaXMuX29iamVjdFByb2dyYW0uZGlzcG9zZSgpO1xuXG5cdFx0dGhpcy5fdHJpYW5nbGVQcm9ncmFtID0gbnVsbDtcblx0XHR0aGlzLl9vYmplY3RQcm9ncmFtID0gbnVsbDtcblx0XHR0aGlzLl9iaXRtYXBEYXRhID0gbnVsbDtcblx0XHR0aGlzLl9oaXRSZW5kZXJhYmxlID0gbnVsbDtcblx0XHR0aGlzLl9oaXRFbnRpdHkgPSBudWxsO1xuXHR9XG59XG5cbmV4cG9ydCA9IFNoYWRlclBpY2tlcjsiXX0=